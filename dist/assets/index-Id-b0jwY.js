(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Kp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ju={exports:{}},Io={},Yu={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cr=Symbol.for("react.element"),Qp=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),r0=Symbol.for("react.suspense"),o0=Symbol.for("react.memo"),i0=Symbol.for("react.lazy"),dc=Symbol.iterator;function l0(e){return e===null||typeof e!="object"?null:(e=dc&&e[dc]||e["@@iterator"],typeof e=="function"?e:null)}var Ou={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ku=Object.assign,Qu={};function cs(e,t,n){this.props=e,this.context=t,this.refs=Qu,this.updater=n||Ou}cs.prototype.isReactComponent={};cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xu(){}Xu.prototype=cs.prototype;function Jl(e,t,n){this.props=e,this.context=t,this.refs=Qu,this.updater=n||Ou}var Yl=Jl.prototype=new Xu;Yl.constructor=Jl;Ku(Yl,cs.prototype);Yl.isPureReactComponent=!0;var uc=Array.isArray,Zu=Object.prototype.hasOwnProperty,Ol={current:null},ef={key:!0,ref:!0,__self:!0,__source:!0};function tf(e,t,n){var s,o={},i=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Zu.call(t,s)&&!ef.hasOwnProperty(s)&&(o[s]=t[s]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var f=Array(c),u=0;u<c;u++)f[u]=arguments[u+2];o.children=f}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)o[s]===void 0&&(o[s]=c[s]);return{$$typeof:cr,type:e,key:i,ref:l,props:o,_owner:Ol.current}}function a0(e,t){return{$$typeof:cr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kl(e){return typeof e=="object"&&e!==null&&e.$$typeof===cr}function c0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fc=/\/+/g;function ci(e,t){return typeof e=="object"&&e!==null&&e.key!=null?c0(""+e.key):t.toString(36)}function Br(e,t,n,s,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case cr:case Qp:l=!0}}if(l)return l=e,o=o(l),e=s===""?"."+ci(l,0):s,uc(o)?(n="",e!=null&&(n=e.replace(fc,"$&/")+"/"),Br(o,t,n,"",function(u){return u})):o!=null&&(Kl(o)&&(o=a0(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(fc,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=s===""?".":s+":",uc(e))for(var c=0;c<e.length;c++){i=e[c];var f=s+ci(i,c);l+=Br(i,t,n,f,o)}else if(f=l0(e),typeof f=="function")for(e=f.call(e),c=0;!(i=e.next()).done;)i=i.value,f=s+ci(i,c++),l+=Br(i,t,n,f,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Nr(e,t,n){if(e==null)return e;var s=[],o=0;return Br(e,s,"","",function(i){return t.call(n,i,o++)}),s}function d0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},zr={transition:null},u0={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:zr,ReactCurrentOwner:Ol};function nf(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Nr,forEach:function(e,t,n){Nr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nr(e,function(){t++}),t},toArray:function(e){return Nr(e,function(t){return t})||[]},only:function(e){if(!Kl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=cs;z.Fragment=Xp;z.Profiler=e0;z.PureComponent=Jl;z.StrictMode=Zp;z.Suspense=r0;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u0;z.act=nf;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ku({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Ol.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in t)Zu.call(t,f)&&!ef.hasOwnProperty(f)&&(s[f]=t[f]===void 0&&c!==void 0?c[f]:t[f])}var f=arguments.length-2;if(f===1)s.children=n;else if(1<f){c=Array(f);for(var u=0;u<f;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:cr,type:e.type,key:o,ref:i,props:s,_owner:l}};z.createContext=function(e){return e={$$typeof:n0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t0,_context:e},e.Consumer=e};z.createElement=tf;z.createFactory=function(e){var t=tf.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:s0,render:e}};z.isValidElement=Kl;z.lazy=function(e){return{$$typeof:i0,_payload:{_status:-1,_result:e},_init:d0}};z.memo=function(e,t){return{$$typeof:o0,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=zr.transition;zr.transition={};try{e()}finally{zr.transition=t}};z.unstable_act=nf;z.useCallback=function(e,t){return Fe.current.useCallback(e,t)};z.useContext=function(e){return Fe.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};z.useEffect=function(e,t){return Fe.current.useEffect(e,t)};z.useId=function(){return Fe.current.useId()};z.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return Fe.current.useMemo(e,t)};z.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};z.useRef=function(e){return Fe.current.useRef(e)};z.useState=function(e){return Fe.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return Fe.current.useTransition()};z.version="18.3.1";Yu.exports=z;var w=Yu.exports;const eo=Kp(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=w,m0=Symbol.for("react.element"),h0=Symbol.for("react.fragment"),p0=Object.prototype.hasOwnProperty,g0=f0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x0={key:!0,ref:!0,__self:!0,__source:!0};function sf(e,t,n){var s,o={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)p0.call(t,s)&&!x0.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:m0,type:e,key:i,ref:l,props:o,_owner:g0.current}}Io.Fragment=h0;Io.jsx=sf;Io.jsxs=sf;Ju.exports=Io;var r=Ju.exports,Gi={},rf={exports:{}},Ke={},of={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,U){var F=P.length;P.push(U);e:for(;0<F;){var $=F-1>>>1,W=P[$];if(0<o(W,U))P[$]=U,P[F]=W,F=$;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var U=P[0],F=P.pop();if(F!==U){P[0]=F;e:for(var $=0,W=P.length,Pe=W>>>1;$<Pe;){var Le=2*($+1)-1,xt=P[Le],H=Le+1,vt=P[H];if(0>o(xt,F))H<W&&0>o(vt,xt)?(P[$]=vt,P[H]=F,$=H):(P[$]=xt,P[Le]=F,$=Le);else if(H<W&&0>o(vt,F))P[$]=vt,P[H]=F,$=H;else break e}}return U}function o(P,U){var F=P.sortIndex-U.sortIndex;return F!==0?F:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],u=[],m=1,h=null,p=3,v=!1,k=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var U=n(u);U!==null;){if(U.callback===null)s(u);else if(U.startTime<=P)s(u),U.sortIndex=U.expirationTime,t(f,U);else break;U=n(u)}}function C(P){if(N=!1,y(P),!k)if(n(f)!==null)k=!0,K(b);else{var U=n(u);U!==null&&we(C,U.startTime-P)}}function b(P,U){k=!1,N&&(N=!1,x(A),A=-1),v=!0;var F=p;try{for(y(U),h=n(f);h!==null&&(!(h.expirationTime>U)||P&&!D());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var W=$(h.expirationTime<=U);U=e.unstable_now(),typeof W=="function"?h.callback=W:h===n(f)&&s(f),y(U)}else s(f);h=n(f)}if(h!==null)var Pe=!0;else{var Le=n(u);Le!==null&&we(C,Le.startTime-U),Pe=!1}return Pe}finally{h=null,p=F,v=!1}}var S=!1,E=null,A=-1,T=5,_=-1;function D(){return!(e.unstable_now()-_<T)}function V(){if(E!==null){var P=e.unstable_now();_=P;var U=!0;try{U=E(!0,P)}finally{U?B():(S=!1,E=null)}}else S=!1}var B;if(typeof g=="function")B=function(){g(V)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,be=Q.port2;Q.port1.onmessage=V,B=function(){be.postMessage(null)}}else B=function(){j(V,0)};function K(P){E=P,S||(S=!0,B())}function we(P,U){A=j(function(){P(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,K(b))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var F=p;p=U;try{return P()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=p;p=P;try{return U()}finally{p=F}},e.unstable_scheduleCallback=function(P,U,F){var $=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,P){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,P={id:m++,callback:U,priorityLevel:P,startTime:F,expirationTime:W,sortIndex:-1},F>$?(P.sortIndex=F,t(u,P),n(f)===null&&P===n(u)&&(N?(x(A),A=-1):N=!0,we(C,F-$))):(P.sortIndex=W,t(f,P),k||v||(k=!0,K(b))),P},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(P){var U=p;return function(){var F=p;p=U;try{return P.apply(this,arguments)}finally{p=F}}}})(lf);of.exports=lf;var v0=of.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=w,Oe=v0;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var af=new Set,Ws={};function Sn(e,t){Zn(e,t),Zn(e+"Capture",t)}function Zn(e,t){for(Ws[e]=t,e=0;e<t.length;e++)af.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=Object.prototype.hasOwnProperty,w0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mc={},hc={};function k0(e){return $i.call(hc,e)?!0:$i.call(mc,e)?!1:w0.test(e)?hc[e]=!0:(mc[e]=!0,!1)}function N0(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C0(e,t,n,s){if(t===null||typeof t>"u"||N0(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,s,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ql=/[\-:]([a-z])/g;function Xl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ql,Xl);Ee[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ql,Xl);Ee[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ql,Xl);Ee[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zl(e,t,n,s){var o=Ee.hasOwnProperty(t)?Ee[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C0(t,n,o,s)&&(n=null),s||o===null?k0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var zt=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cr=Symbol.for("react.element"),_n=Symbol.for("react.portal"),Mn=Symbol.for("react.fragment"),ea=Symbol.for("react.strict_mode"),qi=Symbol.for("react.profiler"),cf=Symbol.for("react.provider"),df=Symbol.for("react.context"),ta=Symbol.for("react.forward_ref"),Wi=Symbol.for("react.suspense"),Ji=Symbol.for("react.suspense_list"),na=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),uf=Symbol.for("react.offscreen"),pc=Symbol.iterator;function ws(e){return e===null||typeof e!="object"?null:(e=pc&&e[pc]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,di;function Is(e){if(di===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);di=t&&t[1]||""}return`
`+di+e}var ui=!1;function fi(e,t){if(!e||ui)return"";ui=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=s.stack.split(`
`),l=o.length-1,c=i.length-1;1<=l&&0<=c&&o[l]!==i[c];)c--;for(;1<=l&&0<=c;l--,c--)if(o[l]!==i[c]){if(l!==1||c!==1)do if(l--,c--,0>c||o[l]!==i[c]){var f=`
`+o[l].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=l&&0<=c);break}}}finally{ui=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Is(e):""}function b0(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=fi(e.type,!1),e;case 11:return e=fi(e.type.render,!1),e;case 1:return e=fi(e.type,!0),e;default:return""}}function Yi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mn:return"Fragment";case _n:return"Portal";case qi:return"Profiler";case ea:return"StrictMode";case Wi:return"Suspense";case Ji:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case df:return(e.displayName||"Context")+".Consumer";case cf:return(e._context.displayName||"Context")+".Provider";case ta:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case na:return t=e.displayName||null,t!==null?t:Yi(e.type)||"Memo";case qt:t=e._payload,e=e._init;try{return Yi(e(t))}catch{}}return null}function S0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yi(t);case 8:return t===ea?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ff(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function T0(e){var t=ff(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function br(e){e._valueTracker||(e._valueTracker=T0(e))}function mf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ff(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function to(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oi(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gc(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hf(e,t){t=t.checked,t!=null&&Zl(e,"checked",t,!1)}function Ki(e,t){hf(e,t);var n=on(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qi(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qi(e,t,n){(t!=="number"||to(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _s=Array.isArray;function $n(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Xi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(_s(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function pf(e,t){var n=on(t.value),s=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function yc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sr,xf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E0=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(e){E0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rs[t]=Rs[e]})});function vf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rs.hasOwnProperty(e)&&Rs[e]?(""+t).trim():t+"px"}function yf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=vf(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var j0=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(e,t){if(t){if(j0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function tl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function sa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,qn=null,Wn=null;function wc(e){if(e=fr(e)){if(typeof sl!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Ro(t),sl(e.stateNode,e.type,t))}}function wf(e){qn?Wn?Wn.push(e):Wn=[e]:qn=e}function kf(){if(qn){var e=qn,t=Wn;if(Wn=qn=null,wc(e),t)for(e=0;e<t.length;e++)wc(t[e])}}function Nf(e,t){return e(t)}function Cf(){}var mi=!1;function bf(e,t,n){if(mi)return e(t,n);mi=!0;try{return Nf(e,t,n)}finally{mi=!1,(qn!==null||Wn!==null)&&(Cf(),kf())}}function Ys(e,t){var n=e.stateNode;if(n===null)return null;var s=Ro(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var rl=!1;if(Ft)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){rl=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{rl=!1}function A0(e,t,n,s,o,i,l,c,f){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var Ds=!1,no=null,so=!1,ol=null,I0={onError:function(e){Ds=!0,no=e}};function _0(e,t,n,s,o,i,l,c,f){Ds=!1,no=null,A0.apply(I0,arguments)}function M0(e,t,n,s,o,i,l,c,f){if(_0.apply(this,arguments),Ds){if(Ds){var u=no;Ds=!1,no=null}else throw Error(M(198));so||(so=!0,ol=u)}}function Tn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kc(e){if(Tn(e)!==e)throw Error(M(188))}function P0(e){var t=e.alternate;if(!t){if(t=Tn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return kc(o),e;if(i===s)return kc(o),t;i=i.sibling}throw Error(M(188))}if(n.return!==s.return)n=o,s=i;else{for(var l=!1,c=o.child;c;){if(c===n){l=!0,n=o,s=i;break}if(c===s){l=!0,s=o,n=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===n){l=!0,n=i,s=o;break}if(c===s){l=!0,s=i,n=o;break}c=c.sibling}if(!l)throw Error(M(189))}}if(n.alternate!==s)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Tf(e){return e=P0(e),e!==null?Ef(e):null}function Ef(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ef(e);if(t!==null)return t;e=e.sibling}return null}var jf=Oe.unstable_scheduleCallback,Nc=Oe.unstable_cancelCallback,L0=Oe.unstable_shouldYield,R0=Oe.unstable_requestPaint,he=Oe.unstable_now,D0=Oe.unstable_getCurrentPriorityLevel,ra=Oe.unstable_ImmediatePriority,Af=Oe.unstable_UserBlockingPriority,ro=Oe.unstable_NormalPriority,F0=Oe.unstable_LowPriority,If=Oe.unstable_IdlePriority,_o=null,Tt=null;function U0(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(_o,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:z0,V0=Math.log,B0=Math.LN2;function z0(e){return e>>>=0,e===0?32:31-(V0(e)/B0|0)|0}var Tr=64,Er=4194304;function Ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oo(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~o;c!==0?s=Ms(c):(i&=l,i!==0&&(s=Ms(i)))}else l=n&~o,l!==0?s=Ms(l):i!==0&&(s=Ms(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&o)&&(o=s&-s,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-mt(t),o=1<<n,s|=e[n],t&=~o;return s}function H0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G0(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-mt(i),c=1<<l,f=o[l];f===-1?(!(c&n)||c&s)&&(o[l]=H0(c,t)):f<=t&&(e.expiredLanes|=c),i&=~c}}function il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _f(){var e=Tr;return Tr<<=1,!(Tr&4194240)&&(Tr=64),e}function hi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function $0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-mt(n),i=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~i}}function oa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-mt(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var X=0;function Mf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pf,ia,Lf,Rf,Df,ll=!1,jr=[],Qt=null,Xt=null,Zt=null,Os=new Map,Ks=new Map,Jt=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(t.pointerId)}}function Ns(e,t,n,s,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[o]},t!==null&&(t=fr(t),t!==null&&ia(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function W0(e,t,n,s,o){switch(t){case"focusin":return Qt=Ns(Qt,e,t,n,s,o),!0;case"dragenter":return Xt=Ns(Xt,e,t,n,s,o),!0;case"mouseover":return Zt=Ns(Zt,e,t,n,s,o),!0;case"pointerover":var i=o.pointerId;return Os.set(i,Ns(Os.get(i)||null,e,t,n,s,o)),!0;case"gotpointercapture":return i=o.pointerId,Ks.set(i,Ns(Ks.get(i)||null,e,t,n,s,o)),!0}return!1}function Ff(e){var t=hn(e.target);if(t!==null){var n=Tn(t);if(n!==null){if(t=n.tag,t===13){if(t=Sf(n),t!==null){e.blockedOn=t,Df(e.priority,function(){Lf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=al(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);nl=s,n.target.dispatchEvent(s),nl=null}else return t=fr(n),t!==null&&ia(t),e.blockedOn=n,!1;t.shift()}return!0}function bc(e,t,n){Hr(e)&&n.delete(t)}function J0(){ll=!1,Qt!==null&&Hr(Qt)&&(Qt=null),Xt!==null&&Hr(Xt)&&(Xt=null),Zt!==null&&Hr(Zt)&&(Zt=null),Os.forEach(bc),Ks.forEach(bc)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,ll||(ll=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,J0)))}function Qs(e){function t(o){return Cs(o,e)}if(0<jr.length){Cs(jr[0],e);for(var n=1;n<jr.length;n++){var s=jr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Qt!==null&&Cs(Qt,e),Xt!==null&&Cs(Xt,e),Zt!==null&&Cs(Zt,e),Os.forEach(t),Ks.forEach(t),n=0;n<Jt.length;n++)s=Jt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)Ff(n),n.blockedOn===null&&Jt.shift()}var Jn=zt.ReactCurrentBatchConfig,io=!0;function Y0(e,t,n,s){var o=X,i=Jn.transition;Jn.transition=null;try{X=1,la(e,t,n,s)}finally{X=o,Jn.transition=i}}function O0(e,t,n,s){var o=X,i=Jn.transition;Jn.transition=null;try{X=4,la(e,t,n,s)}finally{X=o,Jn.transition=i}}function la(e,t,n,s){if(io){var o=al(e,t,n,s);if(o===null)bi(e,t,s,lo,n),Cc(e,s);else if(W0(o,e,t,n,s))s.stopPropagation();else if(Cc(e,s),t&4&&-1<q0.indexOf(e)){for(;o!==null;){var i=fr(o);if(i!==null&&Pf(i),i=al(e,t,n,s),i===null&&bi(e,t,s,lo,n),i===o)break;o=i}o!==null&&s.stopPropagation()}else bi(e,t,s,null,n)}}var lo=null;function al(e,t,n,s){if(lo=null,e=sa(s),e=hn(e),e!==null)if(t=Tn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lo=e,null}function Uf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D0()){case ra:return 1;case Af:return 4;case ro:case F0:return 16;case If:return 536870912;default:return 16}default:return 16}}var Ot=null,aa=null,Gr=null;function Vf(){if(Gr)return Gr;var e,t=aa,n=t.length,s,o="value"in Ot?Ot.value:Ot.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(s=1;s<=l&&t[n-s]===o[i-s];s++);return Gr=o.slice(e,1<s?1-s:void 0)}function $r(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ar(){return!0}function Sc(){return!1}function Qe(e){function t(n,s,o,i,l){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ar:Sc,this.isPropagationStopped=Sc,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Qe(ds),ur=de({},ds,{view:0,detail:0}),K0=Qe(ur),pi,gi,bs,Mo=de({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bs&&(bs&&e.type==="mousemove"?(pi=e.screenX-bs.screenX,gi=e.screenY-bs.screenY):gi=pi=0,bs=e),pi)},movementY:function(e){return"movementY"in e?e.movementY:gi}}),Tc=Qe(Mo),Q0=de({},Mo,{dataTransfer:0}),X0=Qe(Q0),Z0=de({},ur,{relatedTarget:0}),xi=Qe(Z0),eg=de({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=Qe(eg),ng=de({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sg=Qe(ng),rg=de({},ds,{data:0}),Ec=Qe(rg),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lg[e])?!!t[e]:!1}function da(){return ag}var cg=de({},ur,{key:function(e){if(e.key){var t=og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ig[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:da,charCode:function(e){return e.type==="keypress"?$r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dg=Qe(cg),ug=de({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=Qe(ug),fg=de({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:da}),mg=Qe(fg),hg=de({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),pg=Qe(hg),gg=de({},Mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xg=Qe(gg),vg=[9,13,27,32],ua=Ft&&"CompositionEvent"in window,Fs=null;Ft&&"documentMode"in document&&(Fs=document.documentMode);var yg=Ft&&"TextEvent"in window&&!Fs,Bf=Ft&&(!ua||Fs&&8<Fs&&11>=Fs),Ac=" ",Ic=!1;function zf(e,t){switch(e){case"keyup":return vg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pn=!1;function wg(e,t){switch(e){case"compositionend":return Hf(t);case"keypress":return t.which!==32?null:(Ic=!0,Ac);case"textInput":return e=t.data,e===Ac&&Ic?null:e;default:return null}}function kg(e,t){if(Pn)return e==="compositionend"||!ua&&zf(e,t)?(e=Vf(),Gr=aa=Ot=null,Pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bf&&t.locale!=="ko"?null:t.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ng[e.type]:t==="textarea"}function Gf(e,t,n,s){wf(s),t=ao(t,"onChange"),0<t.length&&(n=new ca("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Us=null,Xs=null;function Cg(e){em(e,0)}function Po(e){var t=Dn(e);if(mf(t))return e}function bg(e,t){if(e==="change")return t}var $f=!1;if(Ft){var vi;if(Ft){var yi="oninput"in document;if(!yi){var Mc=document.createElement("div");Mc.setAttribute("oninput","return;"),yi=typeof Mc.oninput=="function"}vi=yi}else vi=!1;$f=vi&&(!document.documentMode||9<document.documentMode)}function Pc(){Us&&(Us.detachEvent("onpropertychange",qf),Xs=Us=null)}function qf(e){if(e.propertyName==="value"&&Po(Xs)){var t=[];Gf(t,Xs,e,sa(e)),bf(Cg,t)}}function Sg(e,t,n){e==="focusin"?(Pc(),Us=t,Xs=n,Us.attachEvent("onpropertychange",qf)):e==="focusout"&&Pc()}function Tg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(Xs)}function Eg(e,t){if(e==="click")return Po(t)}function jg(e,t){if(e==="input"||e==="change")return Po(t)}function Ag(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Ag;function Zs(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!$i.call(t,o)||!pt(e[o],t[o]))return!1}return!0}function Lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rc(e,t){var n=Lc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lc(n)}}function Wf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jf(){for(var e=window,t=to();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=to(e.document)}return t}function fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ig(e){var t=Jf(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wf(n.ownerDocument.documentElement,n)){if(s!==null&&fa(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(s.start,o);s=s.end===void 0?i:Math.min(s.end,o),!e.extend&&i>s&&(o=s,s=i,i=o),o=Rc(n,i);var l=Rc(n,s);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _g=Ft&&"documentMode"in document&&11>=document.documentMode,Ln=null,cl=null,Vs=null,dl=!1;function Dc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dl||Ln==null||Ln!==to(s)||(s=Ln,"selectionStart"in s&&fa(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vs&&Zs(Vs,s)||(Vs=s,s=ao(cl,"onSelect"),0<s.length&&(t=new ca("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ln)))}function Ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rn={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionend:Ir("Transition","TransitionEnd")},wi={},Yf={};Ft&&(Yf=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function Lo(e){if(wi[e])return wi[e];if(!Rn[e])return e;var t=Rn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yf)return wi[e]=t[n];return e}var Of=Lo("animationend"),Kf=Lo("animationiteration"),Qf=Lo("animationstart"),Xf=Lo("transitionend"),Zf=new Map,Fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){Zf.set(e,t),Sn(t,[e])}for(var ki=0;ki<Fc.length;ki++){var Ni=Fc[ki],Mg=Ni.toLowerCase(),Pg=Ni[0].toUpperCase()+Ni.slice(1);an(Mg,"on"+Pg)}an(Of,"onAnimationEnd");an(Kf,"onAnimationIteration");an(Qf,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Xf,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function Uc(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,M0(s,t,void 0,e),e.currentTarget=null}function em(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var l=s.length-1;0<=l;l--){var c=s[l],f=c.instance,u=c.currentTarget;if(c=c.listener,f!==i&&o.isPropagationStopped())break e;Uc(o,c,u),i=f}else for(l=0;l<s.length;l++){if(c=s[l],f=c.instance,u=c.currentTarget,c=c.listener,f!==i&&o.isPropagationStopped())break e;Uc(o,c,u),i=f}}}if(so)throw e=ol,so=!1,ol=null,e}function ne(e,t){var n=t[pl];n===void 0&&(n=t[pl]=new Set);var s=e+"__bubble";n.has(s)||(tm(t,e,2,!1),n.add(s))}function Ci(e,t,n){var s=0;t&&(s|=4),tm(n,e,s,t)}var _r="_reactListening"+Math.random().toString(36).slice(2);function er(e){if(!e[_r]){e[_r]=!0,af.forEach(function(n){n!=="selectionchange"&&(Lg.has(n)||Ci(n,!1,e),Ci(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_r]||(t[_r]=!0,Ci("selectionchange",!1,t))}}function tm(e,t,n,s){switch(Uf(t)){case 1:var o=Y0;break;case 4:o=O0;break;default:o=la}n=o.bind(null,t,n,e),o=void 0,!rl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function bi(e,t,n,s,o){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var c=s.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(l===4)for(l=s.return;l!==null;){var f=l.tag;if((f===3||f===4)&&(f=l.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;l=l.return}for(;c!==null;){if(l=hn(c),l===null)return;if(f=l.tag,f===5||f===6){s=i=l;continue e}c=c.parentNode}}s=s.return}bf(function(){var u=i,m=sa(n),h=[];e:{var p=Zf.get(e);if(p!==void 0){var v=ca,k=e;switch(e){case"keypress":if($r(n)===0)break e;case"keydown":case"keyup":v=dg;break;case"focusin":k="focus",v=xi;break;case"focusout":k="blur",v=xi;break;case"beforeblur":case"afterblur":v=xi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=X0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=mg;break;case Of:case Kf:case Qf:v=tg;break;case Xf:v=pg;break;case"scroll":v=K0;break;case"wheel":v=xg;break;case"copy":case"cut":case"paste":v=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=jc}var N=(t&4)!==0,j=!N&&e==="scroll",x=N?p!==null?p+"Capture":null:p;N=[];for(var g=u,y;g!==null;){y=g;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,x!==null&&(C=Ys(g,x),C!=null&&N.push(tr(g,C,y)))),j)break;g=g.return}0<N.length&&(p=new v(p,k,null,n,m),h.push({event:p,listeners:N}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==nl&&(k=n.relatedTarget||n.fromElement)&&(hn(k)||k[Ut]))break e;if((v||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,v?(k=n.relatedTarget||n.toElement,v=u,k=k?hn(k):null,k!==null&&(j=Tn(k),k!==j||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=u),v!==k)){if(N=Tc,C="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(N=jc,C="onPointerLeave",x="onPointerEnter",g="pointer"),j=v==null?p:Dn(v),y=k==null?p:Dn(k),p=new N(C,g+"leave",v,n,m),p.target=j,p.relatedTarget=y,C=null,hn(m)===u&&(N=new N(x,g+"enter",k,n,m),N.target=y,N.relatedTarget=j,C=N),j=C,v&&k)t:{for(N=v,x=k,g=0,y=N;y;y=In(y))g++;for(y=0,C=x;C;C=In(C))y++;for(;0<g-y;)N=In(N),g--;for(;0<y-g;)x=In(x),y--;for(;g--;){if(N===x||x!==null&&N===x.alternate)break t;N=In(N),x=In(x)}N=null}else N=null;v!==null&&Vc(h,p,v,N,!1),k!==null&&j!==null&&Vc(h,j,k,N,!0)}}e:{if(p=u?Dn(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var b=bg;else if(_c(p))if($f)b=jg;else{b=Tg;var S=Sg}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=Eg);if(b&&(b=b(e,u))){Gf(h,b,n,m);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Qi(p,"number",p.value)}switch(S=u?Dn(u):window,e){case"focusin":(_c(S)||S.contentEditable==="true")&&(Ln=S,cl=u,Vs=null);break;case"focusout":Vs=cl=Ln=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,Dc(h,n,m);break;case"selectionchange":if(_g)break;case"keydown":case"keyup":Dc(h,n,m)}var E;if(ua)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Pn?zf(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Bf&&n.locale!=="ko"&&(Pn||A!=="onCompositionStart"?A==="onCompositionEnd"&&Pn&&(E=Vf()):(Ot=m,aa="value"in Ot?Ot.value:Ot.textContent,Pn=!0)),S=ao(u,A),0<S.length&&(A=new Ec(A,e,null,n,m),h.push({event:A,listeners:S}),E?A.data=E:(E=Hf(n),E!==null&&(A.data=E)))),(E=yg?wg(e,n):kg(e,n))&&(u=ao(u,"onBeforeInput"),0<u.length&&(m=new Ec("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:u}),m.data=E))}em(h,t)})}function tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ao(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ys(e,n),i!=null&&s.unshift(tr(e,i,o)),i=Ys(e,t),i!=null&&s.push(tr(e,i,o))),e=e.return}return s}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vc(e,t,n,s,o){for(var i=t._reactName,l=[];n!==null&&n!==s;){var c=n,f=c.alternate,u=c.stateNode;if(f!==null&&f===s)break;c.tag===5&&u!==null&&(c=u,o?(f=Ys(n,i),f!=null&&l.unshift(tr(n,f,c))):o||(f=Ys(n,i),f!=null&&l.push(tr(n,f,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Rg=/\r\n?/g,Dg=/\u0000|\uFFFD/g;function Bc(e){return(typeof e=="string"?e:""+e).replace(Rg,`
`).replace(Dg,"")}function Mr(e,t,n){if(t=Bc(t),Bc(e)!==t&&n)throw Error(M(425))}function co(){}var ul=null,fl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hl=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,Ug=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(e){return zc.resolve(null).then(e).catch(Vg)}:hl;function Vg(e){setTimeout(function(){throw e})}function Si(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),Qs(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);Qs(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),St="__reactFiber$"+us,nr="__reactProps$"+us,Ut="__reactContainer$"+us,pl="__reactEvents$"+us,Bg="__reactListeners$"+us,zg="__reactHandles$"+us;function hn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hc(e);e!==null;){if(n=e[St])return n;e=Hc(e)}return t}e=n,n=e.parentNode}return null}function fr(e){return e=e[St]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Ro(e){return e[nr]||null}var gl=[],Fn=-1;function cn(e){return{current:e}}function re(e){0>Fn||(e.current=gl[Fn],gl[Fn]=null,Fn--)}function ee(e,t){Fn++,gl[Fn]=e.current,e.current=t}var ln={},Me=cn(ln),He=cn(!1),yn=ln;function es(e,t){var n=e.type.contextTypes;if(!n)return ln;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ge(e){return e=e.childContextTypes,e!=null}function uo(){re(He),re(Me)}function Gc(e,t,n){if(Me.current!==ln)throw Error(M(168));ee(Me,t),ee(He,n)}function nm(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(M(108,S0(e)||"Unknown",o));return de({},n,s)}function fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,yn=Me.current,ee(Me,e),ee(He,He.current),!0}function $c(e,t,n){var s=e.stateNode;if(!s)throw Error(M(169));n?(e=nm(e,t,yn),s.__reactInternalMemoizedMergedChildContext=e,re(He),re(Me),ee(Me,e)):re(He),ee(He,n)}var Mt=null,Do=!1,Ti=!1;function sm(e){Mt===null?Mt=[e]:Mt.push(e)}function Hg(e){Do=!0,sm(e)}function dn(){if(!Ti&&Mt!==null){Ti=!0;var e=0,t=X;try{var n=Mt;for(X=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Mt=null,Do=!1}catch(o){throw Mt!==null&&(Mt=Mt.slice(e+1)),jf(ra,dn),o}finally{X=t,Ti=!1}}return null}var Un=[],Vn=0,mo=null,ho=0,Ze=[],et=0,wn=null,Lt=1,Rt="";function fn(e,t){Un[Vn++]=ho,Un[Vn++]=mo,mo=e,ho=t}function rm(e,t,n){Ze[et++]=Lt,Ze[et++]=Rt,Ze[et++]=wn,wn=e;var s=Lt;e=Rt;var o=32-mt(s)-1;s&=~(1<<o),n+=1;var i=32-mt(t)+o;if(30<i){var l=o-o%5;i=(s&(1<<l)-1).toString(32),s>>=l,o-=l,Lt=1<<32-mt(t)+o|n<<o|s,Rt=i+e}else Lt=1<<i|n<<o|s,Rt=e}function ma(e){e.return!==null&&(fn(e,1),rm(e,1,0))}function ha(e){for(;e===mo;)mo=Un[--Vn],Un[Vn]=null,ho=Un[--Vn],Un[Vn]=null;for(;e===wn;)wn=Ze[--et],Ze[et]=null,Rt=Ze[--et],Ze[et]=null,Lt=Ze[--et],Ze[et]=null}var Ye=null,Je=null,oe=!1,ft=null;function om(e,t){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,Je=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Lt,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ye=e,Je=null,!0):!1;default:return!1}}function xl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vl(e){if(oe){var t=Je;if(t){var n=t;if(!qc(e,t)){if(xl(e))throw Error(M(418));t=en(n.nextSibling);var s=Ye;t&&qc(e,t)?om(s,n):(e.flags=e.flags&-4097|2,oe=!1,Ye=e)}}else{if(xl(e))throw Error(M(418));e.flags=e.flags&-4097|2,oe=!1,Ye=e}}}function Wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function Pr(e){if(e!==Ye)return!1;if(!oe)return Wc(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=Je)){if(xl(e))throw im(),Error(M(418));for(;t;)om(e,t),t=en(t.nextSibling)}if(Wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=en(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=Ye?en(e.stateNode.nextSibling):null;return!0}function im(){for(var e=Je;e;)e=en(e.nextSibling)}function ts(){Je=Ye=null,oe=!1}function pa(e){ft===null?ft=[e]:ft.push(e)}var Gg=zt.ReactCurrentBatchConfig;function Ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var s=n.stateNode}if(!s)throw Error(M(147,e));var o=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var c=o.refs;l===null?delete c[i]:c[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Lr(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jc(e){var t=e._init;return t(e._payload)}function lm(e){function t(x,g){if(e){var y=x.deletions;y===null?(x.deletions=[g],x.flags|=16):y.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function s(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function o(x,g){return x=rn(x,g),x.index=0,x.sibling=null,x}function i(x,g,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<g?(x.flags|=2,g):y):(x.flags|=2,g)):(x.flags|=1048576,g)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,g,y,C){return g===null||g.tag!==6?(g=Pi(y,x.mode,C),g.return=x,g):(g=o(g,y),g.return=x,g)}function f(x,g,y,C){var b=y.type;return b===Mn?m(x,g,y.props.children,C,y.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===qt&&Jc(b)===g.type)?(C=o(g,y.props),C.ref=Ss(x,g,y),C.return=x,C):(C=Qr(y.type,y.key,y.props,null,x.mode,C),C.ref=Ss(x,g,y),C.return=x,C)}function u(x,g,y,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Li(y,x.mode,C),g.return=x,g):(g=o(g,y.children||[]),g.return=x,g)}function m(x,g,y,C,b){return g===null||g.tag!==7?(g=vn(y,x.mode,C,b),g.return=x,g):(g=o(g,y),g.return=x,g)}function h(x,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Pi(""+g,x.mode,y),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cr:return y=Qr(g.type,g.key,g.props,null,x.mode,y),y.ref=Ss(x,null,g),y.return=x,y;case _n:return g=Li(g,x.mode,y),g.return=x,g;case qt:var C=g._init;return h(x,C(g._payload),y)}if(_s(g)||ws(g))return g=vn(g,x.mode,y,null),g.return=x,g;Lr(x,g)}return null}function p(x,g,y,C){var b=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:c(x,g,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cr:return y.key===b?f(x,g,y,C):null;case _n:return y.key===b?u(x,g,y,C):null;case qt:return b=y._init,p(x,g,b(y._payload),C)}if(_s(y)||ws(y))return b!==null?null:m(x,g,y,C,null);Lr(x,y)}return null}function v(x,g,y,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(y)||null,c(g,x,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cr:return x=x.get(C.key===null?y:C.key)||null,f(g,x,C,b);case _n:return x=x.get(C.key===null?y:C.key)||null,u(g,x,C,b);case qt:var S=C._init;return v(x,g,y,S(C._payload),b)}if(_s(C)||ws(C))return x=x.get(y)||null,m(g,x,C,b,null);Lr(g,C)}return null}function k(x,g,y,C){for(var b=null,S=null,E=g,A=g=0,T=null;E!==null&&A<y.length;A++){E.index>A?(T=E,E=null):T=E.sibling;var _=p(x,E,y[A],C);if(_===null){E===null&&(E=T);break}e&&E&&_.alternate===null&&t(x,E),g=i(_,g,A),S===null?b=_:S.sibling=_,S=_,E=T}if(A===y.length)return n(x,E),oe&&fn(x,A),b;if(E===null){for(;A<y.length;A++)E=h(x,y[A],C),E!==null&&(g=i(E,g,A),S===null?b=E:S.sibling=E,S=E);return oe&&fn(x,A),b}for(E=s(x,E);A<y.length;A++)T=v(E,x,A,y[A],C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?A:T.key),g=i(T,g,A),S===null?b=T:S.sibling=T,S=T);return e&&E.forEach(function(D){return t(x,D)}),oe&&fn(x,A),b}function N(x,g,y,C){var b=ws(y);if(typeof b!="function")throw Error(M(150));if(y=b.call(y),y==null)throw Error(M(151));for(var S=b=null,E=g,A=g=0,T=null,_=y.next();E!==null&&!_.done;A++,_=y.next()){E.index>A?(T=E,E=null):T=E.sibling;var D=p(x,E,_.value,C);if(D===null){E===null&&(E=T);break}e&&E&&D.alternate===null&&t(x,E),g=i(D,g,A),S===null?b=D:S.sibling=D,S=D,E=T}if(_.done)return n(x,E),oe&&fn(x,A),b;if(E===null){for(;!_.done;A++,_=y.next())_=h(x,_.value,C),_!==null&&(g=i(_,g,A),S===null?b=_:S.sibling=_,S=_);return oe&&fn(x,A),b}for(E=s(x,E);!_.done;A++,_=y.next())_=v(E,x,A,_.value,C),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?A:_.key),g=i(_,g,A),S===null?b=_:S.sibling=_,S=_);return e&&E.forEach(function(V){return t(x,V)}),oe&&fn(x,A),b}function j(x,g,y,C){if(typeof y=="object"&&y!==null&&y.type===Mn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Cr:e:{for(var b=y.key,S=g;S!==null;){if(S.key===b){if(b=y.type,b===Mn){if(S.tag===7){n(x,S.sibling),g=o(S,y.props.children),g.return=x,x=g;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===qt&&Jc(b)===S.type){n(x,S.sibling),g=o(S,y.props),g.ref=Ss(x,S,y),g.return=x,x=g;break e}n(x,S);break}else t(x,S);S=S.sibling}y.type===Mn?(g=vn(y.props.children,x.mode,C,y.key),g.return=x,x=g):(C=Qr(y.type,y.key,y.props,null,x.mode,C),C.ref=Ss(x,g,y),C.return=x,x=C)}return l(x);case _n:e:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(x,g.sibling),g=o(g,y.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=Li(y,x.mode,C),g.return=x,x=g}return l(x);case qt:return S=y._init,j(x,g,S(y._payload),C)}if(_s(y))return k(x,g,y,C);if(ws(y))return N(x,g,y,C);Lr(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(x,g.sibling),g=o(g,y),g.return=x,x=g):(n(x,g),g=Pi(y,x.mode,C),g.return=x,x=g),l(x)):n(x,g)}return j}var ns=lm(!0),am=lm(!1),po=cn(null),go=null,Bn=null,ga=null;function xa(){ga=Bn=go=null}function va(e){var t=po.current;re(po),e._currentValue=t}function yl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Yn(e,t){go=e,ga=Bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(ga!==e)if(e={context:e,memoizedValue:t,next:null},Bn===null){if(go===null)throw Error(M(308));Bn=e,go.dependencies={lanes:0,firstContext:e}}else Bn=Bn.next=e;return t}var pn=null;function ya(e){pn===null?pn=[e]:pn.push(e)}function cm(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,ya(t)):(n.next=o.next,o.next=n),t.interleaved=n,Vt(e,s)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wt=!1;function wa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,q&2){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Vt(e,n)}return o=s.interleaved,o===null?(t.next=t,ya(s)):(t.next=o.next,o.next=t),s.interleaved=t,Vt(e,n)}function qr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,oa(e,n)}}function Yc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xo(e,t,n,s){var o=e.updateQueue;Wt=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var f=c,u=f.next;f.next=null,l===null?i=u:l.next=u,l=f;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==l&&(c===null?m.firstBaseUpdate=u:c.next=u,m.lastBaseUpdate=f))}if(i!==null){var h=o.baseState;l=0,m=u=f=null,c=i;do{var p=c.lane,v=c.eventTime;if((s&p)===p){m!==null&&(m=m.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var k=e,N=c;switch(p=t,v=n,N.tag){case 1:if(k=N.payload,typeof k=="function"){h=k.call(v,h,p);break e}h=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=N.payload,p=typeof k=="function"?k.call(v,h,p):k,p==null)break e;h=de({},h,p);break e;case 2:Wt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[c]:p.push(c))}else v={eventTime:v,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(u=m=v,f=h):m=m.next=v,l|=p;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;p=c,c=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(m===null&&(f=h),o.baseState=f,o.firstBaseUpdate=u,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Nn|=l,e.lanes=l,e.memoizedState=h}}function Oc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(M(191,o));o.call(s)}}}var mr={},Et=cn(mr),sr=cn(mr),rr=cn(mr);function gn(e){if(e===mr)throw Error(M(174));return e}function ka(e,t){switch(ee(rr,t),ee(sr,e),ee(Et,mr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zi(t,e)}re(Et),ee(Et,t)}function ss(){re(Et),re(sr),re(rr)}function um(e){gn(rr.current);var t=gn(Et.current),n=Zi(t,e.type);t!==n&&(ee(sr,e),ee(Et,n))}function Na(e){sr.current===e&&(re(Et),re(sr))}var ae=cn(0);function vo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ei=[];function Ca(){for(var e=0;e<Ei.length;e++)Ei[e]._workInProgressVersionPrimary=null;Ei.length=0}var Wr=zt.ReactCurrentDispatcher,ji=zt.ReactCurrentBatchConfig,kn=0,ce=null,ve=null,Ne=null,yo=!1,Bs=!1,or=0,$g=0;function je(){throw Error(M(321))}function ba(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function Sa(e,t,n,s,o,i){if(kn=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wr.current=e===null||e.memoizedState===null?Yg:Og,e=n(s,o),Bs){i=0;do{if(Bs=!1,or=0,25<=i)throw Error(M(301));i+=1,Ne=ve=null,t.updateQueue=null,Wr.current=Kg,e=n(s,o)}while(Bs)}if(Wr.current=wo,t=ve!==null&&ve.next!==null,kn=0,Ne=ve=ce=null,yo=!1,t)throw Error(M(300));return e}function Ta(){var e=or!==0;return or=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ce.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function ot(){if(ve===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Ne===null?ce.memoizedState:Ne.next;if(t!==null)Ne=t,ve=e;else{if(e===null)throw Error(M(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Ne===null?ce.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function ir(e,t){return typeof t=="function"?t(e):t}function Ai(e){var t=ot(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var s=ve,o=s.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}s.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,s=s.baseState;var c=l=null,f=null,u=i;do{var m=u.lane;if((kn&m)===m)f!==null&&(f=f.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var h={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};f===null?(c=f=h,l=s):f=f.next=h,ce.lanes|=m,Nn|=m}u=u.next}while(u!==null&&u!==i);f===null?l=s:f.next=c,pt(s,t.memoizedState)||(ze=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=f,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ce.lanes|=i,Nn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ii(e){var t=ot(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);pt(i,t.memoizedState)||(ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function fm(){}function mm(e,t){var n=ce,s=ot(),o=t(),i=!pt(s.memoizedState,o);if(i&&(s.memoizedState=o,ze=!0),s=s.queue,Ea(gm.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,lr(9,pm.bind(null,n,s,o,t),void 0,null),Ce===null)throw Error(M(349));kn&30||hm(n,t,o)}return o}function hm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pm(e,t,n,s){t.value=n,t.getSnapshot=s,xm(t)&&vm(e)}function gm(e,t,n){return n(function(){xm(t)&&vm(e)})}function xm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function vm(e){var t=Vt(e,1);t!==null&&ht(t,e,1,-1)}function Kc(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:e},t.queue=e,e=e.dispatch=Jg.bind(null,ce,e),[t.memoizedState,e]}function lr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function ym(){return ot().memoizedState}function Jr(e,t,n,s){var o=bt();ce.flags|=e,o.memoizedState=lr(1|t,n,void 0,s===void 0?null:s)}function Fo(e,t,n,s){var o=ot();s=s===void 0?null:s;var i=void 0;if(ve!==null){var l=ve.memoizedState;if(i=l.destroy,s!==null&&ba(s,l.deps)){o.memoizedState=lr(t,n,i,s);return}}ce.flags|=e,o.memoizedState=lr(1|t,n,i,s)}function Qc(e,t){return Jr(8390656,8,e,t)}function Ea(e,t){return Fo(2048,8,e,t)}function wm(e,t){return Fo(4,2,e,t)}function km(e,t){return Fo(4,4,e,t)}function Nm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cm(e,t,n){return n=n!=null?n.concat([e]):null,Fo(4,4,Nm.bind(null,t,e),n)}function ja(){}function bm(e,t){var n=ot();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ba(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Sm(e,t){var n=ot();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&ba(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Tm(e,t,n){return kn&21?(pt(n,t)||(n=_f(),ce.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=n)}function qg(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var s=ji.transition;ji.transition={};try{e(!1),t()}finally{X=n,ji.transition=s}}function Em(){return ot().memoizedState}function Wg(e,t,n){var s=sn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},jm(e))Am(t,n);else if(n=cm(e,t,n,s),n!==null){var o=De();ht(n,e,s,o),Im(n,t,s)}}function Jg(e,t,n){var s=sn(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(jm(e))Am(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,c=i(l,n);if(o.hasEagerState=!0,o.eagerState=c,pt(c,l)){var f=t.interleaved;f===null?(o.next=o,ya(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}n=cm(e,t,o,s),n!==null&&(o=De(),ht(n,e,s,o),Im(n,t,s))}}function jm(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Am(e,t){Bs=yo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Im(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,oa(e,n)}}var wo={readContext:rt,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},Yg={readContext:rt,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Qc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jr(4194308,4,Nm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jr(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=bt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Wg.bind(null,ce,e),[s.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Kc,useDebugValue:ja,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Kc(!1),t=e[0];return e=qg.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ce,o=bt();if(oe){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ce===null)throw Error(M(349));kn&30||hm(s,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Qc(gm.bind(null,s,i,e),[e]),s.flags|=2048,lr(9,pm.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=bt(),t=Ce.identifierPrefix;if(oe){var n=Rt,s=Lt;n=(s&~(1<<32-mt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$g++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Og={readContext:rt,useCallback:bm,useContext:rt,useEffect:Ea,useImperativeHandle:Cm,useInsertionEffect:wm,useLayoutEffect:km,useMemo:Sm,useReducer:Ai,useRef:ym,useState:function(){return Ai(ir)},useDebugValue:ja,useDeferredValue:function(e){var t=ot();return Tm(t,ve.memoizedState,e)},useTransition:function(){var e=Ai(ir)[0],t=ot().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:mm,useId:Em,unstable_isNewReconciler:!1},Kg={readContext:rt,useCallback:bm,useContext:rt,useEffect:Ea,useImperativeHandle:Cm,useInsertionEffect:wm,useLayoutEffect:km,useMemo:Sm,useReducer:Ii,useRef:ym,useState:function(){return Ii(ir)},useDebugValue:ja,useDeferredValue:function(e){var t=ot();return ve===null?t.memoizedState=e:Tm(t,ve.memoizedState,e)},useTransition:function(){var e=Ii(ir)[0],t=ot().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:mm,useId:Em,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return(e=e._reactInternals)?Tn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=De(),o=sn(e),i=Dt(s,o);i.payload=t,n!=null&&(i.callback=n),t=tn(e,i,o),t!==null&&(ht(t,e,o,s),qr(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=De(),o=sn(e),i=Dt(s,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=tn(e,i,o),t!==null&&(ht(t,e,o,s),qr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),s=sn(e),o=Dt(n,s);o.tag=2,t!=null&&(o.callback=t),t=tn(e,o,s),t!==null&&(ht(t,e,s,n),qr(t,e,s))}};function Xc(e,t,n,s,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,l):t.prototype&&t.prototype.isPureReactComponent?!Zs(n,s)||!Zs(o,i):!0}function _m(e,t,n){var s=!1,o=ln,i=t.contextType;return typeof i=="object"&&i!==null?i=rt(i):(o=Ge(t)?yn:Me.current,s=t.contextTypes,i=(s=s!=null)?es(e,o):ln),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Zc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function kl(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},wa(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=rt(i):(i=Ge(t)?yn:Me.current,o.context=es(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wl(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Uo.enqueueReplaceState(o,o.state,null),xo(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function rs(e,t){try{var n="",s=t;do n+=b0(s),s=s.return;while(s);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function _i(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Nl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qg=typeof WeakMap=="function"?WeakMap:Map;function Mm(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){No||(No=!0,Ml=s),Nl(e,t)},n}function Pm(e,t,n){n=Dt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){Nl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Nl(e,t),typeof s!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ed(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Qg;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=ux.bind(null,e,t,n),t.then(e,e))}function td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nd(e,t,n,s,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var Xg=zt.ReactCurrentOwner,ze=!1;function Re(e,t,n,s){t.child=e===null?am(t,null,n,s):ns(t,e.child,n,s)}function sd(e,t,n,s,o){n=n.render;var i=t.ref;return Yn(t,o),s=Sa(e,t,n,s,i,o),n=Ta(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Bt(e,t,o)):(oe&&n&&ma(t),t.flags|=1,Re(e,t,s,o),t.child)}function rd(e,t,n,s,o){if(e===null){var i=n.type;return typeof i=="function"&&!Da(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Lm(e,t,i,s,o)):(e=Qr(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zs,n(l,s)&&e.ref===t.ref)return Bt(e,t,o)}return t.flags|=1,e=rn(i,s),e.ref=t.ref,e.return=t,t.child=e}function Lm(e,t,n,s,o){if(e!==null){var i=e.memoizedProps;if(Zs(i,s)&&e.ref===t.ref)if(ze=!1,t.pendingProps=s=i,(e.lanes&o)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,Bt(e,t,o)}return Cl(e,t,n,s,o)}function Rm(e,t,n){var s=t.pendingProps,o=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Hn,We),We|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Hn,We),We|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,ee(Hn,We),We|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,ee(Hn,We),We|=s;return Re(e,t,o,n),t.child}function Dm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,n,s,o){var i=Ge(n)?yn:Me.current;return i=es(t,i),Yn(t,o),n=Sa(e,t,n,s,i,o),s=Ta(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Bt(e,t,o)):(oe&&s&&ma(t),t.flags|=1,Re(e,t,n,o),t.child)}function od(e,t,n,s,o){if(Ge(n)){var i=!0;fo(t)}else i=!1;if(Yn(t,o),t.stateNode===null)Yr(e,t),_m(t,n,s),kl(t,n,s,o),s=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var f=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=Ge(n)?yn:Me.current,u=es(t,u));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==s||f!==u)&&Zc(t,l,s,u),Wt=!1;var p=t.memoizedState;l.state=p,xo(t,s,l,o),f=t.memoizedState,c!==s||p!==f||He.current||Wt?(typeof m=="function"&&(wl(t,n,m,s),f=t.memoizedState),(c=Wt||Xc(t,n,c,s,p,f,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=f),l.props=s,l.state=f,l.context=u,s=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,dm(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:dt(t.type,c),l.props=u,h=t.pendingProps,p=l.context,f=n.contextType,typeof f=="object"&&f!==null?f=rt(f):(f=Ge(n)?yn:Me.current,f=es(t,f));var v=n.getDerivedStateFromProps;(m=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==h||p!==f)&&Zc(t,l,s,f),Wt=!1,p=t.memoizedState,l.state=p,xo(t,s,l,o);var k=t.memoizedState;c!==h||p!==k||He.current||Wt?(typeof v=="function"&&(wl(t,n,v,s),k=t.memoizedState),(u=Wt||Xc(t,n,u,s,p,k,f)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,k,f),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,k,f)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=k),l.props=s,l.state=k,l.context=f,s=u):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return bl(e,t,n,s,i,o)}function bl(e,t,n,s,o,i){Dm(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return o&&$c(t,n,!1),Bt(e,t,i);s=t.stateNode,Xg.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,c,i)):Re(e,t,c,i),t.memoizedState=s.state,o&&$c(t,n,!0),t.child}function Fm(e){var t=e.stateNode;t.pendingContext?Gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gc(e,t.context,!1),ka(e,t.containerInfo)}function id(e,t,n,s,o){return ts(),pa(o),t.flags|=256,Re(e,t,n,s),t.child}var Sl={dehydrated:null,treeContext:null,retryLane:0};function Tl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Um(e,t,n){var s=t.pendingProps,o=ae.current,i=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ee(ae,o&1),e===null)return vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=zo(l,s,0,null),e=vn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Tl(n),t.memoizedState=Sl,e):Aa(t,l));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return Zg(e,t,l,s,c,o,n);if(i){i=s.fallback,l=t.mode,o=e.child,c=o.sibling;var f={mode:"hidden",children:s.children};return!(l&1)&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=f,t.deletions=null):(s=rn(o,f),s.subtreeFlags=o.subtreeFlags&14680064),c!==null?i=rn(c,i):(i=vn(i,l,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l=l===null?Tl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Sl,s}return i=e.child,e=i.sibling,s=rn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Aa(e,t){return t=zo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rr(e,t,n,s){return s!==null&&pa(s),ns(t,e.child,null,n),e=Aa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zg(e,t,n,s,o,i,l){if(n)return t.flags&256?(t.flags&=-257,s=_i(Error(M(422))),Rr(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,o=t.mode,s=zo({mode:"visible",children:s.children},o,0,null),i=vn(i,o,l,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ns(t,e.child,null,l),t.child.memoizedState=Tl(l),t.memoizedState=Sl,i);if(!(t.mode&1))return Rr(e,t,l,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;return s=c,i=Error(M(419)),s=_i(i,s,void 0),Rr(e,t,l,s)}if(c=(l&e.childLanes)!==0,ze||c){if(s=Ce,s!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(s.suspendedLanes|l)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Vt(e,o),ht(s,e,o,-1))}return Ra(),s=_i(Error(M(421))),Rr(e,t,l,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=fx.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Je=en(o.nextSibling),Ye=t,oe=!0,ft=null,e!==null&&(Ze[et++]=Lt,Ze[et++]=Rt,Ze[et++]=wn,Lt=e.id,Rt=e.overflow,wn=t),t=Aa(t,s.children),t.flags|=4096,t)}function ld(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),yl(e.return,t,n)}function Mi(e,t,n,s,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=o)}function Vm(e,t,n){var s=t.pendingProps,o=s.revealOrder,i=s.tail;if(Re(e,t,s.children,n),s=ae.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ld(e,n,t);else if(e.tag===19)ld(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ee(ae,s),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&vo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Mi(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&vo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Mi(t,!0,n,null,i);break;case"together":Mi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ex(e,t,n){switch(t.tag){case 3:Fm(t),ts();break;case 5:um(t);break;case 1:Ge(t.type)&&fo(t);break;case 4:ka(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;ee(po,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ee(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?Um(e,t,n):(ee(ae,ae.current&1),e=Bt(e,t,n),e!==null?e.sibling:null);ee(ae,ae.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Vm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ee(ae,ae.current),s)break;return null;case 22:case 23:return t.lanes=0,Rm(e,t,n)}return Bt(e,t,n)}var Bm,El,zm,Hm;Bm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};El=function(){};zm=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,gn(Et.current);var i=null;switch(n){case"input":o=Oi(e,o),s=Oi(e,s),i=[];break;case"select":o=de({},o,{value:void 0}),s=de({},s,{value:void 0}),i=[];break;case"textarea":o=Xi(e,o),s=Xi(e,s),i=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=co)}el(n,s);var l;n=null;for(u in o)if(!s.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var c=o[u];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ws.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var f=s[u];if(c=o!=null?o[u]:void 0,s.hasOwnProperty(u)&&f!==c&&(f!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||f&&f.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in f)f.hasOwnProperty(l)&&c[l]!==f[l]&&(n||(n={}),n[l]=f[l])}else n||(i||(i=[]),i.push(u,n)),n=f;else u==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(i=i||[]).push(u,f)):u==="children"?typeof f!="string"&&typeof f!="number"||(i=i||[]).push(u,""+f):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ws.hasOwnProperty(u)?(f!=null&&u==="onScroll"&&ne("scroll",e),i||c===f||(i=[])):(i=i||[]).push(u,f))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Hm=function(e,t,n,s){n!==s&&(t.flags|=4)};function Ts(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function tx(e,t,n){var s=t.pendingProps;switch(ha(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ge(t.type)&&uo(),Ae(t),null;case 3:return s=t.stateNode,ss(),re(He),re(Me),Ca(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Pr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Rl(ft),ft=null))),El(e,t),Ae(t),null;case 5:Na(t);var o=gn(rr.current);if(n=t.type,e!==null&&t.stateNode!=null)zm(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(M(166));return Ae(t),null}if(e=gn(Et.current),Pr(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[St]=t,s[nr]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",s),ne("close",s);break;case"iframe":case"object":case"embed":ne("load",s);break;case"video":case"audio":for(o=0;o<Ps.length;o++)ne(Ps[o],s);break;case"source":ne("error",s);break;case"img":case"image":case"link":ne("error",s),ne("load",s);break;case"details":ne("toggle",s);break;case"input":gc(s,i),ne("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ne("invalid",s);break;case"textarea":vc(s,i),ne("invalid",s)}el(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="children"?typeof c=="string"?s.textContent!==c&&(i.suppressHydrationWarning!==!0&&Mr(s.textContent,c,e),o=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Mr(s.textContent,c,e),o=["children",""+c]):Ws.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&ne("scroll",s)}switch(n){case"input":br(s),xc(s,i,!0);break;case"textarea":br(s),yc(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=co)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),n==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[St]=t,e[nr]=s,Bm(e,t,!1,!1),t.stateNode=e;e:{switch(l=tl(n,s),n){case"dialog":ne("cancel",e),ne("close",e),o=s;break;case"iframe":case"object":case"embed":ne("load",e),o=s;break;case"video":case"audio":for(o=0;o<Ps.length;o++)ne(Ps[o],e);o=s;break;case"source":ne("error",e),o=s;break;case"img":case"image":case"link":ne("error",e),ne("load",e),o=s;break;case"details":ne("toggle",e),o=s;break;case"input":gc(e,s),o=Oi(e,s),ne("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=de({},s,{value:void 0}),ne("invalid",e);break;case"textarea":vc(e,s),o=Xi(e,s),ne("invalid",e);break;default:o=s}el(n,o),c=o;for(i in c)if(c.hasOwnProperty(i)){var f=c[i];i==="style"?yf(e,f):i==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&xf(e,f)):i==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Js(e,f):typeof f=="number"&&Js(e,""+f):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ws.hasOwnProperty(i)?f!=null&&i==="onScroll"&&ne("scroll",e):f!=null&&Zl(e,i,f,l))}switch(n){case"input":br(e),xc(e,s,!1);break;case"textarea":br(e),yc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+on(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?$n(e,!!s.multiple,i,!1):s.defaultValue!=null&&$n(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=co)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)Hm(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(M(166));if(n=gn(rr.current),gn(Et.current),Pr(t)){if(s=t.stateNode,n=t.memoizedProps,s[St]=t,(i=s.nodeValue!==n)&&(e=Ye,e!==null))switch(e.tag){case 3:Mr(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mr(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[St]=t,t.stateNode=s}return Ae(t),null;case 13:if(re(ae),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&Je!==null&&t.mode&1&&!(t.flags&128))im(),ts(),t.flags|=98560,i=!1;else if(i=Pr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[St]=t}else ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else ft!==null&&(Rl(ft),ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?ye===0&&(ye=3):Ra())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return ss(),El(e,t),e===null&&er(t.stateNode.containerInfo),Ae(t),null;case 10:return va(t.type._context),Ae(t),null;case 17:return Ge(t.type)&&uo(),Ae(t),null;case 19:if(re(ae),i=t.memoizedState,i===null)return Ae(t),null;if(s=(t.flags&128)!==0,l=i.rendering,l===null)if(s)Ts(i,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=vo(e),l!==null){for(t.flags|=128,Ts(i,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&he()>os&&(t.flags|=128,s=!0,Ts(i,!1),t.lanes=4194304)}else{if(!s)if(e=vo(l),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!oe)return Ae(t),null}else 2*he()-i.renderingStartTime>os&&n!==1073741824&&(t.flags|=128,s=!0,Ts(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=he(),t.sibling=null,n=ae.current,ee(ae,s?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return La(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?We&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function nx(e,t){switch(ha(t),t.tag){case 1:return Ge(t.type)&&uo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ss(),re(He),re(Me),Ca(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Na(t),null;case 13:if(re(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ae),null;case 4:return ss(),null;case 10:return va(t.type._context),null;case 22:case 23:return La(),null;case 24:return null;default:return null}}var Dr=!1,Ie=!1,sx=typeof WeakSet=="function"?WeakSet:Set,L=null;function zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){me(e,t,s)}else n.current=null}function jl(e,t,n){try{n()}catch(s){me(e,t,s)}}var ad=!1;function rx(e,t){if(ul=io,e=Jf(),fa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,c=-1,f=-1,u=0,m=0,h=e,p=null;t:for(;;){for(var v;h!==n||o!==0&&h.nodeType!==3||(c=l+o),h!==i||s!==0&&h.nodeType!==3||(f=l+s),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===n&&++u===o&&(c=l),p===i&&++m===s&&(f=l),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=c===-1||f===-1?null:{start:c,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(fl={focusedElem:e,selectionRange:n},io=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var N=k.memoizedProps,j=k.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?N:dt(t.type,N),j);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(C){me(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return k=ad,ad=!1,k}function zs(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&jl(t,n,i)}o=o.next}while(o!==s)}}function Vo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Al(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gm(e){var t=e.alternate;t!==null&&(e.alternate=null,Gm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[nr],delete t[pl],delete t[Bg],delete t[zg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $m(e){return e.tag===5||e.tag===3||e.tag===4}function cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Il(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=co));else if(s!==4&&(e=e.child,e!==null))for(Il(e,t,n),e=e.sibling;e!==null;)Il(e,t,n),e=e.sibling}function _l(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(_l(e,t,n),e=e.sibling;e!==null;)_l(e,t,n),e=e.sibling}var Se=null,ut=!1;function $t(e,t,n){for(n=n.child;n!==null;)qm(e,t,n),n=n.sibling}function qm(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(_o,n)}catch{}switch(n.tag){case 5:Ie||zn(n,t);case 6:var s=Se,o=ut;Se=null,$t(e,t,n),Se=s,ut=o,Se!==null&&(ut?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(ut?(e=Se,n=n.stateNode,e.nodeType===8?Si(e.parentNode,n):e.nodeType===1&&Si(e,n),Qs(e)):Si(Se,n.stateNode));break;case 4:s=Se,o=ut,Se=n.stateNode.containerInfo,ut=!0,$t(e,t,n),Se=s,ut=o;break;case 0:case 11:case 14:case 15:if(!Ie&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&jl(n,t,l),o=o.next}while(o!==s)}$t(e,t,n);break;case 1:if(!Ie&&(zn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(c){me(n,t,c)}$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:n.mode&1?(Ie=(s=Ie)||n.memoizedState!==null,$t(e,t,n),Ie=s):$t(e,t,n);break;default:$t(e,t,n)}}function dd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sx),t.forEach(function(s){var o=mx.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function ct(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var i=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Se=c.stateNode,ut=!1;break e;case 3:Se=c.stateNode.containerInfo,ut=!0;break e;case 4:Se=c.stateNode.containerInfo,ut=!0;break e}c=c.return}if(Se===null)throw Error(M(160));qm(i,l,o),Se=null,ut=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(u){me(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wm(t,e),t=t.sibling}function Wm(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),Ct(e),s&4){try{zs(3,e,e.return),Vo(3,e)}catch(N){me(e,e.return,N)}try{zs(5,e,e.return)}catch(N){me(e,e.return,N)}}break;case 1:ct(t,e),Ct(e),s&512&&n!==null&&zn(n,n.return);break;case 5:if(ct(t,e),Ct(e),s&512&&n!==null&&zn(n,n.return),e.flags&32){var o=e.stateNode;try{Js(o,"")}catch(N){me(e,e.return,N)}}if(s&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,c=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&hf(o,i),tl(c,l);var u=tl(c,i);for(l=0;l<f.length;l+=2){var m=f[l],h=f[l+1];m==="style"?yf(o,h):m==="dangerouslySetInnerHTML"?xf(o,h):m==="children"?Js(o,h):Zl(o,m,h,u)}switch(c){case"input":Ki(o,i);break;case"textarea":pf(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?$n(o,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?$n(o,!!i.multiple,i.defaultValue,!0):$n(o,!!i.multiple,i.multiple?[]:"",!1))}o[nr]=i}catch(N){me(e,e.return,N)}}break;case 6:if(ct(t,e),Ct(e),s&4){if(e.stateNode===null)throw Error(M(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(N){me(e,e.return,N)}}break;case 3:if(ct(t,e),Ct(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Qs(t.containerInfo)}catch(N){me(e,e.return,N)}break;case 4:ct(t,e),Ct(e);break;case 13:ct(t,e),Ct(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Ma=he())),s&4&&dd(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(u=Ie)||m,ct(t,e),Ie=u):ct(t,e),Ct(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(L=e,m=e.child;m!==null;){for(h=L=m;L!==null;){switch(p=L,v=p.child,p.tag){case 0:case 11:case 14:case 15:zs(4,p,p.return);break;case 1:zn(p,p.return);var k=p.stateNode;if(typeof k.componentWillUnmount=="function"){s=p,n=p.return;try{t=s,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(N){me(s,n,N)}}break;case 5:zn(p,p.return);break;case 22:if(p.memoizedState!==null){fd(h);continue}}v!==null?(v.return=p,L=v):fd(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{o=h.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,f=h.memoizedProps.style,l=f!=null&&f.hasOwnProperty("display")?f.display:null,c.style.display=vf("display",l))}catch(N){me(e,e.return,N)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(N){me(e,e.return,N)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ct(t,e),Ct(e),s&4&&dd(e);break;case 21:break;default:ct(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($m(n)){var s=n;break e}n=n.return}throw Error(M(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(Js(o,""),s.flags&=-33);var i=cd(e);_l(e,i,o);break;case 3:case 4:var l=s.stateNode.containerInfo,c=cd(e);Il(e,c,l);break;default:throw Error(M(161))}}catch(f){me(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ox(e,t,n){L=e,Jm(e)}function Jm(e,t,n){for(var s=(e.mode&1)!==0;L!==null;){var o=L,i=o.child;if(o.tag===22&&s){var l=o.memoizedState!==null||Dr;if(!l){var c=o.alternate,f=c!==null&&c.memoizedState!==null||Ie;c=Dr;var u=Ie;if(Dr=l,(Ie=f)&&!u)for(L=o;L!==null;)l=L,f=l.child,l.tag===22&&l.memoizedState!==null?md(o):f!==null?(f.return=l,L=f):md(o);for(;i!==null;)L=i,Jm(i),i=i.sibling;L=o,Dr=c,Ie=u}ud(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,L=i):ud(e)}}function ud(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Vo(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ie)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Oc(t,i,s);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oc(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Qs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ie||t.flags&512&&Al(t)}catch(p){me(t,t.return,p)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function fd(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function md(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vo(4,t)}catch(f){me(t,n,f)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(f){me(t,o,f)}}var i=t.return;try{Al(t)}catch(f){me(t,i,f)}break;case 5:var l=t.return;try{Al(t)}catch(f){me(t,l,f)}}}catch(f){me(t,t.return,f)}if(t===e){L=null;break}var c=t.sibling;if(c!==null){c.return=t.return,L=c;break}L=t.return}}var ix=Math.ceil,ko=zt.ReactCurrentDispatcher,Ia=zt.ReactCurrentOwner,nt=zt.ReactCurrentBatchConfig,q=0,Ce=null,ge=null,Te=0,We=0,Hn=cn(0),ye=0,ar=null,Nn=0,Bo=0,_a=0,Hs=null,Ve=null,Ma=0,os=1/0,It=null,No=!1,Ml=null,nn=null,Fr=!1,Kt=null,Co=0,Gs=0,Pl=null,Or=-1,Kr=0;function De(){return q&6?he():Or!==-1?Or:Or=he()}function sn(e){return e.mode&1?q&2&&Te!==0?Te&-Te:Gg.transition!==null?(Kr===0&&(Kr=_f()),Kr):(e=X,e!==0||(e=window.event,e=e===void 0?16:Uf(e.type)),e):1}function ht(e,t,n,s){if(50<Gs)throw Gs=0,Pl=null,Error(M(185));dr(e,n,s),(!(q&2)||e!==Ce)&&(e===Ce&&(!(q&2)&&(Bo|=n),ye===4&&Yt(e,Te)),$e(e,s),n===1&&q===0&&!(t.mode&1)&&(os=he()+500,Do&&dn()))}function $e(e,t){var n=e.callbackNode;G0(e,t);var s=oo(e,e===Ce?Te:0);if(s===0)n!==null&&Nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Nc(n),t===1)e.tag===0?Hg(hd.bind(null,e)):sm(hd.bind(null,e)),Ug(function(){!(q&6)&&dn()}),n=null;else{switch(Mf(s)){case 1:n=ra;break;case 4:n=Af;break;case 16:n=ro;break;case 536870912:n=If;break;default:n=ro}n=th(n,Ym.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ym(e,t){if(Or=-1,Kr=0,q&6)throw Error(M(327));var n=e.callbackNode;if(On()&&e.callbackNode!==n)return null;var s=oo(e,e===Ce?Te:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=bo(e,s);else{t=s;var o=q;q|=2;var i=Km();(Ce!==e||Te!==t)&&(It=null,os=he()+500,xn(e,t));do try{cx();break}catch(c){Om(e,c)}while(!0);xa(),ko.current=i,q=o,ge!==null?t=0:(Ce=null,Te=0,t=ye)}if(t!==0){if(t===2&&(o=il(e),o!==0&&(s=o,t=Ll(e,o))),t===1)throw n=ar,xn(e,0),Yt(e,s),$e(e,he()),n;if(t===6)Yt(e,s);else{if(o=e.current.alternate,!(s&30)&&!lx(o)&&(t=bo(e,s),t===2&&(i=il(e),i!==0&&(s=i,t=Ll(e,i))),t===1))throw n=ar,xn(e,0),Yt(e,s),$e(e,he()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(M(345));case 2:mn(e,Ve,It);break;case 3:if(Yt(e,s),(s&130023424)===s&&(t=Ma+500-he(),10<t)){if(oo(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){De(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=hl(mn.bind(null,e,Ve,It),t);break}mn(e,Ve,It);break;case 4:if(Yt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var l=31-mt(s);i=1<<l,l=t[l],l>o&&(o=l),s&=~i}if(s=o,s=he()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ix(s/1960))-s,10<s){e.timeoutHandle=hl(mn.bind(null,e,Ve,It),s);break}mn(e,Ve,It);break;case 5:mn(e,Ve,It);break;default:throw Error(M(329))}}}return $e(e,he()),e.callbackNode===n?Ym.bind(null,e):null}function Ll(e,t){var n=Hs;return e.current.memoizedState.isDehydrated&&(xn(e,t).flags|=256),e=bo(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&Rl(t)),e}function Rl(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function lx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],i=o.getSnapshot;o=o.value;try{if(!pt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~_a,t&=~Bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),s=1<<n;e[n]=-1,t&=~s}}function hd(e){if(q&6)throw Error(M(327));On();var t=oo(e,0);if(!(t&1))return $e(e,he()),null;var n=bo(e,t);if(e.tag!==0&&n===2){var s=il(e);s!==0&&(t=s,n=Ll(e,s))}if(n===1)throw n=ar,xn(e,0),Yt(e,t),$e(e,he()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mn(e,Ve,It),$e(e,he()),null}function Pa(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(os=he()+500,Do&&dn())}}function Cn(e){Kt!==null&&Kt.tag===0&&!(q&6)&&On();var t=q;q|=1;var n=nt.transition,s=X;try{if(nt.transition=null,X=1,e)return e()}finally{X=s,nt.transition=n,q=t,!(q&6)&&dn()}}function La(){We=Hn.current,re(Hn)}function xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Fg(n)),ge!==null)for(n=ge.return;n!==null;){var s=n;switch(ha(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&uo();break;case 3:ss(),re(He),re(Me),Ca();break;case 5:Na(s);break;case 4:ss();break;case 13:re(ae);break;case 19:re(ae);break;case 10:va(s.type._context);break;case 22:case 23:La()}n=n.return}if(Ce=e,ge=e=rn(e.current,null),Te=We=t,ye=0,ar=null,_a=Bo=Nn=0,Ve=Hs=null,pn!==null){for(t=0;t<pn.length;t++)if(n=pn[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,s.next=l}n.pending=s}pn=null}return e}function Om(e,t){do{var n=ge;try{if(xa(),Wr.current=wo,yo){for(var s=ce.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}yo=!1}if(kn=0,Ne=ve=ce=null,Bs=!1,or=0,Ia.current=null,n===null||n.return===null){ye=1,ar=t,ge=null;break}e:{var i=e,l=n.return,c=n,f=t;if(t=Te,c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var u=f,m=c,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=td(l);if(v!==null){v.flags&=-257,nd(v,l,c,i,t),v.mode&1&&ed(i,u,t),t=v,f=u;var k=t.updateQueue;if(k===null){var N=new Set;N.add(f),t.updateQueue=N}else k.add(f);break e}else{if(!(t&1)){ed(i,u,t),Ra();break e}f=Error(M(426))}}else if(oe&&c.mode&1){var j=td(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),nd(j,l,c,i,t),pa(rs(f,c));break e}}i=f=rs(f,c),ye!==4&&(ye=2),Hs===null?Hs=[i]:Hs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Mm(i,f,t);Yc(i,x);break e;case 1:c=f;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(nn===null||!nn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=Pm(i,c,t);Yc(i,C);break e}}i=i.return}while(i!==null)}Xm(n)}catch(b){t=b,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function Km(){var e=ko.current;return ko.current=wo,e===null?wo:e}function Ra(){(ye===0||ye===3||ye===2)&&(ye=4),Ce===null||!(Nn&268435455)&&!(Bo&268435455)||Yt(Ce,Te)}function bo(e,t){var n=q;q|=2;var s=Km();(Ce!==e||Te!==t)&&(It=null,xn(e,t));do try{ax();break}catch(o){Om(e,o)}while(!0);if(xa(),q=n,ko.current=s,ge!==null)throw Error(M(261));return Ce=null,Te=0,ye}function ax(){for(;ge!==null;)Qm(ge)}function cx(){for(;ge!==null&&!L0();)Qm(ge)}function Qm(e){var t=eh(e.alternate,e,We);e.memoizedProps=e.pendingProps,t===null?Xm(e):ge=t,Ia.current=null}function Xm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nx(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,ge=null;return}}else if(n=tx(n,t,We),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);ye===0&&(ye=5)}function mn(e,t,n){var s=X,o=nt.transition;try{nt.transition=null,X=1,dx(e,t,n,s)}finally{nt.transition=o,X=s}return null}function dx(e,t,n,s){do On();while(Kt!==null);if(q&6)throw Error(M(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if($0(e,i),e===Ce&&(ge=Ce=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fr||(Fr=!0,th(ro,function(){return On(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var l=X;X=1;var c=q;q|=4,Ia.current=null,rx(e,n),Wm(n,e),Ig(fl),io=!!ul,fl=ul=null,e.current=n,ox(n),R0(),q=c,X=l,nt.transition=i}else e.current=n;if(Fr&&(Fr=!1,Kt=e,Co=o),i=e.pendingLanes,i===0&&(nn=null),U0(n.stateNode),$e(e,he()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(No)throw No=!1,e=Ml,Ml=null,e;return Co&1&&e.tag!==0&&On(),i=e.pendingLanes,i&1?e===Pl?Gs++:(Gs=0,Pl=e):Gs=0,dn(),null}function On(){if(Kt!==null){var e=Mf(Co),t=nt.transition,n=X;try{if(nt.transition=null,X=16>e?16:e,Kt===null)var s=!1;else{if(e=Kt,Kt=null,Co=0,q&6)throw Error(M(331));var o=q;for(q|=4,L=e.current;L!==null;){var i=L,l=i.child;if(L.flags&16){var c=i.deletions;if(c!==null){for(var f=0;f<c.length;f++){var u=c[f];for(L=u;L!==null;){var m=L;switch(m.tag){case 0:case 11:case 15:zs(8,m,i)}var h=m.child;if(h!==null)h.return=m,L=h;else for(;L!==null;){m=L;var p=m.sibling,v=m.return;if(Gm(m),m===u){L=null;break}if(p!==null){p.return=v,L=p;break}L=v}}}var k=i.alternate;if(k!==null){var N=k.child;if(N!==null){k.child=null;do{var j=N.sibling;N.sibling=null,N=j}while(N!==null)}}L=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,L=l;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zs(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,L=x;break e}L=i.return}}var g=e.current;for(L=g;L!==null;){l=L;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,L=y;else e:for(l=g;L!==null;){if(c=L,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Vo(9,c)}}catch(b){me(c,c.return,b)}if(c===l){L=null;break e}var C=c.sibling;if(C!==null){C.return=c.return,L=C;break e}L=c.return}}if(q=o,dn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(_o,e)}catch{}s=!0}return s}finally{X=n,nt.transition=t}}return!1}function pd(e,t,n){t=rs(n,t),t=Mm(e,t,1),e=tn(e,t,1),t=De(),e!==null&&(dr(e,1,t),$e(e,t))}function me(e,t,n){if(e.tag===3)pd(e,e,n);else for(;t!==null;){if(t.tag===3){pd(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(nn===null||!nn.has(s))){e=rs(n,e),e=Pm(t,e,1),t=tn(t,e,1),e=De(),t!==null&&(dr(t,1,e),$e(t,e));break}}t=t.return}}function ux(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Te&n)===n&&(ye===4||ye===3&&(Te&130023424)===Te&&500>he()-Ma?xn(e,0):_a|=n),$e(e,t)}function Zm(e,t){t===0&&(e.mode&1?(t=Er,Er<<=1,!(Er&130023424)&&(Er=4194304)):t=1);var n=De();e=Vt(e,t),e!==null&&(dr(e,t,n),$e(e,n))}function fx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zm(e,n)}function mx(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(M(314))}s!==null&&s.delete(t),Zm(e,n)}var eh;eh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ze=!1,ex(e,t,n);ze=!!(e.flags&131072)}else ze=!1,oe&&t.flags&1048576&&rm(t,ho,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Yr(e,t),e=t.pendingProps;var o=es(t,Me.current);Yn(t,n),o=Sa(null,t,s,e,o,n);var i=Ta();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(s)?(i=!0,fo(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,wa(t),o.updater=Uo,t.stateNode=o,o._reactInternals=t,kl(t,s,e,n),t=bl(null,t,s,!0,i,n)):(t.tag=0,oe&&i&&ma(t),Re(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Yr(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=px(s),e=dt(s,e),o){case 0:t=Cl(null,t,s,e,n);break e;case 1:t=od(null,t,s,e,n);break e;case 11:t=sd(null,t,s,e,n);break e;case 14:t=rd(null,t,s,dt(s.type,e),n);break e}throw Error(M(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:dt(s,o),Cl(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:dt(s,o),od(e,t,s,o,n);case 3:e:{if(Fm(t),e===null)throw Error(M(387));s=t.pendingProps,i=t.memoizedState,o=i.element,dm(e,t),xo(t,s,null,n);var l=t.memoizedState;if(s=l.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=rs(Error(M(423)),t),t=id(e,t,s,n,o);break e}else if(s!==o){o=rs(Error(M(424)),t),t=id(e,t,s,n,o);break e}else for(Je=en(t.stateNode.containerInfo.firstChild),Ye=t,oe=!0,ft=null,n=am(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ts(),s===o){t=Bt(e,t,n);break e}Re(e,t,s,n)}t=t.child}return t;case 5:return um(t),e===null&&vl(t),s=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,ml(s,o)?l=null:i!==null&&ml(s,i)&&(t.flags|=32),Dm(e,t),Re(e,t,l,n),t.child;case 6:return e===null&&vl(t),null;case 13:return Um(e,t,n);case 4:return ka(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ns(t,null,s,n):Re(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:dt(s,o),sd(e,t,s,o,n);case 7:return Re(e,t,t.pendingProps,n),t.child;case 8:return Re(e,t,t.pendingProps.children,n),t.child;case 12:return Re(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,ee(po,s._currentValue),s._currentValue=l,i!==null)if(pt(i.value,l)){if(i.children===o.children&&!He.current){t=Bt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){l=i.child;for(var f=c.firstContext;f!==null;){if(f.context===s){if(i.tag===1){f=Dt(-1,n&-n),f.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?f.next=f:(f.next=m.next,m.next=f),u.pending=f}}i.lanes|=n,f=i.alternate,f!==null&&(f.lanes|=n),yl(i.return,n,t),c.lanes|=n;break}f=f.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(M(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),yl(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Re(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Yn(t,n),o=rt(o),s=s(o),t.flags|=1,Re(e,t,s,n),t.child;case 14:return s=t.type,o=dt(s,t.pendingProps),o=dt(s.type,o),rd(e,t,s,o,n);case 15:return Lm(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:dt(s,o),Yr(e,t),t.tag=1,Ge(s)?(e=!0,fo(t)):e=!1,Yn(t,n),_m(t,s,o),kl(t,s,o,n),bl(null,t,s,!0,e,n);case 19:return Vm(e,t,n);case 22:return Rm(e,t,n)}throw Error(M(156,t.tag))};function th(e,t){return jf(e,t)}function hx(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,s){return new hx(e,t,n,s)}function Da(e){return e=e.prototype,!(!e||!e.isReactComponent)}function px(e){if(typeof e=="function")return Da(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ta)return 11;if(e===na)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qr(e,t,n,s,o,i){var l=2;if(s=e,typeof e=="function")Da(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Mn:return vn(n.children,o,i,t);case ea:l=8,o|=8;break;case qi:return e=tt(12,n,t,o|2),e.elementType=qi,e.lanes=i,e;case Wi:return e=tt(13,n,t,o),e.elementType=Wi,e.lanes=i,e;case Ji:return e=tt(19,n,t,o),e.elementType=Ji,e.lanes=i,e;case uf:return zo(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cf:l=10;break e;case df:l=9;break e;case ta:l=11;break e;case na:l=14;break e;case qt:l=16,s=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=tt(l,n,t,o),t.elementType=e,t.type=s,t.lanes=i,t}function vn(e,t,n,s){return e=tt(7,e,s,t),e.lanes=n,e}function zo(e,t,n,s){return e=tt(22,e,s,t),e.elementType=uf,e.lanes=n,e.stateNode={isHidden:!1},e}function Pi(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function Li(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gx(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fa(e,t,n,s,o,i,l,c,f){return e=new gx(e,t,n,c,f),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wa(i),e}function xx(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_n,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function nh(e){if(!e)return ln;e=e._reactInternals;e:{if(Tn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Ge(n))return nm(e,n,t)}return t}function sh(e,t,n,s,o,i,l,c,f){return e=Fa(n,s,!0,e,o,i,l,c,f),e.context=nh(null),n=e.current,s=De(),o=sn(n),i=Dt(s,o),i.callback=t??null,tn(n,i,o),e.current.lanes=o,dr(e,o,s),$e(e,s),e}function Ho(e,t,n,s){var o=t.current,i=De(),l=sn(o);return n=nh(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(i,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=tn(o,t,l),e!==null&&(ht(e,o,l,i),qr(e,o,l)),l}function So(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ua(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function vx(){return null}var rh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Va(e){this._internalRoot=e}Go.prototype.render=Va.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Ho(e,t,null,null)};Go.prototype.unmount=Va.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Ho(null,e,null,null)}),t[Ut]=null}};function Go(e){this._internalRoot=e}Go.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&Ff(e)}};function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xd(){}function yx(e,t,n,s,o){if(o){if(typeof s=="function"){var i=s;s=function(){var u=So(l);i.call(u)}}var l=sh(t,s,e,0,null,!1,!1,"",xd);return e._reactRootContainer=l,e[Ut]=l.current,er(e.nodeType===8?e.parentNode:e),Cn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var c=s;s=function(){var u=So(f);c.call(u)}}var f=Fa(e,0,!1,null,null,!1,!1,"",xd);return e._reactRootContainer=f,e[Ut]=f.current,er(e.nodeType===8?e.parentNode:e),Cn(function(){Ho(t,f,n,s)}),f}function qo(e,t,n,s,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var c=o;o=function(){var f=So(l);c.call(f)}}Ho(t,l,e,o)}else l=yx(n,t,e,o,s);return So(l)}Pf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ms(t.pendingLanes);n!==0&&(oa(t,n|1),$e(t,he()),!(q&6)&&(os=he()+500,dn()))}break;case 13:Cn(function(){var s=Vt(e,1);if(s!==null){var o=De();ht(s,e,1,o)}}),Ua(e,1)}};ia=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=De();ht(t,e,134217728,n)}Ua(e,134217728)}};Lf=function(e){if(e.tag===13){var t=sn(e),n=Vt(e,t);if(n!==null){var s=De();ht(n,e,t,s)}Ua(e,t)}};Rf=function(){return X};Df=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};sl=function(e,t,n){switch(t){case"input":if(Ki(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=Ro(s);if(!o)throw Error(M(90));mf(s),Ki(s,o)}}}break;case"textarea":pf(e,n);break;case"select":t=n.value,t!=null&&$n(e,!!n.multiple,t,!1)}};Nf=Pa;Cf=Cn;var wx={usingClientEntryPoint:!1,Events:[fr,Dn,Ro,wf,kf,Pa]},Es={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kx={bundleType:Es.bundleType,version:Es.version,rendererPackageName:Es.rendererPackageName,rendererConfig:Es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tf(e),e===null?null:e.stateNode},findFiberByHostInstance:Es.findFiberByHostInstance||vx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ur.isDisabled&&Ur.supportsFiber)try{_o=Ur.inject(kx),Tt=Ur}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wx;Ke.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ba(t))throw Error(M(200));return xx(e,t,null,n)};Ke.createRoot=function(e,t){if(!Ba(e))throw Error(M(299));var n=!1,s="",o=rh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Fa(e,1,!1,null,null,n,!1,s,o),e[Ut]=t.current,er(e.nodeType===8?e.parentNode:e),new Va(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Tf(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return Cn(e)};Ke.hydrate=function(e,t,n){if(!$o(t))throw Error(M(200));return qo(null,e,t,!0,n)};Ke.hydrateRoot=function(e,t,n){if(!Ba(e))throw Error(M(405));var s=n!=null&&n.hydratedSources||null,o=!1,i="",l=rh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=sh(t,null,e,1,n??null,o,!1,i,l),e[Ut]=t.current,er(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Go(t)};Ke.render=function(e,t,n){if(!$o(t))throw Error(M(200));return qo(null,e,t,!1,n)};Ke.unmountComponentAtNode=function(e){if(!$o(e))throw Error(M(40));return e._reactRootContainer?(Cn(function(){qo(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};Ke.unstable_batchedUpdates=Pa;Ke.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!$o(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return qo(e,t,n,!1,s)};Ke.version="18.3.1-next-f1338f8080-20240426";function oh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oh)}catch(e){console.error(e)}}oh(),rf.exports=Ke;var Nx=rf.exports,vd=Nx;Gi.createRoot=vd.createRoot,Gi.hydrateRoot=vd.hydrateRoot;const Cx=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 8.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6A2.25 2.25 0 0115.75 3.75h2.25A2.25 2.25 0 0120.25 6v2.25a2.25 2.25 0 01-2.25 2.25H15.75A2.25 2.25 0 0113.5 8.25V6zM13.5 15.75A2.25 2.25 0 0115.75 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H15.75A2.25 2.25 0 0113.5 18v-2.25z"})}),za=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h8a2 2 0 002-2v-1a2 2 0 012-2h1.945M7.707 4.293l.707-.707a2 2 0 012.828 0l.707.707M7.707 4.293l-1.414-1.414a2 2 0 010-2.828l1.414 1.414zm-1.414 8.486l-1.414 1.414a2 2 0 01-2.828 0l1.414-1.414zm1.414 0l.707.707a2 2 0 002.828 0l.707-.707M12 21a9 9 0 100-18 9 9 0 000 18z"})}),bx=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0012 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75z"})}),Sx=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"})}),Tx=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 21v-1.5M15.75 3v1.5M19.5 8.25H21M19.5 12H21M19.5 15.75H21M15.75 21v-1.5M12 4.5v15"})}),ih=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a9.75 9.75 0 01-4.874-1.972A9.75 9.75 0 011.5 12c0-1.407.385-2.735 1.056-3.893m16.888 0c.67 1.158 1.056 2.486 1.056 3.893 0 3.39-1.343 6.44-3.524 8.618M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}),lh=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),Ex=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12.5l.4 1.6 1.6.4-1.6.4-.4 1.6-.4-1.6-1.6-.4 1.6-.4.4-1.6zM18 6.5l.2.8.8.2-.8.2-.2.8-.2-.8-.8-.2.8-.2.2-.8z"})]}),jx=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 10.5a.75.75 0 01.75.75v5.25a.75.75 0 01-1.5 0v-5.25a.75.75 0 01.75-.75z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 9.75c0-3.328 2.39-6.32 5.48-7.228a.75.75 0 01.841.492c.24 1.132.887 2.128 1.763 2.856.877.728 1.957 1.258 3.14 1.543a.75.75 0 01.492.841c-.908 3.09-3.9 5.48-7.228 5.48-3.978 0-7.228-3.25-7.228-7.228z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 110-18 9 9 0 010 18z"})]}),ah=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.362-3.797A8.33 8.33 0 0112 2.25c1.153 0 2.243.232 3.223.638z"})}),Ax=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),ch=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-1.5h5.25m-5.25 0h3m-3 0h-1.5m-1.5 0H5.625c-.621 0-1.125.504-1.125 1.125v-1.5c0-.621.504-1.125 1.125-1.125H9.75M16.5 18v-1.5m0 0v-1.5m0 0v-1.5m0 0V9.75m0 0V6m0 0h-3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125H16.5m-9-1.5h-1.5m1.5 0h-5.25m5.25 0h-3m3 0h1.5m1.5 0h.008v.008H9.75v-.008z"})}),Ix=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12c0-3.35-1.9-6.2-4.5-7.5"})]}),dh=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"})}),Dl=[{name:"For You",icon:Ex},{name:"All",icon:Cx},{name:"World",icon:za,subcategories:["Americas","Europe","Asia","Africa","Middle East"]},{name:"Politics",icon:bx,subcategories:["Elections","Policy","Global"]},{name:"Economy",icon:Sx,subcategories:["Markets","Finance","Business"]},{name:"Technology",icon:Tx,subcategories:["AI","Cybersecurity","Gadgets"]},{name:"Sports",icon:ih,subcategories:["Football","Basketball","Gaming"]},{name:"Health",icon:lh,subcategories:["Wellness","Medical","Mental Health"]},{name:"Science",icon:jx,subcategories:["Space","Biotech","Energy"]},{name:"Environment",icon:ah},{name:"Culture",icon:Ax,subcategories:["Food","Language","Traditions"]},{name:"Entertainment",icon:ch,subcategories:["Movies & TV","Art","Music"]},{name:"History",icon:Ix,subcategories:["Ancient History","Modern History","African History","Military History"]},{name:"Mahama Investigates",icon:dh}],$s=[{id:1,title:"Global Summit Tackles Climate Change Amidst Rising Tensions",excerpt:"Leaders from around the world convened today to address the urgent climate crisis, but geopolitical friction threatens to undermine progress.",content:`The much-anticipated Global Climate Summit kicked off in Geneva this morning, with over 100 world leaders in attendance. The opening address by UN Secretary-General Antnio Guterres was a stark reminder of the stakes. "Humanity is on thin ice  and that ice is melting fast," he warned, urging immediate and drastic action to cut greenhouse gas emissions. However, the summit's ambitious goals are already facing headwinds. Tensions between major economic powers, particularly the United States and China, over trade and technology have spilled into the climate negotiations. Diplomats are working behind the scenes to find common ground, but sources say a comprehensive agreement is far from certain. The summit is expected to focus on finalizing rules for international carbon markets and scaling up financing for developing nations to adapt to climate impacts.`,author:"Elena Petrova",date:"2023-10-26",category:"World",imageUrl:"https://picsum.photos/seed/picsum1/800/600",live:!0,sentiment:"Negative",hasTimeline:!0,coordinates:{lat:46.2044,lon:6.1432}},{id:2,title:"Breakthrough in Fusion Energy: A Star in a Jar?",excerpt:"Scientists at the National Ignition Facility have achieved a net energy gain in a fusion reaction for the second time, a major step towards clean energy.",content:"For decades, the dream of harnessing the power of the sun on Earth has been just thata dream. But today, scientists announced a significant leap forward. At the Lawrence Livermore National Laboratory's National Ignition Facility (NIF) in California, a fusion reaction produced more energy than was used to initiate it, a milestone known as ignition. This marks the second time NIF has achieved this feat, demonstrating the viability of their approach. The experiment involved firing 192 powerful lasers at a tiny capsule of hydrogen fuel, creating temperatures and pressures hotter than the center of the sun. While commercial fusion power plants are still likely decades away, this repeated success provides crucial data and bolsters confidence that fusion energy could one day provide a near-limitless source of clean power.",author:"Dr. Kenji Tanaka",date:"2023-10-25",category:"Science",imageUrl:"https://picsum.photos/seed/picsum2/800/600",sentiment:"Positive"},{id:3,title:"The AI Revolution in Finance: Algorithms Take the Wheel",excerpt:"From high-frequency trading to personalized banking, artificial intelligence is reshaping the financial industry at an unprecedented pace.",content:"The world of finance, once dominated by human traders and analysts in bustling stock exchanges, is undergoing a quiet but profound transformation. Artificial intelligence is now at the heart of many financial operations. Sophisticated algorithms execute trades in microseconds, AI-powered models assess credit risk with greater accuracy than ever before, and chatbots provide 24/7 customer service. This 'quant' revolution promises greater efficiency and democratization of financial services. However, it also raises concerns about market stability, algorithmic bias, and the displacement of human jobs. Regulators are scrambling to keep up, grappling with how to oversee a complex, automated system that few truly understand.",author:"Marcus Vance",date:"2023-10-24",category:"Economy",imageUrl:"https://picsum.photos/seed/picsum3/800/600",sentiment:"Neutral"},{id:4,title:"Geopolitical Chess: The Battle for Africa's Rare Earth Minerals",excerpt:"As the demand for green technology soars, a new global competition is heating up for control of Africa's vast mineral resources, crucial for everything from EVs to wind turbines.",content:"Beneath the soil of several African nations lies a treasure trove of rare earth elementsminerals essential for the modern global economy. As the world transitions to green energy, the demand for these materials has skyrocketed, igniting a new 'Great Game' between global powers. China, which has long dominated the rare earth market, is facing increasing competition from the United States and the European Union, who are seeking to diversify their supply chains and reduce their dependency. This geopolitical contest is bringing both investment and instability to the continent. While some African nations hope to leverage this demand for economic development, others fear exploitation and the environmental consequences of large-scale mining operations. The strategic importance of these minerals ensures that Africa will be a central stage for global power dynamics for years to come.",author:"Amina Diallo",date:"2023-10-23",category:"Politics",imageUrl:"https://picsum.photos/seed/picsum4/800/600",hasTimeline:!0,coordinates:{lat:-1.9403,lon:29.8739}},{id:5,title:"Mental Health in the Digital Age: A Crisis of Connection?",excerpt:"Experts are increasingly concerned about the impact of social media and constant connectivity on the mental well-being of young people.",content:"While digital platforms promise to connect us, a growing body of research suggests they may be contributing to a crisis of loneliness and anxiety, particularly among adolescents and young adults. A recent study published in 'The Lancet' found a strong correlation between high social media usage and increased rates of depression. Psychologists point to factors like social comparison, cyberbullying, and the fear of missing out (FOMO) as major contributors. 'We've created a culture of curated perfection that is impossible to live up to,' says Dr. Susan Reid, the study's lead author. Tech companies are facing mounting pressure to design healthier platforms, with features like time limits and content moderation, but many argue that a fundamental shift in our relationship with technology is needed.",author:"Chloe Zhang",date:"2023-10-22",category:"Health",imageUrl:"https://picsum.photos/seed/picsum5/800/600",sentiment:"Negative"},{id:6,title:"The Renaissance of Board Games: More Than Just Monopoly",excerpt:"In an era of digital dominance, tabletop gaming is experiencing a massive resurgence, fostering community and creativity.",content:"Forget dusty boxes of Monopoly and Scrabble. The world of board games has exploded in recent years, with thousands of new, innovative games being released annually. From complex strategy games that take hours to play to quick, cooperative party games, there's something for everyone. Crowdfunding platforms like Kickstarter have fueled this boom, allowing independent designers to bring their creative visions to life. Gaming cafes and conventions are popping up in cities worldwide, creating vibrant communities. Enthusiasts say that in an age of screen fatigue, the tangible, social experience of gathering around a table with friends is more appealing than ever.",author:"Javier Rios",date:"2023-10-21",category:"Culture",imageUrl:"https://picsum.photos/seed/picsum6/800/600",sentiment:"Positive"},{id:7,title:"Arsenal's Title Hopes Soar After Dominant Derby Win",excerpt:"A decisive 3-0 victory over their North London rivals puts Arsenal in a commanding position at the top of the Premier League table.",content:"Arsenal delivered a statement performance at the Emirates Stadium on Sunday, dismantling Tottenham Hotspur in a highly anticipated North London Derby. Goals from Bukayo Saka, Gabriel Jesus, and a stunning strike from captain Martin degaard secured a comfortable 3-0 win. The result sends Mikel Arteta's side five points clear at the top of the table, fueling belief among fans that this could finally be their year. 'The energy in the stadium was electric,' Arteta said post-match. 'The players felt it, and they delivered a performance to match. We are happy with where we are, but we know there is a long way to go.'",author:"Liam Gallagher",date:"2023-10-20",category:"Sports",imageUrl:"https://picsum.photos/seed/picsum7/800/600"},{id:8,title:"Ancient Roman Villa Discovered Beneath Supermarket Construction Site",excerpt:"Construction workers in Rome were stunned to unearth a perfectly preserved Roman villa, complete with intricate mosaics and artifacts, dating back to the 2nd century AD.",content:"What began as a routine excavation for a new supermarket in the suburbs of Rome has turned into one of the most significant archaeological finds in recent memory. Workers discovered the remains of a luxurious Roman villa, stunningly preserved under layers of earth. Archaeologists called to the scene have already uncovered vibrant floor mosaics depicting mythological scenes, intact pottery, and even furniture. 'It's a snapshot of life for the Roman elite,' said Dr. Isabella Rossi, head of the excavation. 'To find a villa this large and this well-preserved within the city's modern footprint is simply extraordinary.' The discovery has halted construction indefinitely as archaeologists work to carefully excavate and preserve the site.",author:"Marco Bianchi",date:"2023-10-19",category:"History",imageUrl:"https://picsum.photos/seed/picsum8/800/600",coordinates:{lat:41.9028,lon:12.4964}}],_x=[{id:101,title:'New "Quantum Entanglement" Communication Device Tested',excerpt:"Researchers have successfully transmitted data over 10km using quantum entanglement, a technology previously thought to be purely theoretical.",content:"Full content...",author:"Admin",date:"2023-11-01",category:"Technology",imageUrl:"https://picsum.photos/seed/hidden1/800/600"},{id:102,title:"Deep Sea Exploration Uncovers Hundreds of New Species",excerpt:"An unmanned submarine expedition in the Pacific Ocean has returned with images and samples of previously unknown marine life.",content:"Full content...",author:"Admin",date:"2023-11-02",category:"Science",imageUrl:"https://picsum.photos/seed/hidden2/800/600"}],Mx=[{id:1,title:"The Daily Download: AI and the Future of Work",excerpt:"An in-depth conversation with tech visionary Dr. Anya Sharma on how AI is reshaping industries and what it means for your career.",author:"Mahama News Hub",imageUrl:"https://picsum.photos/seed/podcast1/400/400",audioUrl:"https://storage.googleapis.com/synthetic-ai-audio/podcast-1.mp3",duration:"28 min",episode:101},{id:2,title:"Geopolitics Unpacked: The New Scramble for Africa",excerpt:"Amina Diallo breaks down the complex web of international interests competing for influence and resources across the African continent.",author:"Mahama News Hub",imageUrl:"https://picsum.photos/seed/podcast2/400/400",audioUrl:"https://storage.googleapis.com/synthetic-ai-audio/podcast-2.mp3",duration:"35 min",episode:45},{id:3,title:"Mind Matters: Navigating the Anxiety Epidemic",excerpt:"Psychologist Dr. Susan Reid joins us to discuss the rising rates of anxiety, the role of technology, and practical strategies for mental well-being.",author:"Mahama News Hub",imageUrl:"https://picsum.photos/seed/podcast3/400/400",audioUrl:"https://storage.googleapis.com/synthetic-ai-audio/podcast-3.mp3",duration:"42 min",episode:23}],_t={id:"user-001",name:"Alex Rivera",email:"alex.rivera@example.com",avatar:"https://i.pravatar.cc/150?u=alexrivera",handle:"alexrivera",joinDate:"2023-01-15",bio:"Journalist and tech enthusiast. Following the intersection of AI, culture, and global politics. Reader. Writer. Explorer.",isProfilePublic:!0},Px=[{name:"Zephyr (Standard)",value:"Zephyr"},{name:"Puck",value:"Puck"},{name:"Charon",value:"Charon"},{name:"Kore",value:"Kore"},{name:"Fenrir",value:"Fenrir"}],yd={English:"Zephyr",French:"Puck",Swahili:"Kore",Kinyarwanda:"Fenrir",Spanish:"Puck",German:"Charon",Portuguese:"Puck"},Lx=[{year:1991,titleKey:"wwwTitle",descriptionKey:"wwwDesc",icon:"GlobeIcon"},{year:1995,titleKey:"gpsTitle",descriptionKey:"gpsDesc",icon:"GpsIcon"},{year:1998,titleKey:"googleTitle",descriptionKey:"googleDesc",icon:"SearchIcon"},{year:2003,titleKey:"genomeTitle",descriptionKey:"genomeDesc",icon:"DnaIcon"},{year:2004,titleKey:"socialTitle",descriptionKey:"socialDesc",icon:"SocialIcon"},{year:2007,titleKey:"iphoneTitle",descriptionKey:"iphoneDesc",icon:"SmartphoneIcon"},{year:2012,titleKey:"deepLearningTitle",descriptionKey:"deepLearningDesc",icon:"SparklesIcon"},{year:2022,titleKey:"genAiTitle",descriptionKey:"genAiDesc",icon:"UserIcon"}],wd=[{id:"user-002",name:"Samantha Lee",avatar:"https://i.pravatar.cc/150?u=samanthalee"},{id:"user-003",name:"Ben Carter",avatar:"https://i.pravatar.cc/150?u=bencarter"}],Rx=[{id:"c1",user:wd[0],text:"This is a really insightful take on the situation. I hadn't considered the economic angle before.",timestamp:"2 hours ago",likes:15,replies:[{id:"c1-1",user:_t,text:"Thanks, Samantha! The economic implications are definitely a huge part of the story.",timestamp:"1 hour ago",likes:5,replies:[]}]},{id:"c2",user:wd[1],text:"I disagree with the author's conclusion. I think they're overlooking the cultural factors at play.",timestamp:"5 hours ago",likes:3,replies:[]}],kd=[{name:"Free",price:"$0",priceYearly:"$0",features:["subFeatureFree1","subFeatureFree2","subFeatureFree3"]},{name:"Premium",price:"$9.99",priceYearly:"$99.99",features:["subFeaturePremium1","subFeaturePremium2","subFeaturePremium3","subFeaturePremium4","subFeaturePremium5"],isRecommended:!0}],Pt=[{id:1,title:"Inception",description:"A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.",posterUrl:"https://image.tmdb.org/t/p/w500/9gk7adHYeDvHkWTBFGVEoPYFp1A.jpg",trailerUrl:"https://www.youtube.com/embed/YoHD9XEInc0",genre:"Sci-Fi",year:2010,rating:"PG-13",duration:"2h 28m",isTrending:!0,isAwardWinner:!0},{id:2,title:"The Martian",description:"An astronaut becomes stranded on Mars after his team presumes him dead, and must rely on his ingenuity to find a way to signal to Earth that he is alive.",posterUrl:"https://image.tmdb.org/t/p/w500/5aGhaIHYuQbqlHWvWYqMC3O2W6.jpg",trailerUrl:"https://www.youtube.com/embed/ej3ioOneTy8",genre:"Sci-Fi",year:2015,rating:"PG-13",duration:"2h 24m",isNew:!0},{id:3,title:"Parasite",description:"Greed and class discrimination threaten the newly formed symbiotic relationship between the wealthy Park family and the destitute Kim clan.",posterUrl:"https://image.tmdb.org/t/p/w500/7IiTTgloJzvGI1TAYymCfbfl3vT.jpg",trailerUrl:"https://www.youtube.com/embed/5xH0HfJHsaY",genre:"Drama",year:2019,rating:"R",duration:"2h 12m",isAwardWinner:!0},{id:4,title:"Blade Runner 2049",description:"Young Blade Runner K's discovery of a long-buried secret leads him to track down former Blade Runner Rick Deckard, who's been missing for thirty years.",posterUrl:"https://image.tmdb.org/t/p/w500/gajva2L0rPYkEWjzgFlBXCAVBE5.jpg",trailerUrl:"https://www.youtube.com/embed/gCcx85zbxz4",genre:"Sci-Fi",year:2017,rating:"R",duration:"2h 44m",isTrending:!0},{id:5,title:"Dune",description:"A noble family becomes embroiled in a war for control over the galaxy's most valuable asset while its heir becomes troubled by visions of a dark future.",posterUrl:"https://image.tmdb.org/t/p/w500/d5NXSklXo0qyIY2VFIhhAQLtbVg.jpg",trailerUrl:"https://www.youtube.com/embed/n9xhJrPXop4",genre:"Sci-Fi",year:2021,rating:"PG-13",duration:"2h 35m",isNew:!0,isTrending:!0},{id:6,title:"Mad Max: Fury Road",description:"In a post-apocalyptic wasteland, a woman rebels against a tyrannical ruler in search for her homeland with the help of a group of female prisoners, a psychotic worshiper, and a drifter named Max.",posterUrl:"https://image.tmdb.org/t/p/w500/8tZYtuWezp8JbcsvHYO0O46tFbo.jpg",trailerUrl:"https://www.youtube.com/embed/hEJnMQG9ev8",genre:"Action",year:2015,rating:"R",duration:"2h",isAwardWinner:!0},{id:7,title:"Everything Everywhere All at Once",description:"An aging Chinese immigrant is swept up in an insane adventure, where she alone can save the world by exploring other universes connecting with the lives she could have led.",posterUrl:"https://image.tmdb.org/t/p/w500/w3LxiVYdWWRvEVdn5RYq6jIqkb1.jpg",trailerUrl:"https://www.youtube.com/embed/wxN1T1uxQ2g",genre:"Action",year:2022,rating:"R",duration:"2h 19m",isNew:!0,isAwardWinner:!0},{id:8,title:"The Grand Budapest Hotel",description:"The adventures of Gustave H, a legendary concierge at a famous hotel from the fictional Republic of Zubrowka between the first and second World Wars, and Zero Moustafa, the lobby boy who becomes his most trusted friend.",posterUrl:"https://image.tmdb.org/t/p/w500/eWdyYQreja6JGCzqHWXpWHDrrPo.jpg",trailerUrl:"https://www.youtube.com/embed/1Fg5iWmQjwk",genre:"Comedy",year:2014,rating:"R",duration:"1h 39m"},{id:9,title:"Knives Out",description:"A detective investigates the death of a patriarch of an eccentric, combative family.",posterUrl:"https://image.tmdb.org/t/p/w500/pThyQovXQrw2m0s9x82twY4ydr.jpg",trailerUrl:"https://www.youtube.com/embed/qGqiHJTsRkQ",genre:"Comedy",year:2019,rating:"PG-13",duration:"2h 10m"},{id:10,title:"Spider-Man: Into the Spider-Verse",description:"Teen Miles Morales becomes the Spider-Man of his universe, and must join with five spider-powered individuals from other dimensions to stop a threat for all realities.",posterUrl:"https://image.tmdb.org/t/p/w500/iiZZdoQBEYBvA_wE7CaAA2R2Mza.jpg",trailerUrl:"https://www.youtube.com/embed/g4Hbz2jLxvQ",genre:"Animation",year:2018,rating:"PG",duration:"1h 57m",isTrending:!0,isAwardWinner:!0},{id:11,title:"Arrival",description:"A linguist works with the military to communicate with alien lifeforms after twelve mysterious spacecraft appear around the world.",posterUrl:"https://image.tmdb.org/t/p/w500/x2FJsf1ElAgr63Y3PNsBqM_avlN.jpg",trailerUrl:"https://www.youtube.com/embed/tFMo3UJ4B4g",genre:"Sci-Fi",year:2016,rating:"PG-13",duration:"1h 56m"},{id:12,title:"Joker",description:"In Gotham City, mentally troubled comedian Arthur Fleck is disregarded and mistreated by society. He then embarks on a downward spiral of revolution and bloody crime.",posterUrl:"https://image.tmdb.org/t/p/w500/udDclJoHjfjb8Ekgsd4FDteOkCU.jpg",trailerUrl:"https://www.youtube.com/embed/zAGVQLHvwOY",genre:"Drama",year:2019,rating:"R",duration:"2h 2m",isAwardWinner:!0},{id:13,title:"Tenet",description:"Armed with only one word, Tenet, and fighting for the survival of the entire world, a Protagonist journeys through a twilight world of international espionage on a mission that will unfold in something beyond real time.",posterUrl:"https://image.tmdb.org/t/p/w500/k68nPLbIST6Ycclockwise.jpg",trailerUrl:"https://www.youtube.com/embed/LdOM0x0XDMo",genre:"Action",year:2020,rating:"PG-13",duration:"2h 30m"},{id:14,title:"Oppenheimer",description:"The story of American scientist J. Robert Oppenheimer and his role in the development of the atomic bomb.",posterUrl:"https://image.tmdb.org/t/p/w500/8Gxv8gSFCU0XGDykEGv7zR1n2ua.jpg",trailerUrl:"https://www.youtube.com/embed/uYPbbksJxIg",genre:"Drama",year:2023,rating:"R",duration:"3h",isNew:!0,isTrending:!0,isAwardWinner:!0},{id:15,title:"Poor Things",description:"The incredible tale about the fantastical evolution of Bella Baxter, a young woman brought back to life by the brilliant and unorthodox scientist Dr. Godwin Baxter.",posterUrl:"https://image.tmdb.org/t/p/w500/kCGlIMHnOm8JPXq3rXM6c5wMxcT.jpg",trailerUrl:"https://www.youtube.com/embed/R-_a2soE_kE",genre:"Comedy",year:2023,rating:"R",duration:"2h 21m",isNew:!0},{id:16,title:"The Creator",description:"Against the backdrop of a war between humans and robots with artificial intelligence, a former soldier finds the secret weapon, a robot in the form of a young child.",posterUrl:"https://image.tmdb.org/t/p/w500/vBZ0qvaRxqEhZwl6ssurTg3FOf.jpg",trailerUrl:"https://www.youtube.com/embed/ex3C1-5Dhb8",genre:"Sci-Fi",year:2023,rating:"PG-13",duration:"2h 13m",isNew:!0},{id:17,title:"The Holdovers",description:"A cranky history teacher at a remote prep school is forced to remain on campus over the holidays with a troubled student who has no place to go.",posterUrl:"https://image.tmdb.org/t/p/w500/aHSO9yCVOO9p6p5fUhG3E62ZA20.jpg",trailerUrl:"https://www.youtube.com/embed/AhKLpJmHhIg",genre:"Comedy",year:2023,rating:"R",duration:"2h 13m",isNew:!0},{id:18,title:"Anatomy of a Fall",description:"A woman is suspected of her husband's murder, and their blind son faces a moral dilemma as the sole witness.",posterUrl:"https://image.tmdb.org/t/p/w500/kCs22dC8AEeTO2SpAl2kK2mSjFc.jpg",trailerUrl:"https://www.youtube.com/embed/fTrsp5BMloA",genre:"Drama",year:2023,rating:"R",duration:"2h 32m",isNew:!0},{id:19,title:"Rebel Moon: Part One - A Child of Fire",description:"When a peaceful settlement on the edge of the galaxy finds itself threatened by the armies of the tyrannical Regent Balisarius, they dispatch a young woman with a mysterious past to seek out warriors from neighboring planets to help them take a stand.",posterUrl:"https://image.tmdb.org/t/p/w500/6PGweuFma9fH72z2363tAGp9gM.jpg",trailerUrl:"https://www.youtube.com/embed/fhr3-p-qAJs",genre:"Sci-Fi",year:2023,rating:"PG-13",duration:"2h 15m",isNew:!0}],Dx=[{name:"QuantumLeap",tagline:"Innovating Tomorrow's Computing",imageUrl:"https://picsum.photos/seed/sponsor1/600/400",logoUrl:"https://i.imgur.com/vHqB9Zw.png",website:"#"},{name:"BioSynth",tagline:"Engineering a Healthier Future",imageUrl:"https://picsum.photos/seed/sponsor2/600/400",logoUrl:"https://i.imgur.com/7gqjJpP.png",website:"#"},{name:"StellarForge",tagline:"Building the Future of Aerospace",imageUrl:"https://picsum.photos/seed/sponsor3/600/400",logoUrl:"https://i.imgur.com/dK5Zz5K.png",website:"#"}],Fx="KireheTVDB",Ux=1,it="articles";function hr(){return new Promise((e,t)=>{if(!window.indexedDB){t(new Error("IndexedDB is not supported by this browser."));return}const n=indexedDB.open(Fx,Ux);n.onerror=()=>t(new Error("Error opening DB")),n.onsuccess=()=>e(n.result),n.onupgradeneeded=s=>{const o=s.target.result;o.objectStoreNames.contains(it)||o.createObjectStore(it,{keyPath:"id"})}})}async function Vx(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch image: ${t.statusText}`);const n=await t.blob();return new Promise((s,o)=>{const i=new FileReader;i.onloadend=()=>s(i.result),i.onerror=o,i.readAsDataURL(n)})}function Bx(e){return new Promise(async(t,n)=>{try{const s=e.imageUrl.startsWith("data:")?e.imageUrl:await Vx(e.imageUrl),o={...e,imageUrlBase64:s},f=(await hr()).transaction(it,"readwrite").objectStore(it).put(o);f.onsuccess=()=>t(),f.onerror=()=>n(new Error("Failed to save article."))}catch(s){console.error("Failed to save article for offline:",s),n(s)}})}function Ri(){return new Promise(async(e,t)=>{const i=(await hr()).transaction(it,"readonly").objectStore(it).getAll();i.onsuccess=()=>e(i.result),i.onerror=()=>t(new Error("Failed to get articles."))})}function zx(e){return new Promise(async(t,n)=>{const l=(await hr()).transaction(it,"readwrite").objectStore(it).delete(e);l.onsuccess=()=>t(),l.onerror=()=>n(new Error("Failed to delete article."))})}function Hx(){return new Promise(async(e,t)=>{const i=(await hr()).transaction(it,"readwrite").objectStore(it).clear();i.onsuccess=()=>e(),i.onerror=()=>t(new Error("Failed to clear articles."))})}function Di(){return new Promise(async(e,t)=>{const i=(await hr()).transaction(it,"readonly").objectStore(it).getAllKeys();i.onsuccess=()=>e(i.result),i.onerror=()=>t(new Error("Failed to get article keys."))})}const Gx=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M12 12a4 4 0 11-8 0 4 4 0 018 0z"})}),$x=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-2.666-5.113 5.25 5.25 0 00-10.233 2.311A4.5 4.5 0 002.25 15z"})}),qx=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V2.25a.75.75 0 01.75-.75zM10.5 6a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V6.75a.75.75 0 01.75-.75zM10.5 10.5a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-2.666-5.113 5.25 5.25 0 00-10.233 2.311A4.5 4.5 0 002.25 15z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 19.5l-1.5-3m3 3l-1.5-3m3 3l-1.5-3m3 3l-1.5-3"})]}),Nd=(e,t)=>new Promise(n=>{setTimeout(()=>{const s=Math.round(20+e%10),o=Math.floor(t%3);let i,l;o<1?(i="Sunny",l=Gx):o<2?(i="Cloudy",l=$x):(i="Rainy",l=qx),n({locationName:"Current Location",temperature:s,condition:i,icon:l})},1500)}),jt={English:{logoText:"Mahama News Hub",openMenu:"Open menu",openSearch:"Open search",mahamaServices:"Mahama Services",selectLanguage:"Select language",openNotifications:"Open notifications",login:"Login",register:"Register",live:"Live",watchLive:"Watch Live",readMore:"Read More",summarize:"Summarize",explain:"Explain",listen:"Listen",removeFromCompare:"Remove",compare:"Compare",bookmark:"Bookmark",removeBookmark:"Remove Bookmark",articleSavedForOffline:"Article saved for offline reading",saveForOffline:"Save for offline reading",noArticles:"No articles found",checkPreferences:"Try adjusting your content preferences in settings.",trendingNow:"Trending Now",viewAllTrending:"View All Trending",liveCoverage:"Live Coverage",breakingG7:"Breaking: G7 Summit Concludes",mahama360Desc:"Exclusive in-depth analysis and reports from unique perspectives.",stayAhead:"Stay Ahead of the Curve",newsletterDesc:"Get the biggest stories delivered to your inbox.",enterYourEmail:"Enter your email",subscribe:"Subscribe",news:"News",world:"World",politics:"Politics",economy:"Economy",technology:"Technology",features:"Features",mahama_360:"Mahama 360",podcastsAndVideo:"Podcasts & Video",mahamaInvestigates:"Mahama Investigates",communityForum:"Community Forum",aboutMNH:"About MNH",aboutUs:"About Us",careers:"Careers",contact:"Contact",advertise:"Advertise",legal:"Legal",termsOfUse:"Terms of Use",privacyPolicy:"Privacy Policy",cookiePolicy:"Cookie Policy",accessibility:"Accessibility",allRightsReserved:"All Rights Reserved.",translating:"Translating to",applyingLens:"Applying AI lens...",minRead:"min read",publishedOn:"Published on",joinTheConversation:"Join the Conversation",writeYourComment:"Write your comment...",postComment:"Post comment",forYou:"For You",all:"All",sports:"Sports",health:"Health",science:"Science",environment:"Environment",culture:"Culture",entertainment:"Entertainment",history:"History","movies&tv":"Movies & TV",art:"Art",music:"Music",aiBriefing:"AI Briefing",podcastHub:"Podcast Hub",interactiveData:"Data Insights",investmentTrends:"Global Investment Trends",investmentTrendsDesc:"Analysis of venture capital funding across major sectors.",EmergingMarkets:"Emerging Markets",GreenTech:"Green Tech","AI&Automation":"AI & Automation",innovationTimeline:"Innovation Timeline",wwwTitle:"The World Wide Web",wwwDesc:"Sir Tim Berners-Lee invents the World Wide Web, changing how information is shared globally.",gpsTitle:"GPS Fully Operational",gpsDesc:"The Global Positioning System (GPS) constellation of 24 satellites becomes fully operational.",googleTitle:"Google is Founded",googleDesc:"Larry Page and Sergey Brin found Google, revolutionizing internet search.",genomeTitle:"Human Genome Project",genomeDesc:"The full sequence of the human genome is completed, opening new doors in medicine.",socialTitle:"The Rise of Social Media",socialDesc:"Facebook is launched, marking a new era of social networking and digital connection.",iphoneTitle:"The iPhone is Released",iphoneDesc:"Apple releases the first iPhone, ushering in the age of the modern smartphone.",deepLearningTitle:"Deep Learning Breakthrough",deepLearningDesc:"AlexNet wins the ImageNet competition, showcasing the power of deep neural networks.",genAiTitle:"Generative AI Goes Mainstream",genAiDesc:"The release of models like ChatGPT brings generative AI to the public, sparking widespread adoption.",copied:"Copied!",copyLink:"Copy Link",shareOnTwitter:"Share on Twitter",moreOptions:"More share options",zenMode:"Enter Zen Mode",exitZenMode:"Exit Zen Mode"},Kinyarwanda:{logoText:"Mahama News Hub",openMenu:"Fungura imbonerahamwe",openSearch:"Shakisha",mahamaServices:"Serivisi za Mahama",selectLanguage:"Hitamo ururimi",openNotifications:"Fungura amatangazo",login:"Injira",register:"Iyandikishe",live:"Ako kanya",watchLive:"Reba ako kanya",readMore:"Soma byinshi",summarize:"Incamake",explain:"Sobanura",listen:"Umva"}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Wx,Jx;function Yx(){return{geminiUrl:Wx,vertexUrl:Jx}}function Ox(e,t,n,s){var o,i;if(!(e!=null&&e.baseUrl)){const l=Yx();return t?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(i=l.geminiUrl)!==null&&i!==void 0?i:s}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class En{}function R(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(s,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const i=t[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function d(e,t,n){for(let i=0;i<t.length-1;i++){const l=t[i];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[c])){const f=e[c];if(Array.isArray(n))for(let u=0;u<f.length;u++){const m=f[u];d(m,t.slice(i+1),n[u])}else for(const u of f)d(u,t.slice(i+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in e||(e[c]=[{}]);const f=e[c];d(f[0],t.slice(i+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const s=t[t.length-1],o=e[s];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[s]=n}function a(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let s=0;s<t.length;s++){if(typeof e!="object"||e===null)return n;const o=t[s];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in e){const l=e[i];return Array.isArray(l)?l.map(c=>a(c,t.slice(s+1),n)):n}else return n}else e=e[o]}return e}catch(s){if(s instanceof TypeError)return n;throw s}}function Kx(e,t){for(const[n,s]of Object.entries(t)){const o=n.split("."),i=s.split("."),l=new Set;let c=-1;for(let f=0;f<o.length;f++)if(o[f]==="*"){c=f;break}if(c!==-1&&i.length>c)for(let f=c;f<i.length;f++){const u=i[f];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&l.add(u)}Fl(e,o,i,0,l)}}function Fl(e,t,n,s,o){if(s>=t.length||typeof e!="object"||e===null)return;const i=t[s];if(i.endsWith("[]")){const l=i.slice(0,-2),c=e;if(l in c&&Array.isArray(c[l]))for(const f of c[l])Fl(f,t,n,s+1,o)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,c=Object.keys(l).filter(u=>!u.startsWith("_")&&!o.has(u)),f={};for(const u of c)f[u]=l[u];for(const[u,m]of Object.entries(f)){const h=[];for(const p of n.slice(s))p==="*"?h.push(u):h.push(p);d(l,h,m)}for(const u of c)delete l[u]}}else{const l=e;i in l&&Fl(l[i],t,n,s+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ha(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qx(e){const t={},n=a(e,["operationName"]);n!=null&&d(t,["operationName"],n);const s=a(e,["resourceName"]);return s!=null&&d(t,["_url","resourceName"],s),t}function Xx(e){const t={},n=a(e,["name"]);n!=null&&d(t,["name"],n);const s=a(e,["metadata"]);s!=null&&d(t,["metadata"],s);const o=a(e,["done"]);o!=null&&d(t,["done"],o);const i=a(e,["error"]);i!=null&&d(t,["error"],i);const l=a(e,["response","generateVideoResponse"]);return l!=null&&d(t,["response"],ev(l)),t}function Zx(e){const t={},n=a(e,["name"]);n!=null&&d(t,["name"],n);const s=a(e,["metadata"]);s!=null&&d(t,["metadata"],s);const o=a(e,["done"]);o!=null&&d(t,["done"],o);const i=a(e,["error"]);i!=null&&d(t,["error"],i);const l=a(e,["response"]);return l!=null&&d(t,["response"],tv(l)),t}function ev(e){const t={},n=a(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>nv(l))),d(t,["generatedVideos"],i)}const s=a(e,["raiMediaFilteredCount"]);s!=null&&d(t,["raiMediaFilteredCount"],s);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function tv(e){const t={},n=a(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>sv(l))),d(t,["generatedVideos"],i)}const s=a(e,["raiMediaFilteredCount"]);s!=null&&d(t,["raiMediaFilteredCount"],s);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function nv(e){const t={},n=a(e,["video"]);return n!=null&&d(t,["video"],iv(n)),t}function sv(e){const t={},n=a(e,["_self"]);return n!=null&&d(t,["video"],lv(n)),t}function rv(e){const t={},n=a(e,["operationName"]);return n!=null&&d(t,["_url","operationName"],n),t}function ov(e){const t={},n=a(e,["operationName"]);return n!=null&&d(t,["_url","operationName"],n),t}function iv(e){const t={},n=a(e,["uri"]);n!=null&&d(t,["uri"],n);const s=a(e,["encodedVideo"]);s!=null&&d(t,["videoBytes"],Ha(s));const o=a(e,["encoding"]);return o!=null&&d(t,["mimeType"],o),t}function lv(e){const t={},n=a(e,["gcsUri"]);n!=null&&d(t,["uri"],n);const s=a(e,["bytesBase64Encoded"]);s!=null&&d(t,["videoBytes"],Ha(s));const o=a(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cd;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Cd||(Cd={}));var bd;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(bd||(bd={}));var Sd;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Sd||(Sd={}));var Be;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Be||(Be={}));var Td;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Td||(Td={}));var Ed;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Ed||(Ed={}));var jd;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(jd||(jd={}));var Ad;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ad||(Ad={}));var Id;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Id||(Id={}));var _d;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_d||(_d={}));var Md;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Md||(Md={}));var Pd;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(Pd||(Pd={}));var Ld;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Ld||(Ld={}));var Rd;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Rd||(Rd={}));var Dd;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Dd||(Dd={}));var Fd;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Fd||(Fd={}));var is;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(is||(is={}));var Ud;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ud||(Ud={}));var Ul;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ul||(Ul={}));var Vd;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vd||(Vd={}));var Bd;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Bd||(Bd={}));var zd;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V"})(zd||(zd={}));var Hd;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Hd||(Hd={}));var Gd;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Gd||(Gd={}));var $d;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})($d||($d={}));var qd;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qd||(qd={}));var Wd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Wd||(Wd={}));var Jd;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Jd||(Jd={}));var Yd;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Yd||(Yd={}));var Od;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Od||(Od={}));var Kd;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Kd||(Kd={}));var Qd;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Qd||(Qd={}));var Xd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Xd||(Xd={}));var Zd;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Zd||(Zd={}));var eu;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(eu||(eu={}));var tu;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(tu||(tu={}));var nu;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(nu||(nu={}));var su;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(su||(su={}));var ru;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(ru||(ru={}));var ou;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(ou||(ou={}));var iu;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(iu||(iu={}));var lu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(lu||(lu={}));var au;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(au||(au={}));var cu;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(cu||(cu={}));var du;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(du||(du={}));var uu;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(uu||(uu={}));var fu;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(fu||(fu={}));var mu;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(mu||(mu={}));var Gn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Gn||(Gn={}));class Vl{constructor(t){const n={};for(const s of t.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class js{get text(){var t,n,s,o,i,l,c,f;if(((o=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",m=!1;const h=[];for(const p of(f=(c=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[v,k]of Object.entries(p))v!=="text"&&v!=="thought"&&(k!==null||k!==void 0)&&h.push(v);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;m=!0,u+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?u:void 0}get data(){var t,n,s,o,i,l,c,f;if(((o=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const m=[];for(const h of(f=(c=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[p,v]of Object.entries(h))p!=="inlineData"&&(v!==null||v!==void 0)&&m.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,s,o,i,l,c,f;if(((o=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(f=(c=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,s,o,i,l,c,f,u;if(((o=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(f=(c=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((m==null?void 0:m.length)!==0)return(u=m==null?void 0:m[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,s,o,i,l,c,f,u;if(((o=(s=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(f=(c=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((m==null?void 0:m.length)!==0)return(u=m==null?void 0:m[0])===null||u===void 0?void 0:u.output}}class hu{}class pu{}class av{}class cv{}class dv{}class uv{}class gu{}class xu{}class vu{}class fv{}class To{_fromAPIResponse({apiResponse:t,isVertexAI:n}){const s=new To;let o;const i=t;return n?o=Zx(i):o=Xx(i),Object.assign(s,o),s}}class yu{}class wu{}class ku{}class mv{}class hv{}class pv{}class Nu{}class gv{get text(){var t,n,s;let o="",i=!1;const l=[];for(const c of(s=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[f,u]of Object.entries(c))f!=="text"&&f!=="thought"&&u!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;i=!0,o+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?o:void 0}get data(){var t,n,s;let o="";const i=[];for(const l of(s=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&i.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class xv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function uh(e,t){const n=Y(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function fh(e){return Array.isArray(e)?e.map(t=>Eo(t)):[Eo(e)]}function Eo(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function mh(e){const t=Eo(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function hh(e){const t=Eo(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Cu(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function ph(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Cu(t)):[Cu(e)]}function Bl(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function bu(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Su(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function _e(e){if(e==null)throw new Error("ContentUnion is required");return Bl(e)?e:{role:"user",parts:ph(e)}}function Ga(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const s=_e(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(e.isVertexAI()){const n=_e(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>_e(n)):[_e(t)]}function st(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(bu(e)||Su(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_e(e)]}const t=[],n=[],s=Bl(e[0]);for(const o of e){const i=Bl(o);if(i!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(o);else{if(bu(o)||Su(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return s||t.push({role:"user",parts:ph(n)}),t}function vv(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(s=>s!=="null");if(n.length===1)t.type=Object.values(Be).includes(n[0].toUpperCase())?n[0].toUpperCase():Be.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of n)t.anyOf.push({type:Object.values(Be).includes(s.toUpperCase())?s.toUpperCase():Be.TYPE_UNSPECIFIED})}}function Kn(e){const t={},n=["items"],s=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&vv(e.type,t);for(const[l,c]of Object.entries(e))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(Be).includes(c.toUpperCase())?c.toUpperCase():Be.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Kn(c);else if(s.includes(l)){const f=[];for(const u of c){if(u.type=="null"){t.nullable=!0;continue}f.push(Kn(u))}t[l]=f}else if(o.includes(l)){const f={};for(const[u,m]of Object.entries(c))f[u]=Kn(m);t[l]=f}else{if(l==="additionalProperties")continue;t[l]=c}return t}function $a(e){return Kn(e)}function qa(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Wa(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function fs(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Kn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Kn(t.response));return e}function ms(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function yv(e,t,n,s=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===s;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Ht(e,t){if(typeof t!="string")throw new Error("name must be a string");return yv(e,t,"cachedContents")}function gh(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function un(e){return Ha(e)}function wv(e){return e!=null&&typeof e=="object"&&"name"in e}function kv(e){return e!=null&&typeof e=="object"&&"video"in e}function Nv(e){return e!=null&&typeof e=="object"&&"uri"in e}function xh(e){var t;let n;if(wv(e)&&(n=e.name),!(Nv(e)&&(n=e.uri,n===void 0))&&!(kv(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function vh(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function yh(e){for(const t of["models","tunedModels","publisherModels"])if(Cv(e,t))return e[t];return[]}function Cv(e,t){return e!==null&&typeof e=="object"&&t in e}function bv(e,t={}){const n=e,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function Sv(e,t={}){const n=[],s=new Set;for(const o of e){const i=o.name;if(s.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);s.add(i);const l=bv(o,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function wh(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Tv(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function kh(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let i=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function hs(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Nh(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ev(e){const t={},n=a(e,["responsesFile"]);n!=null&&d(t,["fileName"],n);const s=a(e,["inlinedResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(l=>r2(l))),d(t,["inlinedResponses"],i)}const o=a(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),d(t,["inlinedEmbedContentResponses"],i)}return t}function jv(e){const t={},n=a(e,["predictionsFormat"]);n!=null&&d(t,["format"],n);const s=a(e,["gcsDestination","outputUriPrefix"]);s!=null&&d(t,["gcsUri"],s);const o=a(e,["bigqueryDestination","outputUri"]);return o!=null&&d(t,["bigqueryUri"],o),t}function Av(e){const t={},n=a(e,["format"]);n!=null&&d(t,["predictionsFormat"],n);const s=a(e,["gcsUri"]);s!=null&&d(t,["gcsDestination","outputUriPrefix"],s);const o=a(e,["bigqueryUri"]);if(o!=null&&d(t,["bigqueryDestination","outputUri"],o),a(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Xr(e){const t={},n=a(e,["name"]);n!=null&&d(t,["name"],n);const s=a(e,["metadata","displayName"]);s!=null&&d(t,["displayName"],s);const o=a(e,["metadata","state"]);o!=null&&d(t,["state"],Nh(o));const i=a(e,["metadata","createTime"]);i!=null&&d(t,["createTime"],i);const l=a(e,["metadata","endTime"]);l!=null&&d(t,["endTime"],l);const c=a(e,["metadata","updateTime"]);c!=null&&d(t,["updateTime"],c);const f=a(e,["metadata","model"]);f!=null&&d(t,["model"],f);const u=a(e,["metadata","output"]);return u!=null&&d(t,["dest"],Ev(kh(u))),t}function zl(e){const t={},n=a(e,["name"]);n!=null&&d(t,["name"],n);const s=a(e,["displayName"]);s!=null&&d(t,["displayName"],s);const o=a(e,["state"]);o!=null&&d(t,["state"],Nh(o));const i=a(e,["error"]);i!=null&&d(t,["error"],i);const l=a(e,["createTime"]);l!=null&&d(t,["createTime"],l);const c=a(e,["startTime"]);c!=null&&d(t,["startTime"],c);const f=a(e,["endTime"]);f!=null&&d(t,["endTime"],f);const u=a(e,["updateTime"]);u!=null&&d(t,["updateTime"],u);const m=a(e,["model"]);m!=null&&d(t,["model"],m);const h=a(e,["inputConfig"]);h!=null&&d(t,["src"],Iv(h));const p=a(e,["outputConfig"]);return p!=null&&d(t,["dest"],jv(kh(p))),t}function Iv(e){const t={},n=a(e,["instancesFormat"]);n!=null&&d(t,["format"],n);const s=a(e,["gcsSource","uris"]);s!=null&&d(t,["gcsUri"],s);const o=a(e,["bigquerySource","inputUri"]);return o!=null&&d(t,["bigqueryUri"],o),t}function _v(e,t){const n={};if(a(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=a(t,["fileName"]);s!=null&&d(n,["fileName"],s);const o=a(t,["inlinedRequests"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>s2(e,l))),d(n,["requests","requests"],i)}return n}function Mv(e){const t={},n=a(e,["format"]);n!=null&&d(t,["instancesFormat"],n);const s=a(e,["gcsUri"]);s!=null&&d(t,["gcsSource","uris"],s);const o=a(e,["bigqueryUri"]);if(o!=null&&d(t,["bigquerySource","inputUri"],o),a(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Pv(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["data"]);n!=null&&d(t,["data"],n);const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function Lv(e,t){const n={},s=a(t,["name"]);return s!=null&&d(n,["_url","name"],hs(e,s)),n}function Rv(e,t){const n={},s=a(t,["name"]);return s!=null&&d(n,["_url","name"],hs(e,s)),n}function Dv(e){const t={},n=a(e,["content"]);n!=null&&d(t,["content"],n);const s=a(e,["citationMetadata"]);s!=null&&d(t,["citationMetadata"],Fv(s));const o=a(e,["tokenCount"]);o!=null&&d(t,["tokenCount"],o);const i=a(e,["finishReason"]);i!=null&&d(t,["finishReason"],i);const l=a(e,["urlContextMetadata"]);l!=null&&d(t,["urlContextMetadata"],l);const c=a(e,["avgLogprobs"]);c!=null&&d(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&d(t,["groundingMetadata"],f);const u=a(e,["index"]);u!=null&&d(t,["index"],u);const m=a(e,["logprobsResult"]);m!=null&&d(t,["logprobsResult"],m);const h=a(e,["safetyRatings"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(v=>v)),d(t,["safetyRatings"],p)}return t}function Fv(e){const t={},n=a(e,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),d(t,["citations"],s)}return t}function Ch(e){const t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>u2(i))),d(t,["parts"],o)}const s=a(e,["role"]);return s!=null&&d(t,["role"],s),t}function Uv(e,t){const n={},s=a(e,["displayName"]);if(t!==void 0&&s!=null&&d(t,["batch","displayName"],s),a(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Vv(e,t){const n={},s=a(e,["displayName"]);t!==void 0&&s!=null&&d(t,["displayName"],s);const o=a(e,["dest"]);return t!==void 0&&o!=null&&d(t,["outputConfig"],Av(Tv(o))),n}function Tu(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["src"]);o!=null&&d(n,["batch","inputConfig"],_v(e,wh(e,o)));const i=a(t,["config"]);return i!=null&&Uv(i,n),n}function Bv(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["model"],Y(e,s));const o=a(t,["src"]);o!=null&&d(n,["inputConfig"],Mv(wh(e,o)));const i=a(t,["config"]);return i!=null&&Vv(i,n),n}function zv(e,t){const n={},s=a(e,["displayName"]);return t!==void 0&&s!=null&&d(t,["batch","displayName"],s),n}function Hv(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["src"]);o!=null&&d(n,["batch","inputConfig"],Ov(e,o));const i=a(t,["config"]);return i!=null&&zv(i,n),n}function Gv(e,t){const n={},s=a(t,["name"]);return s!=null&&d(n,["_url","name"],hs(e,s)),n}function $v(e,t){const n={},s=a(t,["name"]);return s!=null&&d(n,["_url","name"],hs(e,s)),n}function qv(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["name"]);s!=null&&d(t,["name"],s);const o=a(e,["done"]);o!=null&&d(t,["done"],o);const i=a(e,["error"]);return i!=null&&d(t,["error"],i),t}function Wv(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["name"]);s!=null&&d(t,["name"],s);const o=a(e,["done"]);o!=null&&d(t,["done"],o);const i=a(e,["error"]);return i!=null&&d(t,["error"],i),t}function Jv(e,t){const n={},s=a(t,["contents"]);if(s!=null){let i=Ga(e,s);Array.isArray(i)&&(i=i.map(l=>l)),d(n,["requests[]","request","content"],i)}const o=a(t,["config"]);return o!=null&&(d(n,["_self"],Yv(o,n)),Kx(n,{"requests[].*":"requests[].request.*"})),n}function Yv(e,t){const n={},s=a(e,["taskType"]);t!==void 0&&s!=null&&d(t,["requests[]","taskType"],s);const o=a(e,["title"]);t!==void 0&&o!=null&&d(t,["requests[]","title"],o);const i=a(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&d(t,["requests[]","outputDimensionality"],i),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ov(e,t){const n={},s=a(t,["fileName"]);s!=null&&d(n,["file_name"],s);const o=a(t,["inlinedRequests"]);return o!=null&&d(n,["requests"],Jv(e,o)),n}function Kv(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function Qv(e,t,n){const s={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Ch(_e(o)));const i=a(t,["temperature"]);i!=null&&d(s,["temperature"],i);const l=a(t,["topP"]);l!=null&&d(s,["topP"],l);const c=a(t,["topK"]);c!=null&&d(s,["topK"],c);const f=a(t,["candidateCount"]);f!=null&&d(s,["candidateCount"],f);const u=a(t,["maxOutputTokens"]);u!=null&&d(s,["maxOutputTokens"],u);const m=a(t,["stopSequences"]);m!=null&&d(s,["stopSequences"],m);const h=a(t,["responseLogprobs"]);h!=null&&d(s,["responseLogprobs"],h);const p=a(t,["logprobs"]);p!=null&&d(s,["logprobs"],p);const v=a(t,["presencePenalty"]);v!=null&&d(s,["presencePenalty"],v);const k=a(t,["frequencyPenalty"]);k!=null&&d(s,["frequencyPenalty"],k);const N=a(t,["seed"]);N!=null&&d(s,["seed"],N);const j=a(t,["responseMimeType"]);j!=null&&d(s,["responseMimeType"],j);const x=a(t,["responseSchema"]);x!=null&&d(s,["responseSchema"],$a(x));const g=a(t,["responseJsonSchema"]);if(g!=null&&d(s,["responseJsonSchema"],g),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=a(t,["safetySettings"]);if(n!==void 0&&y!=null){let V=y;Array.isArray(V)&&(V=V.map(B=>f2(B))),d(n,["safetySettings"],V)}const C=a(t,["tools"]);if(n!==void 0&&C!=null){let V=ms(C);Array.isArray(V)&&(V=V.map(B=>m2(fs(B)))),d(n,["tools"],V)}const b=a(t,["toolConfig"]);if(n!==void 0&&b!=null&&d(n,["toolConfig"],b),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=a(t,["cachedContent"]);n!==void 0&&S!=null&&d(n,["cachedContent"],Ht(e,S));const E=a(t,["responseModalities"]);E!=null&&d(s,["responseModalities"],E);const A=a(t,["mediaResolution"]);A!=null&&d(s,["mediaResolution"],A);const T=a(t,["speechConfig"]);if(T!=null&&d(s,["speechConfig"],qa(T)),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _=a(t,["thinkingConfig"]);_!=null&&d(s,["thinkingConfig"],_);const D=a(t,["imageConfig"]);return D!=null&&d(s,["imageConfig"],D),s}function Xv(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["candidates"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(u=>Dv(u))),d(t,["candidates"],f)}const o=a(e,["modelVersion"]);o!=null&&d(t,["modelVersion"],o);const i=a(e,["promptFeedback"]);i!=null&&d(t,["promptFeedback"],i);const l=a(e,["responseId"]);l!=null&&d(t,["responseId"],l);const c=a(e,["usageMetadata"]);return c!=null&&d(t,["usageMetadata"],c),t}function Zv(e,t){const n={},s=a(t,["name"]);return s!=null&&d(n,["_url","name"],hs(e,s)),n}function e2(e,t){const n={},s=a(t,["name"]);return s!=null&&d(n,["_url","name"],hs(e,s)),n}function t2(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function n2(e){const t={},n=a(e,["timeRangeFilter"]);if(n!=null&&d(t,["timeRangeFilter"],n),a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function s2(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["request","model"],Y(e,s));const o=a(t,["contents"]);if(o!=null){let c=st(o);Array.isArray(c)&&(c=c.map(f=>Ch(f))),d(n,["request","contents"],c)}const i=a(t,["metadata"]);i!=null&&d(n,["metadata"],i);const l=a(t,["config"]);return l!=null&&d(n,["request","generationConfig"],Qv(e,l,a(n,["request"],{}))),n}function r2(e){const t={},n=a(e,["response"]);n!=null&&d(t,["response"],Xv(n));const s=a(e,["error"]);return s!=null&&d(t,["error"],s),t}function o2(e,t){const n={},s=a(e,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const o=a(e,["pageToken"]);if(t!==void 0&&o!=null&&d(t,["_query","pageToken"],o),a(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function i2(e,t){const n={},s=a(e,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const i=a(e,["filter"]);return t!==void 0&&i!=null&&d(t,["_query","filter"],i),n}function l2(e){const t={},n=a(e,["config"]);return n!=null&&o2(n,t),t}function a2(e){const t={},n=a(e,["config"]);return n!=null&&i2(n,t),t}function c2(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const o=a(e,["operations"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Xr(l))),d(t,["batchJobs"],i)}return t}function d2(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const o=a(e,["batchPredictionJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>zl(l))),d(t,["batchJobs"],i)}return t}function u2(e){const t={},n=a(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],n);const s=a(e,["thought"]);s!=null&&d(t,["thought"],s);const o=a(e,["inlineData"]);o!=null&&d(t,["inlineData"],Pv(o));const i=a(e,["fileData"]);i!=null&&d(t,["fileData"],Kv(i));const l=a(e,["thoughtSignature"]);l!=null&&d(t,["thoughtSignature"],l);const c=a(e,["functionCall"]);c!=null&&d(t,["functionCall"],c);const f=a(e,["codeExecutionResult"]);f!=null&&d(t,["codeExecutionResult"],f);const u=a(e,["executableCode"]);u!=null&&d(t,["executableCode"],u);const m=a(e,["functionResponse"]);m!=null&&d(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&d(t,["text"],h),t}function f2(e){const t={};if(a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(e,["category"]);n!=null&&d(t,["category"],n);const s=a(e,["threshold"]);return s!=null&&d(t,["threshold"],s),t}function m2(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(m=>m)),d(t,["functionDeclarations"],u)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=a(e,["googleSearch"]);s!=null&&d(t,["googleSearch"],n2(s));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],o),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=a(e,["googleMaps"]);i!=null&&d(t,["googleMaps"],t2(i));const l=a(e,["urlContext"]);l!=null&&d(t,["urlContext"],l);const c=a(e,["computerUse"]);c!=null&&d(t,["computerUse"],c);const f=a(e,["codeExecution"]);return f!=null&&d(t,["codeExecution"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(bn||(bn={}));class pr{constructor(t,n,s,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,s,o)}init(t,n,s){var o,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!s||Object.keys(s).length===0?l={config:{}}:typeof s=="object"?l=Object.assign({},s):l=s,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h2 extends En{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new pr(bn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=Tu(this.apiClient,t),s=n._url,o=R("{model}:batchGenerateContent",s),c=n.batch.inputConfig.requests,f=c.requests,u=[];for(const m of f){const h=Object.assign({},m);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=p,h.request=v}u.push(h)}return c.requests=u,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const s=n?Object.assign({},n):{},o=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${o}`),s.dest===void 0){const i=this.getGcsUri(t),l=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?s.dest=`${i.slice(0,-6)}/dest`:s.dest=`${i}_dest_${o}`;else if(l)s.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=Bv(this.apiClient,t);return c=R("batchPredictionJobs",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>zl(m))}else{const u=Tu(this.apiClient,t);return c=R("{model}:batchGenerateContent",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>Xr(m))}}async createEmbeddingsInternal(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Hv(this.apiClient,t);return i=R("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>Xr(f))}}async get(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=e2(this.apiClient,t);return c=R("batchPredictionJobs/{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>zl(m))}else{const u=Zv(this.apiClient,t);return c=R("batches/{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>Xr(m))}}async cancel(t){var n,s,o,i;let l="",c={};if(this.apiClient.isVertexAI()){const f=Rv(this.apiClient,t);l=R("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const f=Lv(this.apiClient,t);l=R("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=a2(t);return c=R("batchPredictionJobs",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=d2(m),p=new Nu;return Object.assign(p,h),p})}else{const u=l2(t);return c=R("batches",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=c2(m),p=new Nu;return Object.assign(p,h),p})}}async delete(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=$v(this.apiClient,t);return c=R("batchPredictionJobs/{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>Wv(m))}else{const u=Gv(this.apiClient,t);return c=R("batches/{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>qv(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p2(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["data"]);n!=null&&d(t,["data"],n);const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function Eu(e){const t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>D2(i))),d(t,["parts"],o)}const s=a(e,["role"]);return s!=null&&d(t,["role"],s),t}function g2(e,t){const n={},s=a(e,["ttl"]);t!==void 0&&s!=null&&d(t,["ttl"],s);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&d(t,["expireTime"],o);const i=a(e,["displayName"]);t!==void 0&&i!=null&&d(t,["displayName"],i);const l=a(e,["contents"]);if(t!==void 0&&l!=null){let m=st(l);Array.isArray(m)&&(m=m.map(h=>Eu(h))),d(t,["contents"],m)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&d(t,["systemInstruction"],Eu(_e(c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(h=>F2(h))),d(t,["tools"],m)}const u=a(e,["toolConfig"]);if(t!==void 0&&u!=null&&d(t,["toolConfig"],u),a(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function x2(e,t){const n={},s=a(e,["ttl"]);t!==void 0&&s!=null&&d(t,["ttl"],s);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&d(t,["expireTime"],o);const i=a(e,["displayName"]);t!==void 0&&i!=null&&d(t,["displayName"],i);const l=a(e,["contents"]);if(t!==void 0&&l!=null){let h=st(l);Array.isArray(h)&&(h=h.map(p=>p)),d(t,["contents"],h)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&d(t,["systemInstruction"],_e(c));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>U2(p))),d(t,["tools"],h)}const u=a(e,["toolConfig"]);t!==void 0&&u!=null&&d(t,["toolConfig"],u);const m=a(e,["kmsKeyName"]);return t!==void 0&&m!=null&&d(t,["encryption_spec","kmsKeyName"],m),n}function v2(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["model"],uh(e,s));const o=a(t,["config"]);return o!=null&&g2(o,n),n}function y2(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["model"],uh(e,s));const o=a(t,["config"]);return o!=null&&x2(o,n),n}function w2(e,t){const n={},s=a(t,["name"]);return s!=null&&d(n,["_url","name"],Ht(e,s)),n}function k2(e,t){const n={},s=a(t,["name"]);return s!=null&&d(n,["_url","name"],Ht(e,s)),n}function N2(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function C2(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function b2(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function S2(e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(e,["description"]);n!=null&&d(t,["description"],n);const s=a(e,["name"]);s!=null&&d(t,["name"],s);const o=a(e,["parameters"]);o!=null&&d(t,["parameters"],o);const i=a(e,["parametersJsonSchema"]);i!=null&&d(t,["parametersJsonSchema"],i);const l=a(e,["response"]);l!=null&&d(t,["response"],l);const c=a(e,["responseJsonSchema"]);return c!=null&&d(t,["responseJsonSchema"],c),t}function T2(e,t){const n={},s=a(t,["name"]);return s!=null&&d(n,["_url","name"],Ht(e,s)),n}function E2(e,t){const n={},s=a(t,["name"]);return s!=null&&d(n,["_url","name"],Ht(e,s)),n}function j2(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function A2(e){const t={},n=a(e,["timeRangeFilter"]);if(n!=null&&d(t,["timeRangeFilter"],n),a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function I2(e,t){const n={},s=a(e,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&d(t,["_query","pageToken"],o),n}function _2(e,t){const n={},s=a(e,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&d(t,["_query","pageToken"],o),n}function M2(e){const t={},n=a(e,["config"]);return n!=null&&I2(n,t),t}function P2(e){const t={},n=a(e,["config"]);return n!=null&&_2(n,t),t}function L2(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const o=a(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),d(t,["cachedContents"],i)}return t}function R2(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const o=a(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),d(t,["cachedContents"],i)}return t}function D2(e){const t={},n=a(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],n);const s=a(e,["thought"]);s!=null&&d(t,["thought"],s);const o=a(e,["inlineData"]);o!=null&&d(t,["inlineData"],p2(o));const i=a(e,["fileData"]);i!=null&&d(t,["fileData"],b2(i));const l=a(e,["thoughtSignature"]);l!=null&&d(t,["thoughtSignature"],l);const c=a(e,["functionCall"]);c!=null&&d(t,["functionCall"],c);const f=a(e,["codeExecutionResult"]);f!=null&&d(t,["codeExecutionResult"],f);const u=a(e,["executableCode"]);u!=null&&d(t,["executableCode"],u);const m=a(e,["functionResponse"]);m!=null&&d(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&d(t,["text"],h),t}function F2(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(m=>m)),d(t,["functionDeclarations"],u)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=a(e,["googleSearch"]);s!=null&&d(t,["googleSearch"],A2(s));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],o),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=a(e,["googleMaps"]);i!=null&&d(t,["googleMaps"],j2(i));const l=a(e,["urlContext"]);l!=null&&d(t,["urlContext"],l);const c=a(e,["computerUse"]);c!=null&&d(t,["computerUse"],c);const f=a(e,["codeExecution"]);return f!=null&&d(t,["codeExecution"],f),t}function U2(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>S2(p))),d(t,["functionDeclarations"],h)}const s=a(e,["retrieval"]);s!=null&&d(t,["retrieval"],s);const o=a(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],o);const i=a(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const l=a(e,["enterpriseWebSearch"]);l!=null&&d(t,["enterpriseWebSearch"],l);const c=a(e,["googleMaps"]);c!=null&&d(t,["googleMaps"],c);const f=a(e,["urlContext"]);f!=null&&d(t,["urlContext"],f);const u=a(e,["computerUse"]);u!=null&&d(t,["computerUse"],u);const m=a(e,["codeExecution"]);return m!=null&&d(t,["codeExecution"],m),t}function V2(e,t){const n={},s=a(e,["ttl"]);t!==void 0&&s!=null&&d(t,["ttl"],s);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&d(t,["expireTime"],o),n}function B2(e,t){const n={},s=a(e,["ttl"]);t!==void 0&&s!=null&&d(t,["ttl"],s);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&d(t,["expireTime"],o),n}function z2(e,t){const n={},s=a(t,["name"]);s!=null&&d(n,["_url","name"],Ht(e,s));const o=a(t,["config"]);return o!=null&&V2(o,n),n}function H2(e,t){const n={},s=a(t,["name"]);s!=null&&d(n,["_url","name"],Ht(e,s));const o=a(t,["config"]);return o!=null&&B2(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G2 extends En{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new pr(bn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=y2(this.apiClient,t);return c=R("cachedContents",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const u=v2(this.apiClient,t);return c=R("cachedContents",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async get(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=E2(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const u=T2(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=k2(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=C2(m),p=new wu;return Object.assign(p,h),p})}else{const u=w2(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=N2(m),p=new wu;return Object.assign(p,h),p})}}async update(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=H2(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const u=z2(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async listInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=P2(t);return c=R("cachedContents",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=R2(m),p=new ku;return Object.assign(p,h),p})}else{const u=M2(t);return c=R("cachedContents",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=L2(m),p=new ku;return Object.assign(p,h),p})}}}function ju(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(e){return this instanceof se?(this.v=e,this):new se(e)}function Qn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(v){return function(k){return Promise.resolve(k).then(v,h)}}function c(v,k){s[v]&&(o[v]=function(N){return new Promise(function(j,x){i.push([v,N,j,x])>1||f(v,N)})},k&&(o[v]=k(o[v])))}function f(v,k){try{u(s[v](k))}catch(N){p(i[0][3],N)}}function u(v){v.value instanceof se?Promise.resolve(v.value.v).then(m,h):p(i[0][2],v)}function m(v){f("next",v)}function h(v){f("throw",v)}function p(v,k){v(k),i.shift(),i.length&&f(i[0][0],i[0][1])}}function qs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ju=="function"?ju(e):e[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(i){n[i]=e[i]&&function(l){return new Promise(function(c,f){l=e[i](l),o(c,f,l.done,l.value)})}}function o(i,l,c,f){Promise.resolve(f).then(function(u){i({value:u,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $2(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:bh(n)}function bh(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function q2(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Au(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let s=0;for(;s<n;)if(e[s].role==="user")t.push(e[s]),s++;else{const o=[];let i=!0;for(;s<n&&e[s].role==="model";)o.push(e[s]),i&&!bh(e[s])&&(i=!1),s++;i?t.push(...o):t.pop()}return t}class W2{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new J2(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class J2{constructor(t,n,s,o={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=s,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),q2(i)}async sendMessage(t){var n;await this.sendPromise;const s=_e(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,c;const f=await o,u=(l=(i=f.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,m=f.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];m!=null&&(p=(c=m.slice(h))!==null&&c!==void 0?c:[]);const v=u?[u]:[];this.recordHistory(s,v,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const s=_e(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const i=await o;return this.processStreamResponse(i,s)}getHistory(t=!1){const n=t?Au(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var s,o;return Qn(this,arguments,function*(){var l,c,f,u;const m=[];try{for(var h=!0,p=qs(t),v;v=yield se(p.next()),l=v.done,!l;h=!0){u=v.value,h=!1;const k=u;if($2(k)){const N=(o=(s=k.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content;N!==void 0&&m.push(N)}yield yield se(k)}}catch(k){c={error:k}}finally{try{!h&&!l&&(f=p.return)&&(yield se(f.call(p)))}finally{if(c)throw c.error}}this.recordHistory(n,m)})}recordHistory(t,n,s){let o=[];n.length>0&&n.every(i=>i.role!==void 0)?o=n:o.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Au(s)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wo extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Wo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y2(e){const t={},n=a(e,["file"]);return n!=null&&d(t,["file"],n),t}function O2(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function K2(e){const t={},n=a(e,["name"]);return n!=null&&d(t,["_url","file"],xh(n)),t}function Q2(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function X2(e){const t={},n=a(e,["name"]);return n!=null&&d(t,["_url","file"],xh(n)),t}function Z2(e,t){const n={},s=a(e,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&d(t,["_query","pageToken"],o),n}function e1(e){const t={},n=a(e,["config"]);return n!=null&&Z2(n,t),t}function t1(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const o=a(e,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),d(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n1 extends En{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new pr(bn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=e1(t);return i=R("files",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const u=t1(f),m=new mv;return Object.assign(m,u),m})}}async createInternal(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Y2(t);return i=R("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>{const u=O2(f),m=new hv;return Object.assign(m,u),m})}}async get(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=X2(t);return i=R("files/{file}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=K2(t);return i=R("files/{file}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const u=Q2(f),m=new pv;return Object.assign(m,u),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zr(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["data"]);n!=null&&d(t,["data"],n);const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function s1(e){const t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>v1(i))),d(t,["parts"],o)}const s=a(e,["role"]);return s!=null&&d(t,["role"],s),t}function r1(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function o1(e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(e,["description"]);n!=null&&d(t,["description"],n);const s=a(e,["name"]);s!=null&&d(t,["name"],s);const o=a(e,["parameters"]);o!=null&&d(t,["parameters"],o);const i=a(e,["parametersJsonSchema"]);i!=null&&d(t,["parametersJsonSchema"],i);const l=a(e,["response"]);l!=null&&d(t,["response"],l);const c=a(e,["responseJsonSchema"]);return c!=null&&d(t,["responseJsonSchema"],c),t}function i1(e){const t={},n=a(e,["modelSelectionConfig"]);n!=null&&d(t,["modelConfig"],n);const s=a(e,["audioTimestamp"]);s!=null&&d(t,["audioTimestamp"],s);const o=a(e,["candidateCount"]);o!=null&&d(t,["candidateCount"],o);const i=a(e,["enableAffectiveDialog"]);i!=null&&d(t,["enableAffectiveDialog"],i);const l=a(e,["frequencyPenalty"]);l!=null&&d(t,["frequencyPenalty"],l);const c=a(e,["logprobs"]);c!=null&&d(t,["logprobs"],c);const f=a(e,["maxOutputTokens"]);f!=null&&d(t,["maxOutputTokens"],f);const u=a(e,["mediaResolution"]);u!=null&&d(t,["mediaResolution"],u);const m=a(e,["presencePenalty"]);m!=null&&d(t,["presencePenalty"],m);const h=a(e,["responseJsonSchema"]);h!=null&&d(t,["responseJsonSchema"],h);const p=a(e,["responseLogprobs"]);p!=null&&d(t,["responseLogprobs"],p);const v=a(e,["responseMimeType"]);v!=null&&d(t,["responseMimeType"],v);const k=a(e,["responseModalities"]);k!=null&&d(t,["responseModalities"],k);const N=a(e,["responseSchema"]);N!=null&&d(t,["responseSchema"],N);const j=a(e,["routingConfig"]);j!=null&&d(t,["routingConfig"],j);const x=a(e,["seed"]);x!=null&&d(t,["seed"],x);const g=a(e,["speechConfig"]);g!=null&&d(t,["speechConfig"],Sh(g));const y=a(e,["stopSequences"]);y!=null&&d(t,["stopSequences"],y);const C=a(e,["temperature"]);C!=null&&d(t,["temperature"],C);const b=a(e,["thinkingConfig"]);b!=null&&d(t,["thinkingConfig"],b);const S=a(e,["topK"]);S!=null&&d(t,["topK"],S);const E=a(e,["topP"]);if(E!=null&&d(t,["topP"],E),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function l1(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function a1(e){const t={},n=a(e,["timeRangeFilter"]);if(n!=null&&d(t,["timeRangeFilter"],n),a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function c1(e,t){const n={},s=a(e,["generationConfig"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig"],s);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","responseModalities"],o);const i=a(e,["temperature"]);t!==void 0&&i!=null&&d(t,["setup","generationConfig","temperature"],i);const l=a(e,["topP"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","topP"],l);const c=a(e,["topK"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","maxOutputTokens"],f);const u=a(e,["mediaResolution"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","mediaResolution"],u);const m=a(e,["seed"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","seed"],m);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","speechConfig"],Wa(h));const p=a(e,["thinkingConfig"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","thinkingConfig"],p);const v=a(e,["enableAffectiveDialog"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],v);const k=a(e,["systemInstruction"]);t!==void 0&&k!=null&&d(t,["setup","systemInstruction"],s1(_e(k)));const N=a(e,["tools"]);if(t!==void 0&&N!=null){let S=ms(N);Array.isArray(S)&&(S=S.map(E=>w1(fs(E)))),d(t,["setup","tools"],S)}const j=a(e,["sessionResumption"]);t!==void 0&&j!=null&&d(t,["setup","sessionResumption"],y1(j));const x=a(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&d(t,["setup","inputAudioTranscription"],x);const g=a(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&d(t,["setup","outputAudioTranscription"],g);const y=a(e,["realtimeInputConfig"]);t!==void 0&&y!=null&&d(t,["setup","realtimeInputConfig"],y);const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&d(t,["setup","contextWindowCompression"],C);const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&d(t,["setup","proactivity"],b),n}function d1(e,t){const n={},s=a(e,["generationConfig"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig"],i1(s));const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","responseModalities"],o);const i=a(e,["temperature"]);t!==void 0&&i!=null&&d(t,["setup","generationConfig","temperature"],i);const l=a(e,["topP"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","topP"],l);const c=a(e,["topK"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","maxOutputTokens"],f);const u=a(e,["mediaResolution"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","mediaResolution"],u);const m=a(e,["seed"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","seed"],m);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","speechConfig"],Sh(Wa(h)));const p=a(e,["thinkingConfig"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","thinkingConfig"],p);const v=a(e,["enableAffectiveDialog"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],v);const k=a(e,["systemInstruction"]);t!==void 0&&k!=null&&d(t,["setup","systemInstruction"],_e(k));const N=a(e,["tools"]);if(t!==void 0&&N!=null){let S=ms(N);Array.isArray(S)&&(S=S.map(E=>k1(fs(E)))),d(t,["setup","tools"],S)}const j=a(e,["sessionResumption"]);t!==void 0&&j!=null&&d(t,["setup","sessionResumption"],j);const x=a(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&d(t,["setup","inputAudioTranscription"],x);const g=a(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&d(t,["setup","outputAudioTranscription"],g);const y=a(e,["realtimeInputConfig"]);t!==void 0&&y!=null&&d(t,["setup","realtimeInputConfig"],y);const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&d(t,["setup","contextWindowCompression"],C);const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&d(t,["setup","proactivity"],b),n}function u1(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["setup","model"],Y(e,s));const o=a(t,["config"]);return o!=null&&d(n,["config"],c1(o,n)),n}function f1(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["setup","model"],Y(e,s));const o=a(t,["config"]);return o!=null&&d(n,["config"],d1(o,n)),n}function m1(e){const t={},n=a(e,["musicGenerationConfig"]);return n!=null&&d(t,["musicGenerationConfig"],n),t}function h1(e){const t={},n=a(e,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),d(t,["weightedPrompts"],s)}return t}function p1(e){const t={},n=a(e,["media"]);if(n!=null){let u=fh(n);Array.isArray(u)&&(u=u.map(m=>Zr(m))),d(t,["mediaChunks"],u)}const s=a(e,["audio"]);s!=null&&d(t,["audio"],Zr(hh(s)));const o=a(e,["audioStreamEnd"]);o!=null&&d(t,["audioStreamEnd"],o);const i=a(e,["video"]);i!=null&&d(t,["video"],Zr(mh(i)));const l=a(e,["text"]);l!=null&&d(t,["text"],l);const c=a(e,["activityStart"]);c!=null&&d(t,["activityStart"],c);const f=a(e,["activityEnd"]);return f!=null&&d(t,["activityEnd"],f),t}function g1(e){const t={},n=a(e,["media"]);if(n!=null){let u=fh(n);Array.isArray(u)&&(u=u.map(m=>m)),d(t,["mediaChunks"],u)}const s=a(e,["audio"]);s!=null&&d(t,["audio"],hh(s));const o=a(e,["audioStreamEnd"]);o!=null&&d(t,["audioStreamEnd"],o);const i=a(e,["video"]);i!=null&&d(t,["video"],mh(i));const l=a(e,["text"]);l!=null&&d(t,["text"],l);const c=a(e,["activityStart"]);c!=null&&d(t,["activityStart"],c);const f=a(e,["activityEnd"]);return f!=null&&d(t,["activityEnd"],f),t}function x1(e){const t={},n=a(e,["setupComplete"]);n!=null&&d(t,["setupComplete"],n);const s=a(e,["serverContent"]);s!=null&&d(t,["serverContent"],s);const o=a(e,["toolCall"]);o!=null&&d(t,["toolCall"],o);const i=a(e,["toolCallCancellation"]);i!=null&&d(t,["toolCallCancellation"],i);const l=a(e,["usageMetadata"]);l!=null&&d(t,["usageMetadata"],N1(l));const c=a(e,["goAway"]);c!=null&&d(t,["goAway"],c);const f=a(e,["sessionResumptionUpdate"]);return f!=null&&d(t,["sessionResumptionUpdate"],f),t}function v1(e){const t={},n=a(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],n);const s=a(e,["thought"]);s!=null&&d(t,["thought"],s);const o=a(e,["inlineData"]);o!=null&&d(t,["inlineData"],Zr(o));const i=a(e,["fileData"]);i!=null&&d(t,["fileData"],r1(i));const l=a(e,["thoughtSignature"]);l!=null&&d(t,["thoughtSignature"],l);const c=a(e,["functionCall"]);c!=null&&d(t,["functionCall"],c);const f=a(e,["codeExecutionResult"]);f!=null&&d(t,["codeExecutionResult"],f);const u=a(e,["executableCode"]);u!=null&&d(t,["executableCode"],u);const m=a(e,["functionResponse"]);m!=null&&d(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&d(t,["text"],h),t}function y1(e){const t={},n=a(e,["handle"]);if(n!=null&&d(t,["handle"],n),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Sh(e){const t={},n=a(e,["voiceConfig"]);if(n!=null&&d(t,["voiceConfig"],n),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=a(e,["languageCode"]);return s!=null&&d(t,["languageCode"],s),t}function w1(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(m=>m)),d(t,["functionDeclarations"],u)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=a(e,["googleSearch"]);s!=null&&d(t,["googleSearch"],a1(s));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],o),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=a(e,["googleMaps"]);i!=null&&d(t,["googleMaps"],l1(i));const l=a(e,["urlContext"]);l!=null&&d(t,["urlContext"],l);const c=a(e,["computerUse"]);c!=null&&d(t,["computerUse"],c);const f=a(e,["codeExecution"]);return f!=null&&d(t,["codeExecution"],f),t}function k1(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>o1(p))),d(t,["functionDeclarations"],h)}const s=a(e,["retrieval"]);s!=null&&d(t,["retrieval"],s);const o=a(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],o);const i=a(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const l=a(e,["enterpriseWebSearch"]);l!=null&&d(t,["enterpriseWebSearch"],l);const c=a(e,["googleMaps"]);c!=null&&d(t,["googleMaps"],c);const f=a(e,["urlContext"]);f!=null&&d(t,["urlContext"],f);const u=a(e,["computerUse"]);u!=null&&d(t,["computerUse"],u);const m=a(e,["codeExecution"]);return m!=null&&d(t,["codeExecution"],m),t}function N1(e){const t={},n=a(e,["promptTokenCount"]);n!=null&&d(t,["promptTokenCount"],n);const s=a(e,["cachedContentTokenCount"]);s!=null&&d(t,["cachedContentTokenCount"],s);const o=a(e,["candidatesTokenCount"]);o!=null&&d(t,["responseTokenCount"],o);const i=a(e,["toolUsePromptTokenCount"]);i!=null&&d(t,["toolUsePromptTokenCount"],i);const l=a(e,["thoughtsTokenCount"]);l!=null&&d(t,["thoughtsTokenCount"],l);const c=a(e,["totalTokenCount"]);c!=null&&d(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(k=>k)),d(t,["promptTokensDetails"],v)}const u=a(e,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(k=>k)),d(t,["cacheTokensDetails"],v)}const m=a(e,["candidatesTokensDetails"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(k=>k)),d(t,["responseTokensDetails"],v)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(k=>k)),d(t,["toolUsePromptTokensDetails"],v)}const p=a(e,["trafficType"]);return p!=null&&d(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C1(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["data"]);n!=null&&d(t,["data"],n);const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function b1(e){const t={},n=a(e,["content"]);n!=null&&d(t,["content"],n);const s=a(e,["citationMetadata"]);s!=null&&d(t,["citationMetadata"],S1(s));const o=a(e,["tokenCount"]);o!=null&&d(t,["tokenCount"],o);const i=a(e,["finishReason"]);i!=null&&d(t,["finishReason"],i);const l=a(e,["urlContextMetadata"]);l!=null&&d(t,["urlContextMetadata"],l);const c=a(e,["avgLogprobs"]);c!=null&&d(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&d(t,["groundingMetadata"],f);const u=a(e,["index"]);u!=null&&d(t,["index"],u);const m=a(e,["logprobsResult"]);m!=null&&d(t,["logprobsResult"],m);const h=a(e,["safetyRatings"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(v=>v)),d(t,["safetyRatings"],p)}return t}function S1(e){const t={},n=a(e,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),d(t,["citations"],s)}return t}function T1(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["contents"]);if(o!=null){let i=st(o);Array.isArray(i)&&(i=i.map(l=>l)),d(n,["contents"],i)}return n}function E1(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["tokensInfo"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(i=>i)),d(t,["tokensInfo"],o)}return t}function j1(e){const t={},n=a(e,["values"]);n!=null&&d(t,["values"],n);const s=a(e,["statistics"]);return s!=null&&d(t,["statistics"],A1(s)),t}function A1(e){const t={},n=a(e,["truncated"]);n!=null&&d(t,["truncated"],n);const s=a(e,["token_count"]);return s!=null&&d(t,["tokenCount"],s),t}function Jo(e){const t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Ly(i))),d(t,["parts"],o)}const s=a(e,["role"]);return s!=null&&d(t,["role"],s),t}function I1(e){const t={},n=a(e,["controlType"]);n!=null&&d(t,["controlType"],n);const s=a(e,["enableControlImageComputation"]);return s!=null&&d(t,["computeControl"],s),t}function _1(e){const t={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function M1(e,t){const n={},s=a(e,["systemInstruction"]);t!==void 0&&s!=null&&d(t,["systemInstruction"],_e(s));const o=a(e,["tools"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Ih(c))),d(t,["tools"],l)}const i=a(e,["generationConfig"]);return t!==void 0&&i!=null&&d(t,["generationConfig"],ky(i)),n}function P1(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["contents"]);if(o!=null){let l=st(o);Array.isArray(l)&&(l=l.map(c=>Jo(c))),d(n,["contents"],l)}const i=a(t,["config"]);return i!=null&&_1(i),n}function L1(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["contents"]);if(o!=null){let l=st(o);Array.isArray(l)&&(l=l.map(c=>c)),d(n,["contents"],l)}const i=a(t,["config"]);return i!=null&&M1(i,n),n}function R1(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["totalTokens"]);s!=null&&d(t,["totalTokens"],s);const o=a(e,["cachedContentTokenCount"]);return o!=null&&d(t,["cachedContentTokenCount"],o),t}function D1(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["totalTokens"]);return s!=null&&d(t,["totalTokens"],s),t}function F1(e,t){const n={},s=a(t,["model"]);return s!=null&&d(n,["_url","name"],Y(e,s)),n}function U1(e,t){const n={},s=a(t,["model"]);return s!=null&&d(n,["_url","name"],Y(e,s)),n}function V1(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function B1(e){const t={},n=a(e,["sdkHttpResponse"]);return n!=null&&d(t,["sdkHttpResponse"],n),t}function z1(e,t){const n={},s=a(e,["outputGcsUri"]);t!==void 0&&s!=null&&d(t,["parameters","storageUri"],s);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&d(t,["parameters","negativePrompt"],o);const i=a(e,["numberOfImages"]);t!==void 0&&i!=null&&d(t,["parameters","sampleCount"],i);const l=a(e,["aspectRatio"]);t!==void 0&&l!=null&&d(t,["parameters","aspectRatio"],l);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&d(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&d(t,["parameters","seed"],f);const u=a(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&d(t,["parameters","safetySetting"],u);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&d(t,["parameters","personGeneration"],m);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&d(t,["parameters","includeSafetyAttributes"],h);const p=a(e,["includeRaiReason"]);t!==void 0&&p!=null&&d(t,["parameters","includeRaiReason"],p);const v=a(e,["language"]);t!==void 0&&v!=null&&d(t,["parameters","language"],v);const k=a(e,["outputMimeType"]);t!==void 0&&k!=null&&d(t,["parameters","outputOptions","mimeType"],k);const N=a(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const j=a(e,["addWatermark"]);t!==void 0&&j!=null&&d(t,["parameters","addWatermark"],j);const x=a(e,["labels"]);t!==void 0&&x!=null&&d(t,["labels"],x);const g=a(e,["editMode"]);t!==void 0&&g!=null&&d(t,["parameters","editMode"],g);const y=a(e,["baseSteps"]);return t!==void 0&&y!=null&&d(t,["parameters","editConfig","baseSteps"],y),n}function H1(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const i=a(t,["referenceImages"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>By(f))),d(n,["instances[0]","referenceImages"],c)}const l=a(t,["config"]);return l!=null&&z1(l,n),n}function G1(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(i=>Yo(i))),d(t,["generatedImages"],o)}return t}function $1(e,t){const n={},s=a(e,["taskType"]);t!==void 0&&s!=null&&d(t,["requests[]","taskType"],s);const o=a(e,["title"]);t!==void 0&&o!=null&&d(t,["requests[]","title"],o);const i=a(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&d(t,["requests[]","outputDimensionality"],i),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function q1(e,t){const n={},s=a(e,["taskType"]);t!==void 0&&s!=null&&d(t,["instances[]","task_type"],s);const o=a(e,["title"]);t!==void 0&&o!=null&&d(t,["instances[]","title"],o);const i=a(e,["outputDimensionality"]);t!==void 0&&i!=null&&d(t,["parameters","outputDimensionality"],i);const l=a(e,["mimeType"]);t!==void 0&&l!=null&&d(t,["instances[]","mimeType"],l);const c=a(e,["autoTruncate"]);return t!==void 0&&c!=null&&d(t,["parameters","autoTruncate"],c),n}function W1(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["contents"]);if(o!=null){let c=Ga(e,o);Array.isArray(c)&&(c=c.map(f=>f)),d(n,["requests[]","content"],c)}const i=a(t,["config"]);i!=null&&$1(i,n);const l=a(t,["model"]);return l!==void 0&&d(n,["requests[]","model"],Y(e,l)),n}function J1(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["contents"]);if(o!=null){let l=Ga(e,o);Array.isArray(l)&&(l=l.map(c=>c)),d(n,["instances[]","content"],l)}const i=a(t,["config"]);return i!=null&&q1(i,n),n}function Y1(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["embeddings"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(l=>l)),d(t,["embeddings"],i)}const o=a(e,["metadata"]);return o!=null&&d(t,["metadata"],o),t}function O1(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["predictions[]","embeddings"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(l=>j1(l))),d(t,["embeddings"],i)}const o=a(e,["metadata"]);return o!=null&&d(t,["metadata"],o),t}function K1(e){const t={},n=a(e,["endpoint"]);n!=null&&d(t,["name"],n);const s=a(e,["deployedModelId"]);return s!=null&&d(t,["deployedModelId"],s),t}function Q1(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function X1(e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(e,["description"]);n!=null&&d(t,["description"],n);const s=a(e,["name"]);s!=null&&d(t,["name"],s);const o=a(e,["parameters"]);o!=null&&d(t,["parameters"],o);const i=a(e,["parametersJsonSchema"]);i!=null&&d(t,["parametersJsonSchema"],i);const l=a(e,["response"]);l!=null&&d(t,["response"],l);const c=a(e,["responseJsonSchema"]);return c!=null&&d(t,["responseJsonSchema"],c),t}function Z1(e,t,n){const s={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],Jo(_e(o)));const i=a(t,["temperature"]);i!=null&&d(s,["temperature"],i);const l=a(t,["topP"]);l!=null&&d(s,["topP"],l);const c=a(t,["topK"]);c!=null&&d(s,["topK"],c);const f=a(t,["candidateCount"]);f!=null&&d(s,["candidateCount"],f);const u=a(t,["maxOutputTokens"]);u!=null&&d(s,["maxOutputTokens"],u);const m=a(t,["stopSequences"]);m!=null&&d(s,["stopSequences"],m);const h=a(t,["responseLogprobs"]);h!=null&&d(s,["responseLogprobs"],h);const p=a(t,["logprobs"]);p!=null&&d(s,["logprobs"],p);const v=a(t,["presencePenalty"]);v!=null&&d(s,["presencePenalty"],v);const k=a(t,["frequencyPenalty"]);k!=null&&d(s,["frequencyPenalty"],k);const N=a(t,["seed"]);N!=null&&d(s,["seed"],N);const j=a(t,["responseMimeType"]);j!=null&&d(s,["responseMimeType"],j);const x=a(t,["responseSchema"]);x!=null&&d(s,["responseSchema"],$a(x));const g=a(t,["responseJsonSchema"]);if(g!=null&&d(s,["responseJsonSchema"],g),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=a(t,["safetySettings"]);if(n!==void 0&&y!=null){let V=y;Array.isArray(V)&&(V=V.map(B=>zy(B))),d(n,["safetySettings"],V)}const C=a(t,["tools"]);if(n!==void 0&&C!=null){let V=ms(C);Array.isArray(V)&&(V=V.map(B=>Jy(fs(B)))),d(n,["tools"],V)}const b=a(t,["toolConfig"]);if(n!==void 0&&b!=null&&d(n,["toolConfig"],b),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=a(t,["cachedContent"]);n!==void 0&&S!=null&&d(n,["cachedContent"],Ht(e,S));const E=a(t,["responseModalities"]);E!=null&&d(s,["responseModalities"],E);const A=a(t,["mediaResolution"]);A!=null&&d(s,["mediaResolution"],A);const T=a(t,["speechConfig"]);if(T!=null&&d(s,["speechConfig"],qa(T)),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _=a(t,["thinkingConfig"]);_!=null&&d(s,["thinkingConfig"],_);const D=a(t,["imageConfig"]);return D!=null&&d(s,["imageConfig"],D),s}function ey(e,t,n){const s={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&d(n,["systemInstruction"],_e(o));const i=a(t,["temperature"]);i!=null&&d(s,["temperature"],i);const l=a(t,["topP"]);l!=null&&d(s,["topP"],l);const c=a(t,["topK"]);c!=null&&d(s,["topK"],c);const f=a(t,["candidateCount"]);f!=null&&d(s,["candidateCount"],f);const u=a(t,["maxOutputTokens"]);u!=null&&d(s,["maxOutputTokens"],u);const m=a(t,["stopSequences"]);m!=null&&d(s,["stopSequences"],m);const h=a(t,["responseLogprobs"]);h!=null&&d(s,["responseLogprobs"],h);const p=a(t,["logprobs"]);p!=null&&d(s,["logprobs"],p);const v=a(t,["presencePenalty"]);v!=null&&d(s,["presencePenalty"],v);const k=a(t,["frequencyPenalty"]);k!=null&&d(s,["frequencyPenalty"],k);const N=a(t,["seed"]);N!=null&&d(s,["seed"],N);const j=a(t,["responseMimeType"]);j!=null&&d(s,["responseMimeType"],j);const x=a(t,["responseSchema"]);x!=null&&d(s,["responseSchema"],$a(x));const g=a(t,["responseJsonSchema"]);g!=null&&d(s,["responseJsonSchema"],g);const y=a(t,["routingConfig"]);y!=null&&d(s,["routingConfig"],y);const C=a(t,["modelSelectionConfig"]);C!=null&&d(s,["modelConfig"],C);const b=a(t,["safetySettings"]);if(n!==void 0&&b!=null){let K=b;Array.isArray(K)&&(K=K.map(we=>we)),d(n,["safetySettings"],K)}const S=a(t,["tools"]);if(n!==void 0&&S!=null){let K=ms(S);Array.isArray(K)&&(K=K.map(we=>Ih(fs(we)))),d(n,["tools"],K)}const E=a(t,["toolConfig"]);n!==void 0&&E!=null&&d(n,["toolConfig"],E);const A=a(t,["labels"]);n!==void 0&&A!=null&&d(n,["labels"],A);const T=a(t,["cachedContent"]);n!==void 0&&T!=null&&d(n,["cachedContent"],Ht(e,T));const _=a(t,["responseModalities"]);_!=null&&d(s,["responseModalities"],_);const D=a(t,["mediaResolution"]);D!=null&&d(s,["mediaResolution"],D);const V=a(t,["speechConfig"]);V!=null&&d(s,["speechConfig"],Ah(qa(V)));const B=a(t,["audioTimestamp"]);B!=null&&d(s,["audioTimestamp"],B);const Q=a(t,["thinkingConfig"]);Q!=null&&d(s,["thinkingConfig"],Q);const be=a(t,["imageConfig"]);return be!=null&&d(s,["imageConfig"],be),s}function Iu(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["contents"]);if(o!=null){let l=st(o);Array.isArray(l)&&(l=l.map(c=>Jo(c))),d(n,["contents"],l)}const i=a(t,["config"]);return i!=null&&d(n,["generationConfig"],Z1(e,i,n)),n}function _u(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["contents"]);if(o!=null){let l=st(o);Array.isArray(l)&&(l=l.map(c=>c)),d(n,["contents"],l)}const i=a(t,["config"]);return i!=null&&d(n,["generationConfig"],ey(e,i,n)),n}function Mu(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["candidates"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(u=>b1(u))),d(t,["candidates"],f)}const o=a(e,["modelVersion"]);o!=null&&d(t,["modelVersion"],o);const i=a(e,["promptFeedback"]);i!=null&&d(t,["promptFeedback"],i);const l=a(e,["responseId"]);l!=null&&d(t,["responseId"],l);const c=a(e,["usageMetadata"]);return c!=null&&d(t,["usageMetadata"],c),t}function Pu(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["candidates"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(m=>m)),d(t,["candidates"],u)}const o=a(e,["createTime"]);o!=null&&d(t,["createTime"],o);const i=a(e,["modelVersion"]);i!=null&&d(t,["modelVersion"],i);const l=a(e,["promptFeedback"]);l!=null&&d(t,["promptFeedback"],l);const c=a(e,["responseId"]);c!=null&&d(t,["responseId"],c);const f=a(e,["usageMetadata"]);return f!=null&&d(t,["usageMetadata"],f),t}function ty(e,t){const n={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&d(t,["parameters","sampleCount"],s);const o=a(e,["aspectRatio"]);t!==void 0&&o!=null&&d(t,["parameters","aspectRatio"],o);const i=a(e,["guidanceScale"]);if(t!==void 0&&i!=null&&d(t,["parameters","guidanceScale"],i),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=a(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&d(t,["parameters","safetySetting"],l);const c=a(e,["personGeneration"]);t!==void 0&&c!=null&&d(t,["parameters","personGeneration"],c);const f=a(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&d(t,["parameters","includeSafetyAttributes"],f);const u=a(e,["includeRaiReason"]);t!==void 0&&u!=null&&d(t,["parameters","includeRaiReason"],u);const m=a(e,["language"]);t!==void 0&&m!=null&&d(t,["parameters","language"],m);const h=a(e,["outputMimeType"]);t!==void 0&&h!=null&&d(t,["parameters","outputOptions","mimeType"],h);const p=a(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&d(t,["parameters","outputOptions","compressionQuality"],p),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=a(e,["imageSize"]);if(t!==void 0&&v!=null&&d(t,["parameters","sampleImageSize"],v),a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ny(e,t){const n={},s=a(e,["outputGcsUri"]);t!==void 0&&s!=null&&d(t,["parameters","storageUri"],s);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&d(t,["parameters","negativePrompt"],o);const i=a(e,["numberOfImages"]);t!==void 0&&i!=null&&d(t,["parameters","sampleCount"],i);const l=a(e,["aspectRatio"]);t!==void 0&&l!=null&&d(t,["parameters","aspectRatio"],l);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&d(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&d(t,["parameters","seed"],f);const u=a(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&d(t,["parameters","safetySetting"],u);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&d(t,["parameters","personGeneration"],m);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&d(t,["parameters","includeSafetyAttributes"],h);const p=a(e,["includeRaiReason"]);t!==void 0&&p!=null&&d(t,["parameters","includeRaiReason"],p);const v=a(e,["language"]);t!==void 0&&v!=null&&d(t,["parameters","language"],v);const k=a(e,["outputMimeType"]);t!==void 0&&k!=null&&d(t,["parameters","outputOptions","mimeType"],k);const N=a(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const j=a(e,["addWatermark"]);t!==void 0&&j!=null&&d(t,["parameters","addWatermark"],j);const x=a(e,["labels"]);t!==void 0&&x!=null&&d(t,["labels"],x);const g=a(e,["imageSize"]);t!==void 0&&g!=null&&d(t,["parameters","sampleImageSize"],g);const y=a(e,["enhancePrompt"]);return t!==void 0&&y!=null&&d(t,["parameters","enhancePrompt"],y),n}function sy(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const i=a(t,["config"]);return i!=null&&ty(i,n),n}function ry(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const i=a(t,["config"]);return i!=null&&ny(i,n),n}function oy(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["predictions"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(l=>xy(l))),d(t,["generatedImages"],i)}const o=a(e,["positivePromptSafetyAttributes"]);return o!=null&&d(t,["positivePromptSafetyAttributes"],Eh(o)),t}function iy(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["predictions"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(l=>Yo(l))),d(t,["generatedImages"],i)}const o=a(e,["positivePromptSafetyAttributes"]);return o!=null&&d(t,["positivePromptSafetyAttributes"],jh(o)),t}function ly(e,t){const n={},s=a(e,["numberOfVideos"]);if(t!==void 0&&s!=null&&d(t,["parameters","sampleCount"],s),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(e,["durationSeconds"]);if(t!==void 0&&o!=null&&d(t,["parameters","durationSeconds"],o),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=a(e,["aspectRatio"]);t!==void 0&&i!=null&&d(t,["parameters","aspectRatio"],i);const l=a(e,["resolution"]);t!==void 0&&l!=null&&d(t,["parameters","resolution"],l);const c=a(e,["personGeneration"]);if(t!==void 0&&c!=null&&d(t,["parameters","personGeneration"],c),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=a(e,["negativePrompt"]);t!==void 0&&f!=null&&d(t,["parameters","negativePrompt"],f);const u=a(e,["enhancePrompt"]);if(t!==void 0&&u!=null&&d(t,["parameters","enhancePrompt"],u),a(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=a(e,["lastFrame"]);t!==void 0&&m!=null&&d(t,["instances[0]","lastFrame"],Oo(m));const h=a(e,["referenceImages"]);if(t!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(v=>iw(v))),d(t,["instances[0]","referenceImages"],p)}if(a(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function ay(e,t){const n={},s=a(e,["numberOfVideos"]);t!==void 0&&s!=null&&d(t,["parameters","sampleCount"],s);const o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const i=a(e,["fps"]);t!==void 0&&i!=null&&d(t,["parameters","fps"],i);const l=a(e,["durationSeconds"]);t!==void 0&&l!=null&&d(t,["parameters","durationSeconds"],l);const c=a(e,["seed"]);t!==void 0&&c!=null&&d(t,["parameters","seed"],c);const f=a(e,["aspectRatio"]);t!==void 0&&f!=null&&d(t,["parameters","aspectRatio"],f);const u=a(e,["resolution"]);t!==void 0&&u!=null&&d(t,["parameters","resolution"],u);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&d(t,["parameters","personGeneration"],m);const h=a(e,["pubsubTopic"]);t!==void 0&&h!=null&&d(t,["parameters","pubsubTopic"],h);const p=a(e,["negativePrompt"]);t!==void 0&&p!=null&&d(t,["parameters","negativePrompt"],p);const v=a(e,["enhancePrompt"]);t!==void 0&&v!=null&&d(t,["parameters","enhancePrompt"],v);const k=a(e,["generateAudio"]);t!==void 0&&k!=null&&d(t,["parameters","generateAudio"],k);const N=a(e,["lastFrame"]);t!==void 0&&N!=null&&d(t,["instances[0]","lastFrame"],gt(N));const j=a(e,["referenceImages"]);if(t!==void 0&&j!=null){let y=j;Array.isArray(y)&&(y=y.map(C=>lw(C))),d(t,["instances[0]","referenceImages"],y)}const x=a(e,["mask"]);t!==void 0&&x!=null&&d(t,["instances[0]","mask"],ow(x));const g=a(e,["compressionQuality"]);return t!==void 0&&g!=null&&d(t,["parameters","compressionQuality"],g),n}function cy(e){const t={},n=a(e,["name"]);n!=null&&d(t,["name"],n);const s=a(e,["metadata"]);s!=null&&d(t,["metadata"],s);const o=a(e,["done"]);o!=null&&d(t,["done"],o);const i=a(e,["error"]);i!=null&&d(t,["error"],i);const l=a(e,["response","generateVideoResponse"]);return l!=null&&d(t,["response"],my(l)),t}function dy(e){const t={},n=a(e,["name"]);n!=null&&d(t,["name"],n);const s=a(e,["metadata"]);s!=null&&d(t,["metadata"],s);const o=a(e,["done"]);o!=null&&d(t,["done"],o);const i=a(e,["error"]);i!=null&&d(t,["error"],i);const l=a(e,["response"]);return l!=null&&d(t,["response"],hy(l)),t}function uy(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const i=a(t,["image"]);i!=null&&d(n,["instances[0]","image"],Oo(i));const l=a(t,["video"]);l!=null&&d(n,["instances[0]","video"],_h(l));const c=a(t,["source"]);c!=null&&py(c,n);const f=a(t,["config"]);return f!=null&&ly(f,n),n}function fy(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["prompt"]);o!=null&&d(n,["instances[0]","prompt"],o);const i=a(t,["image"]);i!=null&&d(n,["instances[0]","image"],gt(i));const l=a(t,["video"]);l!=null&&d(n,["instances[0]","video"],Mh(l));const c=a(t,["source"]);c!=null&&gy(c,n);const f=a(t,["config"]);return f!=null&&ay(f,n),n}function my(e){const t={},n=a(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>yy(l))),d(t,["generatedVideos"],i)}const s=a(e,["raiMediaFilteredCount"]);s!=null&&d(t,["raiMediaFilteredCount"],s);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function hy(e){const t={},n=a(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>wy(l))),d(t,["generatedVideos"],i)}const s=a(e,["raiMediaFilteredCount"]);s!=null&&d(t,["raiMediaFilteredCount"],s);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&d(t,["raiMediaFilteredReasons"],o),t}function py(e,t){const n={},s=a(e,["prompt"]);t!==void 0&&s!=null&&d(t,["instances[0]","prompt"],s);const o=a(e,["image"]);t!==void 0&&o!=null&&d(t,["instances[0]","image"],Oo(o));const i=a(e,["video"]);return t!==void 0&&i!=null&&d(t,["instances[0]","video"],_h(i)),n}function gy(e,t){const n={},s=a(e,["prompt"]);t!==void 0&&s!=null&&d(t,["instances[0]","prompt"],s);const o=a(e,["image"]);t!==void 0&&o!=null&&d(t,["instances[0]","image"],gt(o));const i=a(e,["video"]);return t!==void 0&&i!=null&&d(t,["instances[0]","video"],Mh(i)),n}function xy(e){const t={},n=a(e,["_self"]);n!=null&&d(t,["image"],Ty(n));const s=a(e,["raiFilteredReason"]);s!=null&&d(t,["raiFilteredReason"],s);const o=a(e,["_self"]);return o!=null&&d(t,["safetyAttributes"],Eh(o)),t}function Yo(e){const t={},n=a(e,["_self"]);n!=null&&d(t,["image"],Th(n));const s=a(e,["raiFilteredReason"]);s!=null&&d(t,["raiFilteredReason"],s);const o=a(e,["_self"]);o!=null&&d(t,["safetyAttributes"],jh(o));const i=a(e,["prompt"]);return i!=null&&d(t,["enhancedPrompt"],i),t}function vy(e){const t={},n=a(e,["_self"]);n!=null&&d(t,["mask"],Th(n));const s=a(e,["labels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(i=>i)),d(t,["labels"],o)}return t}function yy(e){const t={},n=a(e,["video"]);return n!=null&&d(t,["video"],sw(n)),t}function wy(e){const t={},n=a(e,["_self"]);return n!=null&&d(t,["video"],rw(n)),t}function ky(e){const t={},n=a(e,["modelSelectionConfig"]);n!=null&&d(t,["modelConfig"],n);const s=a(e,["audioTimestamp"]);s!=null&&d(t,["audioTimestamp"],s);const o=a(e,["candidateCount"]);o!=null&&d(t,["candidateCount"],o);const i=a(e,["enableAffectiveDialog"]);i!=null&&d(t,["enableAffectiveDialog"],i);const l=a(e,["frequencyPenalty"]);l!=null&&d(t,["frequencyPenalty"],l);const c=a(e,["logprobs"]);c!=null&&d(t,["logprobs"],c);const f=a(e,["maxOutputTokens"]);f!=null&&d(t,["maxOutputTokens"],f);const u=a(e,["mediaResolution"]);u!=null&&d(t,["mediaResolution"],u);const m=a(e,["presencePenalty"]);m!=null&&d(t,["presencePenalty"],m);const h=a(e,["responseJsonSchema"]);h!=null&&d(t,["responseJsonSchema"],h);const p=a(e,["responseLogprobs"]);p!=null&&d(t,["responseLogprobs"],p);const v=a(e,["responseMimeType"]);v!=null&&d(t,["responseMimeType"],v);const k=a(e,["responseModalities"]);k!=null&&d(t,["responseModalities"],k);const N=a(e,["responseSchema"]);N!=null&&d(t,["responseSchema"],N);const j=a(e,["routingConfig"]);j!=null&&d(t,["routingConfig"],j);const x=a(e,["seed"]);x!=null&&d(t,["seed"],x);const g=a(e,["speechConfig"]);g!=null&&d(t,["speechConfig"],Ah(g));const y=a(e,["stopSequences"]);y!=null&&d(t,["stopSequences"],y);const C=a(e,["temperature"]);C!=null&&d(t,["temperature"],C);const b=a(e,["thinkingConfig"]);b!=null&&d(t,["thinkingConfig"],b);const S=a(e,["topK"]);S!=null&&d(t,["topK"],S);const E=a(e,["topP"]);if(E!=null&&d(t,["topP"],E),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ny(e,t){const n={},s=a(t,["model"]);return s!=null&&d(n,["_url","name"],Y(e,s)),n}function Cy(e,t){const n={},s=a(t,["model"]);return s!=null&&d(n,["_url","name"],Y(e,s)),n}function by(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function Sy(e){const t={},n=a(e,["timeRangeFilter"]);if(n!=null&&d(t,["timeRangeFilter"],n),a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Ty(e){const t={},n=a(e,["bytesBase64Encoded"]);n!=null&&d(t,["imageBytes"],un(n));const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function Th(e){const t={},n=a(e,["gcsUri"]);n!=null&&d(t,["gcsUri"],n);const s=a(e,["bytesBase64Encoded"]);s!=null&&d(t,["imageBytes"],un(s));const o=a(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Oo(e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(e,["imageBytes"]);n!=null&&d(t,["bytesBase64Encoded"],un(n));const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function gt(e){const t={},n=a(e,["gcsUri"]);n!=null&&d(t,["gcsUri"],n);const s=a(e,["imageBytes"]);s!=null&&d(t,["bytesBase64Encoded"],un(s));const o=a(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Ey(e,t,n){const s={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const i=a(t,["pageToken"]);n!==void 0&&i!=null&&d(n,["_query","pageToken"],i);const l=a(t,["filter"]);n!==void 0&&l!=null&&d(n,["_query","filter"],l);const c=a(t,["queryBase"]);return n!==void 0&&c!=null&&d(n,["_url","models_url"],vh(e,c)),s}function jy(e,t,n){const s={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&d(n,["_query","pageSize"],o);const i=a(t,["pageToken"]);n!==void 0&&i!=null&&d(n,["_query","pageToken"],i);const l=a(t,["filter"]);n!==void 0&&l!=null&&d(n,["_query","filter"],l);const c=a(t,["queryBase"]);return n!==void 0&&c!=null&&d(n,["_url","models_url"],vh(e,c)),s}function Ay(e,t){const n={},s=a(t,["config"]);return s!=null&&Ey(e,s,n),n}function Iy(e,t){const n={},s=a(t,["config"]);return s!=null&&jy(e,s,n),n}function _y(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const o=a(e,["_self"]);if(o!=null){let i=yh(o);Array.isArray(i)&&(i=i.map(l=>Hl(l))),d(t,["models"],i)}return t}function My(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const o=a(e,["_self"]);if(o!=null){let i=yh(o);Array.isArray(i)&&(i=i.map(l=>Gl(l))),d(t,["models"],i)}return t}function Py(e){const t={},n=a(e,["maskMode"]);n!=null&&d(t,["maskMode"],n);const s=a(e,["segmentationClasses"]);s!=null&&d(t,["maskClasses"],s);const o=a(e,["maskDilation"]);return o!=null&&d(t,["dilation"],o),t}function Hl(e){const t={},n=a(e,["name"]);n!=null&&d(t,["name"],n);const s=a(e,["displayName"]);s!=null&&d(t,["displayName"],s);const o=a(e,["description"]);o!=null&&d(t,["description"],o);const i=a(e,["version"]);i!=null&&d(t,["version"],i);const l=a(e,["_self"]);l!=null&&d(t,["tunedModelInfo"],Yy(l));const c=a(e,["inputTokenLimit"]);c!=null&&d(t,["inputTokenLimit"],c);const f=a(e,["outputTokenLimit"]);f!=null&&d(t,["outputTokenLimit"],f);const u=a(e,["supportedGenerationMethods"]);return u!=null&&d(t,["supportedActions"],u),t}function Gl(e){const t={},n=a(e,["name"]);n!=null&&d(t,["name"],n);const s=a(e,["displayName"]);s!=null&&d(t,["displayName"],s);const o=a(e,["description"]);o!=null&&d(t,["description"],o);const i=a(e,["versionId"]);i!=null&&d(t,["version"],i);const l=a(e,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>K1(p))),d(t,["endpoints"],h)}const c=a(e,["labels"]);c!=null&&d(t,["labels"],c);const f=a(e,["_self"]);f!=null&&d(t,["tunedModelInfo"],Oy(f));const u=a(e,["defaultCheckpointId"]);u!=null&&d(t,["defaultCheckpointId"],u);const m=a(e,["checkpoints"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(p=>p)),d(t,["checkpoints"],h)}return t}function Ly(e){const t={},n=a(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],n);const s=a(e,["thought"]);s!=null&&d(t,["thought"],s);const o=a(e,["inlineData"]);o!=null&&d(t,["inlineData"],C1(o));const i=a(e,["fileData"]);i!=null&&d(t,["fileData"],Q1(i));const l=a(e,["thoughtSignature"]);l!=null&&d(t,["thoughtSignature"],l);const c=a(e,["functionCall"]);c!=null&&d(t,["functionCall"],c);const f=a(e,["codeExecutionResult"]);f!=null&&d(t,["codeExecutionResult"],f);const u=a(e,["executableCode"]);u!=null&&d(t,["executableCode"],u);const m=a(e,["functionResponse"]);m!=null&&d(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&d(t,["text"],h),t}function Ry(e){const t={},n=a(e,["productImage"]);return n!=null&&d(t,["image"],gt(n)),t}function Dy(e,t){const n={},s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&d(t,["parameters","sampleCount"],s);const o=a(e,["baseSteps"]);t!==void 0&&o!=null&&d(t,["parameters","editConfig","baseSteps"],o);const i=a(e,["outputGcsUri"]);t!==void 0&&i!=null&&d(t,["parameters","storageUri"],i);const l=a(e,["seed"]);t!==void 0&&l!=null&&d(t,["parameters","seed"],l);const c=a(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&d(t,["parameters","safetySetting"],c);const f=a(e,["personGeneration"]);t!==void 0&&f!=null&&d(t,["parameters","personGeneration"],f);const u=a(e,["addWatermark"]);t!==void 0&&u!=null&&d(t,["parameters","addWatermark"],u);const m=a(e,["outputMimeType"]);t!==void 0&&m!=null&&d(t,["parameters","outputOptions","mimeType"],m);const h=a(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&d(t,["parameters","outputOptions","compressionQuality"],h);const p=a(e,["enhancePrompt"]);t!==void 0&&p!=null&&d(t,["parameters","enhancePrompt"],p);const v=a(e,["labels"]);return t!==void 0&&v!=null&&d(t,["labels"],v),n}function Fy(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["source"]);o!=null&&Vy(o,n);const i=a(t,["config"]);return i!=null&&Dy(i,n),n}function Uy(e){const t={},n=a(e,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Yo(o))),d(t,["generatedImages"],s)}return t}function Vy(e,t){const n={},s=a(e,["prompt"]);t!==void 0&&s!=null&&d(t,["instances[0]","prompt"],s);const o=a(e,["personImage"]);t!==void 0&&o!=null&&d(t,["instances[0]","personImage","image"],gt(o));const i=a(e,["productImages"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Ry(c))),d(t,["instances[0]","productImages"],l)}return n}function By(e){const t={},n=a(e,["referenceImage"]);n!=null&&d(t,["referenceImage"],gt(n));const s=a(e,["referenceId"]);s!=null&&d(t,["referenceId"],s);const o=a(e,["referenceType"]);o!=null&&d(t,["referenceType"],o);const i=a(e,["maskImageConfig"]);i!=null&&d(t,["maskImageConfig"],Py(i));const l=a(e,["controlImageConfig"]);l!=null&&d(t,["controlImageConfig"],I1(l));const c=a(e,["styleImageConfig"]);c!=null&&d(t,["styleImageConfig"],c);const f=a(e,["subjectImageConfig"]);return f!=null&&d(t,["subjectImageConfig"],f),t}function Eh(e){const t={},n=a(e,["safetyAttributes","categories"]);n!=null&&d(t,["categories"],n);const s=a(e,["safetyAttributes","scores"]);s!=null&&d(t,["scores"],s);const o=a(e,["contentType"]);return o!=null&&d(t,["contentType"],o),t}function jh(e){const t={},n=a(e,["safetyAttributes","categories"]);n!=null&&d(t,["categories"],n);const s=a(e,["safetyAttributes","scores"]);s!=null&&d(t,["scores"],s);const o=a(e,["contentType"]);return o!=null&&d(t,["contentType"],o),t}function zy(e){const t={};if(a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(e,["category"]);n!=null&&d(t,["category"],n);const s=a(e,["threshold"]);return s!=null&&d(t,["threshold"],s),t}function Hy(e){const t={},n=a(e,["image"]);return n!=null&&d(t,["image"],gt(n)),t}function Gy(e,t){const n={},s=a(e,["mode"]);t!==void 0&&s!=null&&d(t,["parameters","mode"],s);const o=a(e,["maxPredictions"]);t!==void 0&&o!=null&&d(t,["parameters","maxPredictions"],o);const i=a(e,["confidenceThreshold"]);t!==void 0&&i!=null&&d(t,["parameters","confidenceThreshold"],i);const l=a(e,["maskDilation"]);t!==void 0&&l!=null&&d(t,["parameters","maskDilation"],l);const c=a(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&d(t,["parameters","binaryColorThreshold"],c);const f=a(e,["labels"]);return t!==void 0&&f!=null&&d(t,["labels"],f),n}function $y(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["source"]);o!=null&&Wy(o,n);const i=a(t,["config"]);return i!=null&&Gy(i,n),n}function qy(e){const t={},n=a(e,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>vy(o))),d(t,["generatedMasks"],s)}return t}function Wy(e,t){const n={},s=a(e,["prompt"]);t!==void 0&&s!=null&&d(t,["instances[0]","prompt"],s);const o=a(e,["image"]);t!==void 0&&o!=null&&d(t,["instances[0]","image"],gt(o));const i=a(e,["scribbleImage"]);return t!==void 0&&i!=null&&d(t,["instances[0]","scribble"],Hy(i)),n}function Ah(e){const t={},n=a(e,["voiceConfig"]);if(n!=null&&d(t,["voiceConfig"],n),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=a(e,["languageCode"]);return s!=null&&d(t,["languageCode"],s),t}function Jy(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(m=>m)),d(t,["functionDeclarations"],u)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=a(e,["googleSearch"]);s!=null&&d(t,["googleSearch"],Sy(s));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],o),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=a(e,["googleMaps"]);i!=null&&d(t,["googleMaps"],by(i));const l=a(e,["urlContext"]);l!=null&&d(t,["urlContext"],l);const c=a(e,["computerUse"]);c!=null&&d(t,["computerUse"],c);const f=a(e,["codeExecution"]);return f!=null&&d(t,["codeExecution"],f),t}function Ih(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>X1(p))),d(t,["functionDeclarations"],h)}const s=a(e,["retrieval"]);s!=null&&d(t,["retrieval"],s);const o=a(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],o);const i=a(e,["googleSearchRetrieval"]);i!=null&&d(t,["googleSearchRetrieval"],i);const l=a(e,["enterpriseWebSearch"]);l!=null&&d(t,["enterpriseWebSearch"],l);const c=a(e,["googleMaps"]);c!=null&&d(t,["googleMaps"],c);const f=a(e,["urlContext"]);f!=null&&d(t,["urlContext"],f);const u=a(e,["computerUse"]);u!=null&&d(t,["computerUse"],u);const m=a(e,["codeExecution"]);return m!=null&&d(t,["codeExecution"],m),t}function Yy(e){const t={},n=a(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const s=a(e,["createTime"]);s!=null&&d(t,["createTime"],s);const o=a(e,["updateTime"]);return o!=null&&d(t,["updateTime"],o),t}function Oy(e){const t={},n=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(t,["baseModel"],n);const s=a(e,["createTime"]);s!=null&&d(t,["createTime"],s);const o=a(e,["updateTime"]);return o!=null&&d(t,["updateTime"],o),t}function Ky(e,t){const n={},s=a(e,["displayName"]);t!==void 0&&s!=null&&d(t,["displayName"],s);const o=a(e,["description"]);t!==void 0&&o!=null&&d(t,["description"],o);const i=a(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&d(t,["defaultCheckpointId"],i),n}function Qy(e,t){const n={},s=a(e,["displayName"]);t!==void 0&&s!=null&&d(t,["displayName"],s);const o=a(e,["description"]);t!==void 0&&o!=null&&d(t,["description"],o);const i=a(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&d(t,["defaultCheckpointId"],i),n}function Xy(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","name"],Y(e,s));const o=a(t,["config"]);return o!=null&&Ky(o,n),n}function Zy(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["config"]);return o!=null&&Qy(o,n),n}function ew(e,t){const n={},s=a(e,["outputGcsUri"]);t!==void 0&&s!=null&&d(t,["parameters","storageUri"],s);const o=a(e,["includeRaiReason"]);t!==void 0&&o!=null&&d(t,["parameters","includeRaiReason"],o);const i=a(e,["outputMimeType"]);t!==void 0&&i!=null&&d(t,["parameters","outputOptions","mimeType"],i);const l=a(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&d(t,["parameters","outputOptions","compressionQuality"],l);const c=a(e,["enhanceInputImage"]);t!==void 0&&c!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=a(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const u=a(e,["labels"]);t!==void 0&&u!=null&&d(t,["labels"],u);const m=a(e,["numberOfImages"]);t!==void 0&&m!=null&&d(t,["parameters","sampleCount"],m);const h=a(e,["mode"]);return t!==void 0&&h!=null&&d(t,["parameters","mode"],h),n}function tw(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["_url","model"],Y(e,s));const o=a(t,["image"]);o!=null&&d(n,["instances[0]","image"],gt(o));const i=a(t,["upscaleFactor"]);i!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=a(t,["config"]);return l!=null&&ew(l,n),n}function nw(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(i=>Yo(i))),d(t,["generatedImages"],o)}return t}function sw(e){const t={},n=a(e,["uri"]);n!=null&&d(t,["uri"],n);const s=a(e,["encodedVideo"]);s!=null&&d(t,["videoBytes"],un(s));const o=a(e,["encoding"]);return o!=null&&d(t,["mimeType"],o),t}function rw(e){const t={},n=a(e,["gcsUri"]);n!=null&&d(t,["uri"],n);const s=a(e,["bytesBase64Encoded"]);s!=null&&d(t,["videoBytes"],un(s));const o=a(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function ow(e){const t={},n=a(e,["image"]);n!=null&&d(t,["_self"],gt(n));const s=a(e,["maskMode"]);return s!=null&&d(t,["maskMode"],s),t}function iw(e){const t={},n=a(e,["image"]);n!=null&&d(t,["image"],Oo(n));const s=a(e,["referenceType"]);return s!=null&&d(t,["referenceType"],s),t}function lw(e){const t={},n=a(e,["image"]);n!=null&&d(t,["image"],gt(n));const s=a(e,["referenceType"]);return s!=null&&d(t,["referenceType"],s),t}function _h(e){const t={},n=a(e,["uri"]);n!=null&&d(t,["uri"],n);const s=a(e,["videoBytes"]);s!=null&&d(t,["encodedVideo"],un(s));const o=a(e,["mimeType"]);return o!=null&&d(t,["encoding"],o),t}function Mh(e){const t={},n=a(e,["uri"]);n!=null&&d(t,["gcsUri"],n);const s=a(e,["videoBytes"]);s!=null&&d(t,["bytesBase64Encoded"],un(s));const o=a(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aw="Content-Type",cw="X-Server-Timeout",dw="User-Agent",$l="x-goog-api-client",uw="1.26.0",fw=`google-genai-sdk/${uw}`,mw="v1beta1",hw="v1beta",Lu=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class pw{constructor(t){var n,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:mw,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:hw,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,s){const o=[this.getRequestUrlInternal(n)];return s&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,s);if(t.queryParams)for(const[l,c]of Object.entries(t.queryParams))o.searchParams.append(l,String(c));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,t.abortSignal),this.unaryApiCall(o,i,t.httpMethod)}patchHttpOptions(t,n){const s=JSON.parse(JSON.stringify(t));for(const[o,i]of Object.entries(n))typeof i=="object"?s[o]=Object.assign(Object.assign({},s[o]),i):i!==void 0&&(s[o]=i);return s}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,s);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,t.abortSignal),this.streamApiCall(o,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,s){if(n&&n.timeout||s){const o=new AbortController,i=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}s&&s.addEventListener("abort",()=>{o.abort()}),t.signal=i}return n&&n.extraBody!==null&&gw(t,n.extraBody),t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await Ru(o),new Vl(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await Ru(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Qn(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:c,value:f}=yield se(o.read());if(c){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=i.decode(f,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const p=JSON.parse(JSON.stringify(h.error)),v=p.status,k=p.code,N=`got status: ${v}. ${JSON.stringify(h)}`;if(k>=400&&k<600)throw new Wo({message:N,status:k})}}catch(h){if(h.name==="ApiError")throw h}l+=u;let m=l.match(Lu);for(;m;){const h=m[1];try{const p=new Response(h,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield se(new Vl(p)),l=l.slice(m[0].length),m=l.match(Lu)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},n=fw+" "+this.clientOptions.userAgentExtra;return t[dw]=n,t[$l]=n,t[aw]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[s,o]of Object.entries(t.headers))n.append(s,o);t.timeout&&t.timeout>0&&n.append(cw,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var s;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const i=this.clientOptions.uploader,l=await i.stat(t);o.sizeBytes=String(l.size);const c=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=c;const f=await this.fetchUploadUrl(o,n);return i.upload(t,f,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var s;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const i={file:t},l=await this.request({path:R("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:o});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=l==null?void 0:l.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Ru(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let s;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await e.json():s={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(s);throw n>=400&&n<600?new Wo({message:o,status:n}):new Error(o)}}function gw(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(i,l){const c=Object.assign({},i);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const u=l[f],m=c[f];u&&typeof u=="object"&&!Array.isArray(u)&&m&&typeof m=="object"&&!Array.isArray(m)?c[f]=s(m,u):(m&&u&&typeof m!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof m}, New type: ${typeof u}. Overwriting.`),c[f]=u)}return c}const o=s(n,t);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xw="mcp_used/unknown";let vw=!1;function Ph(e){for(const t of e)if(yw(t)||typeof t=="object"&&"inputSchema"in t)return!0;return vw}function Lh(e){var t;const n=(t=e[$l])!==null&&t!==void 0?t:"";e[$l]=(n+` ${xw}`).trimStart()}function yw(e){return e!==null&&typeof e=="object"&&e instanceof Ja}function ww(e,t=100){return Qn(this,arguments,function*(){let s,o=0;for(;o<t;){const i=yield se(e.listTools({cursor:s}));for(const l of i.tools)yield yield se(l),o++;if(!i.nextCursor)break;s=i.nextCursor}})}class Ja{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ja(t,n)}async initialize(){var t,n,s,o;if(this.mcpTools.length>0)return;const i={},l=[];for(const m of this.mcpClients)try{for(var c=!0,f=(n=void 0,qs(ww(m))),u;u=await f.next(),t=u.done,!t;c=!0){o=u.value,c=!1;const h=o;l.push(h);const p=h.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=m}}catch(h){n={error:h}}finally{try{!c&&!t&&(s=f.return)&&await s.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Sv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[s.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await o.callTool({name:s.name,arguments:s.args},void 0,i);n.push({functionResponse:{name:s.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function kw(e,t,n){const s=new xv;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(s,o),t(s)}class Nw{constructor(t,n,s){this.apiClient=t,this.auth=n,this.webSocketFactory=s}async connect(t){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=Sw(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${o}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${c}`;let u=()=>{};const m=new Promise(y=>{u=y}),h=t.callbacks,p=function(){u({})},v=this.apiClient,k={onopen:p,onmessage:y=>{kw(v,h.onmessage,y)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(y){},onclose:(s=h==null?void 0:h.onclose)!==null&&s!==void 0?s:function(y){}},N=this.webSocketFactory.create(f,bw(l),k);N.connect(),await m;const g={setup:{model:Y(this.apiClient,t.model)}};return N.send(JSON.stringify(g)),new Cw(N,this.apiClient)}}class Cw{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=h1(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=m1(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Gn.PLAY)}pause(){this.sendPlaybackControl(Gn.PAUSE)}stop(){this.sendPlaybackControl(Gn.STOP)}resetContext(){this.sendPlaybackControl(Gn.RESET_CONTEXT)}close(){this.conn.close()}}function bw(e){const t={};return e.forEach((n,s)=>{t[s]=n}),t}function Sw(e){const t=new Headers;for(const[n,s]of Object.entries(e))t.append(n,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ew(e,t,n){const s=new gv;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const i=JSON.parse(o);if(e.isVertexAI()){const l=x1(i);Object.assign(s,l)}else Object.assign(s,i);t(s)}class jw{constructor(t,n,s){this.apiClient=t,this.auth=n,this.webSocketFactory=s,this.music=new Nw(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,s,o,i,l,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let m;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&Ph(t.config.tools)&&Lh(h);const p=Mw(h);if(this.apiClient.isVertexAI())m=`${f}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const T=this.apiClient.getApiKey();let _="BidiGenerateContent",D="key";T!=null&&T.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),_="BidiGenerateContentConstrained",D="access_token"),m=`${f}/ws/google.ai.generativelanguage.${u}.GenerativeService.${_}?${D}=${T}`}let v=()=>{};const k=new Promise(T=>{v=T}),N=t.callbacks,j=function(){var T;(T=N==null?void 0:N.onopen)===null||T===void 0||T.call(N),v({})},x=this.apiClient,g={onopen:j,onmessage:T=>{Ew(x,N.onmessage,T)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(T){},onclose:(s=N==null?void 0:N.onclose)!==null&&s!==void 0?s:function(T){}},y=this.webSocketFactory.create(m,_w(p),g);y.connect(),await k;let C=Y(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const T=this.apiClient.getProject(),_=this.apiClient.getLocation();C=`projects/${T}/locations/${_}/`+C}let b={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[is.AUDIO]}:t.config.responseModalities=[is.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const S=(c=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],E=[];for(const T of S)if(this.isCallableTool(T)){const _=T;E.push(await _.tool())}else E.push(T);E.length>0&&(t.config.tools=E);const A={model:C,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?b=f1(this.apiClient,A):b=u1(this.apiClient,A),delete b.config,y.send(JSON.stringify(b)),new Iw(y,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Aw={turnComplete:!0};class Iw{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=st(n.turns),t.isVertexAI()||(s=s.map(o=>Jo(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const i of s){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(Tw)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},Aw),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:g1(t)}:n={realtimeInput:p1(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function _w(e){const t={};return e.forEach((n,s)=>{t[s]=n}),t}function Mw(e){const t=new Headers;for(const[n,s]of Object.entries(e))t.append(n,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Du=10;function Fu(e){var t,n,s;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Xn(l)){o=!0;break}if(!o)return!0;const i=(s=e==null?void 0:e.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Xn(e){return"callTool"in e&&typeof e.callTool=="function"}function Pw(e){var t,n,s;return(s=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>Xn(o)))!==null&&s!==void 0?s:!1}function Lw(e){var t,n,s;return(s=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>!Xn(o)))!==null&&s!==void 0?s:!1}function Uu(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rw extends En{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var s,o,i,l,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Pw(n)||Fu(n.config))return await this.generateContentInternal(f);if(Lw(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,m;const h=st(f.contents),p=(i=(o=(s=f.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Du;let v=0;for(;v<p&&(u=await this.generateContentInternal(f),!(!u.functionCalls||u.functionCalls.length===0));){const k=u.candidates[0].content,N=[];for(const j of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Xn(j)){const g=await j.callTool(u.functionCalls);N.push(...g)}v++,m={role:"user",parts:N},f.contents=st(f.contents),f.contents.push(k),f.contents.push(m),Uu(f.config)&&(h.push(k),h.push(m))}return Uu(f.config)&&(u.automaticFunctionCallingHistory=h),u},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Fu(n.config)){const s=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var o;let i;const l=[];if(s!=null&&s.generatedImages)for(const f of s.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((o=f==null?void 0:f.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=f==null?void 0:f.safetyAttributes:l.push(f);let c;return i?c={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:s.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:s.sdkHttpResponse},c}),this.list=async n=>{var s;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((s=l.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new pr(bn.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var s,o,i,l,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,s,o;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const l=await Promise.all(i.map(async f=>Xn(f)?await f.tool():f)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(c.config.tools=l,t.config&&t.config.tools&&Ph(t.config.tools)){const f=(o=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&o!==void 0?o:{};let u=Object.assign({},f);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Lh(u),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return c}async initAfcToolsMap(t){var n,s,o;const i=new Map;for(const l of(s=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(Xn(l)){const c=l,f=await c.tool();for(const u of(o=f.functionDeclarations)!==null&&o!==void 0?o:[]){if(!u.name)throw new Error("Function declaration name is required.");if(i.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);i.set(u.name,c)}}return i}async processAfcStream(t){var n,s,o;const i=(o=(s=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:Du;let l=!1,c=0;const f=await this.initAfcToolsMap(t);return function(u,m,h){var p,v;return Qn(this,arguments,function*(){for(var k,N,j,x;c<i;){l&&(c++,l=!1);const b=yield se(u.processParamsMaybeAddMcpUsage(h)),S=yield se(u.generateContentStreamInternal(b)),E=[],A=[];try{for(var g=!0,y=(N=void 0,qs(S)),C;C=yield se(y.next()),k=C.done,!k;g=!0){x=C.value,g=!1;const T=x;if(yield yield se(T),T.candidates&&(!((p=T.candidates[0])===null||p===void 0)&&p.content)){A.push(T.candidates[0].content);for(const _ of(v=T.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(c<i&&_.functionCall){if(!_.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(_.functionCall.name)){const D=yield se(m.get(_.functionCall.name).callTool([_.functionCall]));E.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${_.functionCall.name}`)}}}}catch(T){N={error:T}}finally{try{!g&&!k&&(j=y.return)&&(yield se(j.call(y)))}finally{if(N)throw N.error}}if(E.length>0){l=!0;const T=new js;T.candidates=[{content:{role:"user",parts:E}}],yield yield se(T);const _=[];_.push(...A),_.push({role:"user",parts:E});const D=st(h.contents).concat(_);h.contents=D}else break}})}(this,f,t)}async generateContentInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=_u(this.apiClient,t);return c=R("{model}:generateContent",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=Pu(m),p=new js;return Object.assign(p,h),p})}else{const u=Iu(this.apiClient,t);return c=R("{model}:generateContent",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=Mu(m),p=new js;return Object.assign(p,h),p})}}async generateContentStreamInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=_u(this.apiClient,t);return c=R("{model}:streamGenerateContent?alt=sse",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(h){return Qn(this,arguments,function*(){var p,v,k,N;try{for(var j=!0,x=qs(h),g;g=yield se(x.next()),p=g.done,!p;j=!0){N=g.value,j=!1;const y=N,C=Pu(yield se(y.json()));C.sdkHttpResponse={headers:y.headers};const b=new js;Object.assign(b,C),yield yield se(b)}}catch(y){v={error:y}}finally{try{!j&&!p&&(k=x.return)&&(yield se(k.call(x)))}finally{if(v)throw v.error}}})})}else{const u=Iu(this.apiClient,t);return c=R("{model}:streamGenerateContent?alt=sse",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(h){return Qn(this,arguments,function*(){var p,v,k,N;try{for(var j=!0,x=qs(h),g;g=yield se(x.next()),p=g.done,!p;j=!0){N=g.value,j=!1;const y=N,C=Mu(yield se(y.json()));C.sdkHttpResponse={headers:y.headers};const b=new js;Object.assign(b,C),yield yield se(b)}}catch(y){v={error:y}}finally{try{!j&&!p&&(k=x.return)&&(yield se(k.call(x)))}finally{if(v)throw v.error}}})})}}async embedContent(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=J1(this.apiClient,t);return c=R("{model}:predict",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=O1(m),p=new hu;return Object.assign(p,h),p})}else{const u=W1(this.apiClient,t);return c=R("{model}:batchEmbedContents",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=Y1(m),p=new hu;return Object.assign(p,h),p})}}async generateImagesInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=ry(this.apiClient,t);return c=R("{model}:predict",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=iy(m),p=new pu;return Object.assign(p,h),p})}else{const u=sy(this.apiClient,t);return c=R("{model}:predict",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=oy(m),p=new pu;return Object.assign(p,h),p})}}async editImageInternal(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI()){const c=H1(this.apiClient,t);return i=R("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const u=G1(f),m=new av;return Object.assign(m,u),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI()){const c=tw(this.apiClient,t);return i=R("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const u=nw(f),m=new cv;return Object.assign(m,u),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI()){const c=Fy(this.apiClient,t);return i=R("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>{const u=Uy(f),m=new dv;return Object.assign(m,u),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI()){const c=$y(this.apiClient,t);return i=R("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>{const u=qy(f),m=new uv;return Object.assign(m,u),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=Cy(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>Gl(m))}else{const u=Ny(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>Hl(m))}}async listInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=Iy(this.apiClient,t);return c=R("{models_url}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=My(m),p=new gu;return Object.assign(p,h),p})}else{const u=Ay(this.apiClient,t);return c=R("{models_url}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=_y(m),p=new gu;return Object.assign(p,h),p})}}async update(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=Zy(this.apiClient,t);return c=R("{model}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>Gl(m))}else{const u=Xy(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>Hl(m))}}async delete(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=U1(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=B1(m),p=new xu;return Object.assign(p,h),p})}else{const u=F1(this.apiClient,t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=V1(m),p=new xu;return Object.assign(p,h),p})}}async countTokens(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=L1(this.apiClient,t);return c=R("{model}:countTokens",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=D1(m),p=new vu;return Object.assign(p,h),p})}else{const u=P1(this.apiClient,t);return c=R("{model}:countTokens",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=R1(m),p=new vu;return Object.assign(p,h),p})}}async computeTokens(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI()){const c=T1(this.apiClient,t);return i=R("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const u=E1(f),m=new fv;return Object.assign(m,u),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=fy(this.apiClient,t);return c=R("{model}:predictLongRunning",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>{const h=dy(m),p=new To;return Object.assign(p,h),p})}else{const u=uy(this.apiClient,t);return c=R("{model}:predictLongRunning",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>{const h=cy(m),p=new To;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dw extends En{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,s=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;s&&"httpOptions"in s&&(i=s.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async get(t){const n=t.operation,s=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;s&&"httpOptions"in s&&(i=s.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async getVideosOperationInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=ov(t);return c=R("{operationName}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l}else{const u=rv(t);return c=R("{operationName}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l}}async fetchPredictVideosOperationInternal(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI()){const c=Qx(t);return i=R("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fw(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["data"]);n!=null&&d(t,["data"],n);const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function Uw(e){const t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Ww(i))),d(t,["parts"],o)}const s=a(e,["role"]);return s!=null&&d(t,["role"],s),t}function Vw(e,t,n){const s={},o=a(t,["expireTime"]);n!==void 0&&o!=null&&d(n,["expireTime"],o);const i=a(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&d(n,["newSessionExpireTime"],i);const l=a(t,["uses"]);n!==void 0&&l!=null&&d(n,["uses"],l);const c=a(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&d(n,["bidiGenerateContentSetup"],qw(e,c));const f=a(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&d(n,["fieldMask"],f),s}function Bw(e,t){const n={},s=a(t,["config"]);return s!=null&&d(n,["config"],Vw(e,s,n)),n}function zw(e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const s=a(e,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function Hw(e){const t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(e,["enableWidget"]);return n!=null&&d(t,["enableWidget"],n),t}function Gw(e){const t={},n=a(e,["timeRangeFilter"]);if(n!=null&&d(t,["timeRangeFilter"],n),a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function $w(e,t){const n={},s=a(e,["generationConfig"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig"],s);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig","responseModalities"],o);const i=a(e,["temperature"]);t!==void 0&&i!=null&&d(t,["setup","generationConfig","temperature"],i);const l=a(e,["topP"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig","topP"],l);const c=a(e,["topK"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","maxOutputTokens"],f);const u=a(e,["mediaResolution"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","mediaResolution"],u);const m=a(e,["seed"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","seed"],m);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","speechConfig"],Wa(h));const p=a(e,["thinkingConfig"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","thinkingConfig"],p);const v=a(e,["enableAffectiveDialog"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],v);const k=a(e,["systemInstruction"]);t!==void 0&&k!=null&&d(t,["setup","systemInstruction"],Uw(_e(k)));const N=a(e,["tools"]);if(t!==void 0&&N!=null){let S=ms(N);Array.isArray(S)&&(S=S.map(E=>Yw(fs(E)))),d(t,["setup","tools"],S)}const j=a(e,["sessionResumption"]);t!==void 0&&j!=null&&d(t,["setup","sessionResumption"],Jw(j));const x=a(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&d(t,["setup","inputAudioTranscription"],x);const g=a(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&d(t,["setup","outputAudioTranscription"],g);const y=a(e,["realtimeInputConfig"]);t!==void 0&&y!=null&&d(t,["setup","realtimeInputConfig"],y);const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&d(t,["setup","contextWindowCompression"],C);const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&d(t,["setup","proactivity"],b),n}function qw(e,t){const n={},s=a(t,["model"]);s!=null&&d(n,["setup","model"],Y(e,s));const o=a(t,["config"]);return o!=null&&d(n,["config"],$w(o,n)),n}function Ww(e){const t={},n=a(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],n);const s=a(e,["thought"]);s!=null&&d(t,["thought"],s);const o=a(e,["inlineData"]);o!=null&&d(t,["inlineData"],Fw(o));const i=a(e,["fileData"]);i!=null&&d(t,["fileData"],zw(i));const l=a(e,["thoughtSignature"]);l!=null&&d(t,["thoughtSignature"],l);const c=a(e,["functionCall"]);c!=null&&d(t,["functionCall"],c);const f=a(e,["codeExecutionResult"]);f!=null&&d(t,["codeExecutionResult"],f);const u=a(e,["executableCode"]);u!=null&&d(t,["executableCode"],u);const m=a(e,["functionResponse"]);m!=null&&d(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&d(t,["text"],h),t}function Jw(e){const t={},n=a(e,["handle"]);if(n!=null&&d(t,["handle"],n),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Yw(e){const t={},n=a(e,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(m=>m)),d(t,["functionDeclarations"],u)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=a(e,["googleSearch"]);s!=null&&d(t,["googleSearch"],Gw(s));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&d(t,["googleSearchRetrieval"],o),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=a(e,["googleMaps"]);i!=null&&d(t,["googleMaps"],Hw(i));const l=a(e,["urlContext"]);l!=null&&d(t,["urlContext"],l);const c=a(e,["computerUse"]);c!=null&&d(t,["computerUse"],c);const f=a(e,["codeExecution"]);return f!=null&&d(t,["codeExecution"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ow(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const s=e[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const o=Object.keys(s).map(i=>`${n}.${i}`);t.push(...o)}else t.push(n)}return t.join(",")}function Kw(e,t){let n=null;const s=e.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const i=s.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else s!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const i=Ow(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];o.length>0&&(c=o.map(u=>l.includes(u)?`generationConfig.${u}`:u));const f=[];i&&f.push(i),c.length>0&&f.push(...c),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class Qw extends En{constructor(t){super(),this.apiClient=t}async create(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=Bw(this.apiClient,t);i=R("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=Kw(c,t.config);return o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),o.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xw(e){const t={},n=a(e,["name"]);return n!=null&&d(t,["_url","name"],n),t}function Zw(e){const t={},n=a(e,["name"]);return n!=null&&d(t,["_url","name"],n),t}function e5(e,t){const n={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=a(e,["tunedModelDisplayName"]);if(t!==void 0&&s!=null&&d(t,["displayName"],s),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=a(e,["epochCount"]);t!==void 0&&o!=null&&d(t,["tuningTask","hyperparameters","epochCount"],o);const i=a(e,["learningRateMultiplier"]);if(i!=null&&d(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),a(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=a(e,["batchSize"]);t!==void 0&&l!=null&&d(t,["tuningTask","hyperparameters","batchSize"],l);const c=a(e,["learningRate"]);if(t!==void 0&&c!=null&&d(t,["tuningTask","hyperparameters","learningRate"],c),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function t5(e,t){const n={},s=a(e,["validationDataset"]);t!==void 0&&s!=null&&d(t,["supervisedTuningSpec"],g5(s,n));const o=a(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&d(t,["tunedModelDisplayName"],o);const i=a(e,["description"]);t!==void 0&&i!=null&&d(t,["description"],i);const l=a(e,["epochCount"]);t!==void 0&&l!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],l);const c=a(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=a(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const u=a(e,["adapterSize"]);if(t!==void 0&&u!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],u),a(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=a(e,["labels"]);return t!==void 0&&m!=null&&d(t,["labels"],m),n}function n5(e){const t={},n=a(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const s=a(e,["preTunedModel"]);s!=null&&d(t,["preTunedModel"],s);const o=a(e,["trainingDataset"]);o!=null&&d(t,["tuningTask","trainingData"],m5(o));const i=a(e,["config"]);return i!=null&&e5(i,t),t}function s5(e){const t={},n=a(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const s=a(e,["preTunedModel"]);s!=null&&d(t,["preTunedModel"],s);const o=a(e,["trainingDataset"]);o!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],h5(o,t));const i=a(e,["config"]);return i!=null&&t5(i,t),t}function r5(e){const t={},n=a(e,["name"]);return n!=null&&d(t,["_url","name"],n),t}function o5(e){const t={},n=a(e,["name"]);return n!=null&&d(t,["_url","name"],n),t}function i5(e,t){const n={},s=a(e,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const i=a(e,["filter"]);return t!==void 0&&i!=null&&d(t,["_query","filter"],i),n}function l5(e,t){const n={},s=a(e,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&d(t,["_query","pageToken"],o);const i=a(e,["filter"]);return t!==void 0&&i!=null&&d(t,["_query","filter"],i),n}function a5(e){const t={},n=a(e,["config"]);return n!=null&&i5(n,t),t}function c5(e){const t={},n=a(e,["config"]);return n!=null&&l5(n,t),t}function d5(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const o=a(e,["tunedModels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Rh(l))),d(t,["tuningJobs"],i)}return t}function u5(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const o=a(e,["tuningJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>ql(l))),d(t,["tuningJobs"],i)}return t}function f5(e){const t={},n=a(e,["name"]);n!=null&&d(t,["model"],n);const s=a(e,["name"]);return s!=null&&d(t,["endpoint"],s),t}function m5(e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=a(e,["examples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),d(t,["examples","examples"],s)}return t}function h5(e,t){const n={},s=a(e,["gcsUri"]);t!==void 0&&s!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],s);const o=a(e,["vertexDatasetResource"]);if(t!==void 0&&o!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],o),a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Rh(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["name"]);s!=null&&d(t,["name"],s);const o=a(e,["state"]);o!=null&&d(t,["state"],gh(o));const i=a(e,["createTime"]);i!=null&&d(t,["createTime"],i);const l=a(e,["tuningTask","startTime"]);l!=null&&d(t,["startTime"],l);const c=a(e,["tuningTask","completeTime"]);c!=null&&d(t,["endTime"],c);const f=a(e,["updateTime"]);f!=null&&d(t,["updateTime"],f);const u=a(e,["description"]);u!=null&&d(t,["description"],u);const m=a(e,["baseModel"]);m!=null&&d(t,["baseModel"],m);const h=a(e,["_self"]);return h!=null&&d(t,["tunedModel"],f5(h)),t}function ql(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["name"]);s!=null&&d(t,["name"],s);const o=a(e,["state"]);o!=null&&d(t,["state"],gh(o));const i=a(e,["createTime"]);i!=null&&d(t,["createTime"],i);const l=a(e,["startTime"]);l!=null&&d(t,["startTime"],l);const c=a(e,["endTime"]);c!=null&&d(t,["endTime"],c);const f=a(e,["updateTime"]);f!=null&&d(t,["updateTime"],f);const u=a(e,["error"]);u!=null&&d(t,["error"],u);const m=a(e,["description"]);m!=null&&d(t,["description"],m);const h=a(e,["baseModel"]);h!=null&&d(t,["baseModel"],h);const p=a(e,["tunedModel"]);p!=null&&d(t,["tunedModel"],p);const v=a(e,["preTunedModel"]);v!=null&&d(t,["preTunedModel"],v);const k=a(e,["supervisedTuningSpec"]);k!=null&&d(t,["supervisedTuningSpec"],k);const N=a(e,["tuningDataStats"]);N!=null&&d(t,["tuningDataStats"],N);const j=a(e,["encryptionSpec"]);j!=null&&d(t,["encryptionSpec"],j);const x=a(e,["partnerModelTuningSpec"]);x!=null&&d(t,["partnerModelTuningSpec"],x);const g=a(e,["customBaseModel"]);g!=null&&d(t,["customBaseModel"],g);const y=a(e,["experiment"]);y!=null&&d(t,["experiment"],y);const C=a(e,["labels"]);C!=null&&d(t,["labels"],C);const b=a(e,["outputUri"]);b!=null&&d(t,["outputUri"],b);const S=a(e,["pipelineJob"]);S!=null&&d(t,["pipelineJob"],S);const E=a(e,["serviceAccount"]);E!=null&&d(t,["serviceAccount"],E);const A=a(e,["tunedModelDisplayName"]);A!=null&&d(t,["tunedModelDisplayName"],A);const T=a(e,["veoTuningSpec"]);return T!=null&&d(t,["veoTuningSpec"],T),t}function p5(e){const t={},n=a(e,["sdkHttpResponse"]);n!=null&&d(t,["sdkHttpResponse"],n);const s=a(e,["name"]);s!=null&&d(t,["name"],s);const o=a(e,["metadata"]);o!=null&&d(t,["metadata"],o);const i=a(e,["done"]);i!=null&&d(t,["done"],i);const l=a(e,["error"]);return l!=null&&d(t,["error"],l),t}function g5(e,t){const n={},s=a(e,["gcsUri"]);s!=null&&d(n,["validationDatasetUri"],s);const o=a(e,["vertexDatasetResource"]);return t!==void 0&&o!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x5 extends En{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new pr(bn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:o});return i.baseModel=void 0,await this.tuneInternal(i)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),i=await this.tuneMldevInternal(o);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Ul.JOB_STATE_QUEUED}}}}async getInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=o5(t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>ql(m))}else{const u=r5(t);return c=R("{name}",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>Rh(m))}}async listInternal(t){var n,s,o,i;let l,c="",f={};if(this.apiClient.isVertexAI()){const u=c5(t);return c=R("tuningJobs",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=u5(m),p=new yu;return Object.assign(p,h),p})}else{const u=a5(t);return c=R("tunedModels",u._url),f=u._query,delete u._url,delete u._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:m.headers},p})),l.then(m=>{const h=d5(m),p=new yu;return Object.assign(p,h),p})}}async cancel(t){var n,s,o,i;let l="",c={};if(this.apiClient.isVertexAI()){const f=Zw(t);l=R("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const f=Xw(t);l=R("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI()){const c=s5(t);return i=R("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>ql(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,s;let o,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=n5(t);return i=R("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(u=>{const m=u;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>p5(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v5{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const y5=1024*1024*8,w5=3,k5=1e3,N5=2,Fi="x-goog-upload-status";async function C5(e,t,n){var s,o,i;let l=0,c=0,f=new Vl(new Response),u="upload";for(l=e.size;c<l;){const h=Math.min(y5,l-c),p=e.slice(c,c+h);c+h>=l&&(u+=", finalize");let v=0,k=k5;for(;v<w5&&(f=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((s=f==null?void 0:f.headers)===null||s===void 0)&&s[Fi]));)v++,await S5(k),k=k*N5;if(c+=h,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[Fi])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const m=await(f==null?void 0:f.json());if(((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[Fi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return m.file}async function b5(e){return{size:e.size,type:e.type}}function S5(e){return new Promise(t=>setTimeout(t,e))}class T5{async upload(t,n,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await C5(t,n,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await b5(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E5{create(t,n,s){return new j5(t,n,s)}}class j5{constructor(t,n,s){this.url=t,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vu="x-goog-api-key";class A5{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(Vu)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Vu,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I5="gl-node/";class Dh{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const s=Ox(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion;const o=new A5(this.apiKey);this.apiClient=new pw({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:I5+"web",uploader:new T5,downloader:new v5}),this.models=new Rw(this.apiClient),this.live=new jw(this.apiClient,o,new E5),this.batches=new h2(this.apiClient),this.chats=new W2(this.models,this.apiClient),this.caches=new G2(this.apiClient),this.files=new n1(this.apiClient),this.operations=new Dw(this.apiClient),this.authTokens=new Qw(this.apiClient),this.tunings=new x5(this.apiClient)}}const te=e=>new Dh({apiKey:void 0}),ue=(e,t="basic")=>e.aiModelPreference==="Quality"||t==="complex"?"gemini-2.5-pro":"gemini-2.5-flash";async function*_5(e,t){const n=te(),s=ue(t),o=`Summarize the following article in a ${t.summaryLength} paragraph: "${e.title}"

${e.content}`,i=await n.models.generateContentStream({model:s,contents:o});for await(const l of i)yield l.text}async function M5(e,t,n,s){const o=te(),i=ue(s,"complex"),l=t.map(m=>`ID: ${m.id}, Title: ${m.title}, Excerpt: ${m.excerpt}`).join(`
`),c=n.map(m=>`ID: ${m.id}, Title: ${m.title}, Description: ${m.description}, Genre: ${m.genre}`).join(`
`),f=`You are a powerful search AI for a news platform. A user is searching for: "${e}".
    
    Here is the available content:
    ARTICLES:
    ${l}

    MOVIES & TV:
    ${c}
    
    Please provide a response in JSON format. The JSON object should have the following structure:
    {
      "summary": "A concise, 1-2 paragraph summary answering the user's query directly based on the provided content. If the query is broad, synthesize information from multiple sources. Format with markdown.",
      "relatedArticleIds": [an array of up to 5 relevant article IDs (numbers)],
      "relatedMovieIds": [an array of up to 5 relevant movie IDs (numbers)],
      "suggestedQuestions": ["a list of 3 follow-up questions the user might have"]
    }
    
    Analyze the user's query and the content catalogs to find the most relevant information. Prioritize direct answers in the summary. If no relevant content is found, the summary should state that and the ID arrays should be empty.`,u=await o.models.generateContent({model:i,contents:f,config:{responseMimeType:"application/json"}});try{return JSON.parse(u.text)}catch(m){throw console.error("Failed to parse AI search response:",m),new Error("AI search returned an invalid format.")}}async function*P5(e,t,n){const s=te(),o=ue(n);let i;t==="Simplify"?i=`Simplify the following text. Make it easier to understand for a general audience without losing the core meaning:

${e}`:i=`Analyze the following text. Identify key terms, people, and organizations. For each, provide a brief, one-sentence definition or description inline with the text, formatted like this: "The identified term (a brief definition)". Do not alter the original text otherwise.

${e}`;const l=await s.models.generateContentStream({model:o,contents:i});for await(const c of l)yield c.text}async function L5(e,t,n){const s=te(),o=ue(n),i=`TITLE: ${e.title}
EXCERPT: ${e.excerpt}
CONTENT: ${e.content}`,l=`Translate the following news article into ${t}. Keep the structure with "TITLE:", "EXCERPT:", and "CONTENT:" labels.

${i}`,f=(await s.models.generateContent({model:o,contents:l})).text,u=f.match(/TITLE: (.*)/),m=f.match(/EXCERPT: (.*)/),h=f.match(/CONTENT: ([\s\S]*)/);return{title:u?u[1]:e.title,excerpt:m?m[1]:e.excerpt,content:h?h[1]:e.content}}async function R5(e,t){const n=te(),s=ue(t,"complex"),o=`Provide a deep dive analysis of the article "${e.title}". The analysis should include:
    - Historical Context: What led up to these events?
    - Key Players: Who are the main actors and what are their motivations?
    - Broader Implications: What are the potential long-term effects globally or in the relevant sector?
    - Unstated Factors: What important context might be missing from this article?
    
    Format the response in markdown with ## for headings.
    
    Article Content for analysis:
    ${e.content}`,i=await n.models.generateContentStream({model:s,contents:o});async function*l(){for await(const c of i)yield c.text}return l()}async function D5(e,t){var i,l,c,f,u,m;const o=(m=(u=(f=(c=(l=(i=(await te().models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:e}]}],config:{responseModalities:[is.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}}}})).candidates)==null?void 0:i[0])==null?void 0:l.content)==null?void 0:c.parts)==null?void 0:f[0])==null?void 0:u.inlineData)==null?void 0:m.data;if(!o)throw new Error("No audio data returned from API.");return o}async function*F5(e,t){const n=te(),s=ue(t),o=`Explain the key points of this article as if you were talking to a 10-year-old. Use simple language and analogies.

Article: "${e.title}"
${e.content}`,i=await n.models.generateContentStream({model:s,contents:o});for await(const l of i)yield l.text}async function U5(e,t,n){const s=te(),o=ue(n),i=`Translate the following text into ${t}:

${e}`;return(await s.models.generateContent({model:o,contents:i})).text}async function V5(e,t){const n=te(),s=ue(t,"complex"),o=`Based on the following article, generate 3 multiple-choice quiz questions.
    Return the response as a JSON array of objects. Each object should have keys "question", "options" (an array of 4 strings), and "correctAnswer" (a string that exactly matches one of the options).
    
    Article: "${e.title}"
    ${e.content}`,i=await n.models.generateContent({model:s,contents:o,config:{responseMimeType:"application/json"}});try{return JSON.parse(i.text)}catch(l){throw console.error("Failed to parse quiz response:",l),new Error("AI quiz generator returned an invalid format.")}}async function B5(e,t,n){const s=te(),o=ue(n),i=t.filter(f=>f.id!==e.id).map(f=>`ID: ${f.id}, Title: ${f.title}, Category: ${f.category}, Excerpt: ${f.excerpt}`).join(`
`),l=`Given the current article with title "${e.title}" and content: "${e.excerpt}", find the 3 most relevant articles from the following list. Return only a JSON array of their IDs (as numbers), like [10, 25, 3].
    
    Available articles:
    ${i}`,c=await s.models.generateContent({model:o,contents:l});try{const f=JSON.parse(c.text.trim());return Array.isArray(f)?f.filter(u=>typeof u=="number"):[]}catch(f){return console.error("Failed to parse related articles response:",f),[]}}async function*z5(e,t){const n=te(),s=ue(t,"complex"),o=`Read the following article. Then, provide a well-reasoned counterpoint or alternative perspective to its main argument. Be balanced and respectful.
    
    Article: "${e.title}"
    ${e.content}`,i=await n.models.generateContentStream({model:s,contents:o});for await(const l of i)yield l.text}async function*H5(e,t){const n=te(),s=ue(t,"complex"),o=`Provide "behind the news" context for the article "${e.title}". Explain the history, key players, and significance of the events described. Format in markdown with ## for headings.
    
    Article content:
    ${e.content}`,i=await n.models.generateContentStream({model:s,contents:o});for await(const l of i)yield l.text}async function*G5(e,t,n){const s=te(),o=ue(n,"complex"),i=`Analyze the article "${e.title}" from the perspective of a professional ${t}. What are the key takeaways, potential impacts, and things to watch for from that specific viewpoint? Format in markdown.
    
    Article content:
    ${e.content}`,l=await s.models.generateContentStream({model:o,contents:i});for await(const c of l)yield c.text}async function*$5(e,t,n,s){const o=te(),i=ue(s,"complex"),l=n.map(u=>`${u.role}: ${u.content}`).join(`
`),c=`You are an AI assistant helping a user understand a news article.
    
    The article is titled "${e.title}" and its content is:
    "${e.content}"
    
    Chat history:
    ${l}
    
    The user is now asking: "${t}"
    
    Answer the user's question based *only* on the provided article content and chat history. If the answer isn't in the article, say so.`,f=await o.models.generateContentStream({model:i,contents:c});for await(const u of f)yield u.text}async function*q5(e,t,n,s){const o=te(),i=ue(s,"complex"),l=n.map(u=>`${u.role}: ${u.content}`).join(`
`),c=`You are an AI simulating ${e.author}, the author of the article "${e.title}". Embody their likely tone and expertise based on the article's content. A reader is asking you a question.
    
    Your Article:
    ${e.content}
    
    Chat History:
    ${l}
    
    Reader's Question: "${t}"
    
    Respond to the reader in the first person, as ${e.author}.`,f=await o.models.generateContentStream({model:i,contents:c});for await(const u of f)yield u.text}async function W5(e,t){const n=te(),s=ue(t),i=`Based on a user's general interest in sci-fi, drama, and award-winning films, select the 5 best recommendations from the following list. Return only a JSON array of their IDs (as numbers), like [1, 5, 12, 14, 7].
    
    Available movies:
    ${e.map(c=>`ID: ${c.id}, Title: ${c.title}, Genre: ${c.genre}, Description: ${c.description}`).join(`
`)}`,l=await n.models.generateContent({model:s,contents:i});try{return JSON.parse(l.text.trim())}catch(c){return console.error("Failed to parse movie recommendations:",c),[]}}async function J5(e,t){const n=te(),s=ue(t,"complex"),o=e.map(c=>`Title: ${c.title}
Excerpt: ${c.excerpt}`).join(`

`),i=`You are an AI news anchor with a ${t.aiVoicePersonality} personality. Create a concise news briefing script based on these article summaries. The script should flow like a real news broadcast. Start with a greeting.
    
    Articles for today's briefing:
    ${o}`;return(await n.models.generateContent({model:s,contents:i})).text}async function Y5(e,t){var c,f,u,m;const n=te(),s=ue(t,"complex"),o=`Fact-check the following content using Google Search. Identify key claims, verify them, and provide a summary of your findings. List the web sources you used. Respond in JSON format with keys "summary" (string) and "sources" (an array of objects with "uri" and "title" string properties).
    
    Content to check:
    ${e}`,i=await n.models.generateContent({model:s,contents:o,config:{tools:[{googleSearch:{}}]}}),l=((m=(u=(f=(c=i.candidates)==null?void 0:c[0])==null?void 0:f.groundingMetadata)==null?void 0:u.groundingChunks)==null?void 0:m.map(h=>{var p,v;return{uri:((p=h.web)==null?void 0:p.uri)||"",title:((v=h.web)==null?void 0:v.title)||""}}).filter(h=>h.uri))||[];return{status:"Verified",summary:i.text,sources:l}}async function O5(e,t){const n=te(),s=ue(t,"complex"),o=`Analyze the following article and extract key numerical data suitable for a bar chart.
    Return a JSON object with a "title" (string) for the chart and an "items" array. Each item in the array should be an object with a "label" (string) and a "value" (number). Find up to 5 data points.
    
    Article: "${e.title}"
    ${e.content}`,i=await n.models.generateContent({model:s,contents:o,config:{responseMimeType:"application/json",responseSchema:{type:Be.OBJECT,properties:{title:{type:Be.STRING},items:{type:Be.ARRAY,items:{type:Be.OBJECT,properties:{label:{type:Be.STRING},value:{type:Be.NUMBER}}}}}}}});try{return JSON.parse(i.text)}catch{throw new Error("Failed to parse infographic data.")}}async function K5(e){const t=te(),n=ue(e),o=`Tell me about two significant historical events that happened on this day, ${new Date().toLocaleDateString("en-US",{month:"long",day:"numeric"})}. For each event, provide a title formatted as '## Year - Event Title' and a one-sentence description. The events should be relevant to a global news audience. Translate the final output to ${e.preferredLanguage}.`;return(await t.models.generateContent({model:n,contents:o})).text}async function Q5(e,t,n){const s=te(),o=ue(n),i=JSON.stringify(e),l=`Translate the values in the following JSON object to ${t}. Return only the translated JSON object.
    
    ${i}`,c=await s.models.generateContent({model:o,contents:l,config:{responseMimeType:"application/json"}});try{return JSON.parse(c.text)}catch(f){return console.error("Failed to parse batch translation response",f),e}}async function*X5(e,t,n){const s=te(),o=ue(n,"complex"),i=`Compare and contrast the following two articles. Analyze their main arguments, perspectives, and key takeaways. Format the response in markdown with ## for headings.
    
    Article 1: "${e.title}"
    ${e.excerpt}
    
    Article 2: "${t.title}"
    ${t.excerpt}`,l=await s.models.generateContentStream({model:o,contents:i});for await(const c of l)yield c.text}async function Z5(e){var o,i,l,c;const t=te();let n=await t.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:`Create a news anchor video for this script: ${e}`,config:{numberOfVideos:1,resolution:"720p",aspectRatio:"16:9"}});for(;!n.done;)await new Promise(f=>setTimeout(f,1e4)),n=await t.operations.getVideosOperation({operation:n});const s=(c=(l=(i=(o=n.response)==null?void 0:o.generatedVideos)==null?void 0:i[0])==null?void 0:l.video)==null?void 0:c.uri;if(!s)throw new Error("Video generation failed, no download link found.");return s}async function ek(e,t,n){const s=te(),o=ue(n),i=`You are an AI assistant for the Mahama refugee camp. Answer the user's query about camp services and information. Be helpful and concise. If you are asked for nearby locations, use the user's current location to provide directions if possible.
    User's query: "${e}"`;return(await s.models.generateContent({model:o,contents:i,config:{tools:[{googleMaps:{}}],toolConfig:t?{retrievalConfig:{latLng:{latitude:t.latitude,longitude:t.longitude}}}:void 0}})).text}async function*tk(e,t){const n=te(),s=ue(t,"complex"),o=`Provide a deep dive analysis of the movie "${e.title}". The analysis should include:
    - Themes & Symbolism: What are the major themes and symbols in the film?
    - Director's Style: How does the director's style influence the movie?
    - Cultural Impact: What was the movie's impact on culture and cinema?
    - Trivia: Interesting facts about the production.
    
    Format the response in markdown with ## for headings.
    
    Movie Description:
    ${e.description}`,i=await n.models.generateContentStream({model:s,contents:o});for await(const l of i)yield l.text}async function*nk(e,t,n,s,o){const i=te(),l="gemini-2.5-flash",c={inlineData:{data:e,mimeType:t}},u={text:`You are an AI assistant helping a user analyze an image from a news article.
        
        Previous conversation:
        ${s.map(h=>` - ${h.role}: ${h.content}`).join(`
`)}
        
        The user is now asking: "${n}"
        
        Answer the user's question based on the image provided.`},m=await i.models.generateContentStream({model:l,contents:{parts:[c,u]}});for await(const h of m)yield h.text}const Fh=w.createContext(void 0),sk=({children:e,language:t,settings:n})=>{const[s,o]=w.useState(jt.English),[i,l]=w.useState(!1),c=w.useRef(()=>{try{const u=localStorage.getItem("mahama-translation-cache"),m={English:jt.English,Kinyarwanda:jt.Kinyarwanda};return u?{...m,...JSON.parse(u)}:m}catch(u){return console.error("Failed to read translation cache from localStorage",u),{English:jt.English,Kinyarwanda:jt.Kinyarwanda}}});w.useEffect(()=>{(async()=>{if(c.current[t]){o(c.current[t]);return}if(jt.English){o(jt.English),l(!0);try{const m=await Q5(jt.English,t,n);c.current[t]=m;try{localStorage.setItem("mahama-translation-cache",JSON.stringify(c.current))}catch(h){console.error("Failed to save translation cache to localStorage",h)}o(m)}catch(m){console.error(`Failed to translate to ${t}:`,m)}finally{l(!1)}}})()},[t,n]);const f=u=>{var m;return(s==null?void 0:s[u])||((m=jt.English)==null?void 0:m[u])||u};return r.jsx(Fh.Provider,{value:{t:f,language:t,isTranslating:i},children:e})},G=()=>{const e=w.useContext(Fh);if(e===void 0)throw new Error("useTranslation must be used within a TranslationProvider");return{t:e.t,language:e.language,isTranslating:e.isTranslating}},rk=e=>r.jsxs("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",...e,children:[r.jsxs("defs",{children:[r.jsx("clipPath",{id:"circleClip",children:r.jsx("circle",{cx:"60",cy:"60",r:"40"})}),r.jsx("style",{children:`
          .mnh-stream {
            animation: mnh-stream-anim 3s ease-in-out infinite;
            transform-origin: center;
          }
          @keyframes mnh-stream-anim {
            0% { transform: translateY(120px); }
            40%, 60% { transform: translateY(0); }
            100% { transform: translateY(-120px); }
          }
          .mnh-pulse {
            animation: mnh-pulse-anim 2s ease-in-out infinite;
            transform-origin: center;
          }
          @keyframes mnh-pulse-anim {
            0%, 100% { transform: scale(0.95); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
          }
           .mnh-logo-group:hover .mnh-pulse {
            animation-duration: 0.8s;
          }
          .mnh-logo-group:hover .mnh-stream {
            animation-duration: 1.2s;
          }
          .mnh-logo-group:hover .mnh-letter {
            transform: scale(1.1);
          }
          .mnh-letter {
            font-family: Inter, sans-serif;
            font-size: 60px;
            font-weight: 900;
            fill: #d97706; /* gold */
            transform-origin: center;
            transition: transform 0.3s ease-in-out;
          }
        `})]}),r.jsxs("g",{className:"mnh-logo-group",children:[r.jsxs("g",{className:"mnh-pulse",children:[r.jsx("circle",{cx:"60",cy:"60",r:"50",className:"fill-current text-deep-red/10"}),r.jsx("circle",{cx:"60",cy:"60",r:"55",className:"fill-current text-deep-red/5"})]}),r.jsx("circle",{cx:"60",cy:"60",r:"40",className:"fill-current text-deep-red"}),r.jsxs("g",{clipPath:"url(#circleClip)",children:[r.jsx("rect",{x:"0",y:"0",width:"120",height:"120",className:"fill-current text-white dark:text-navy"}),r.jsxs("g",{className:"mnh-stream",children:[r.jsx("rect",{x:"25",y:"-10",width:"10",height:"140",className:"fill-current text-deep-red",opacity:"0.8"}),r.jsx("rect",{x:"55",y:"-10",width:"10",height:"140",className:"fill-current text-gold",opacity:"0.8",style:{animationDelay:"0.3s"}}),r.jsx("rect",{x:"85",y:"-10",width:"10",height:"140",className:"fill-current text-deep-red",opacity:"0.8",style:{animationDelay:"0.6s"}})]})]}),r.jsx("text",{x:"50%",y:"50%",dy:".35em",textAnchor:"middle",className:"mnh-letter",children:"M"})]})]}),jo=e=>r.jsx(rk,{...e}),ok=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Ya=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),ik=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),Uh=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),lk=({user:e,onLogout:t})=>{const[n,s]=w.useState(!1),o=w.useRef(null);return w.useEffect(()=>{const i=l=>{o.current&&!o.current.contains(l.target)&&s(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[]),r.jsxs("div",{className:"relative",ref:o,children:[r.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800/50 rounded-full p-1 pr-3 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700/50 transition-colors",children:[r.jsx("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full"}),r.jsx("span",{className:"hidden md:inline",children:e.name.split(" ")[0]}),r.jsx(Uh,{className:`w-4 h-4 transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&r.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-800 rounded-lg shadow-2xl overflow-hidden z-50 border border-slate-200 dark:border-slate-700 animate-fade-in-down",children:[r.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[r.jsx("p",{className:"font-bold truncate",children:e.name}),r.jsx("p",{className:"text-sm text-slate-500 truncate",children:e.email})]}),r.jsx("ul",{className:"p-2",children:r.jsx("li",{children:r.jsxs("button",{onClick:()=>{t(),s(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left text-sm font-medium text-red-600 dark:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-900/50 transition-colors",children:[r.jsx(ik,{className:"w-5 h-5"}),"Logout"]})})})]})]})},ak=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),ck=[{code:"English",name:"English"},{code:"French",name:"Franais"},{code:"Swahili",name:"Kiswahili"},{code:"Kinyarwanda",name:"Kinyarwanda"}],dk=({onLanguageChange:e,onClose:t})=>{const{language:n}=G(),s=o=>{e(o),t()};return r.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-slate-800 rounded-lg shadow-2xl overflow-hidden z-50 border border-slate-200 dark:border-slate-700 animate-fade-in-down",children:r.jsx("ul",{className:"p-2",children:ck.map(({code:o,name:i})=>r.jsx("li",{children:r.jsx("button",{onClick:()=>s(o),className:`w-full text-left px-3 py-2 text-sm rounded-md hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors
                ${o===n?"font-bold text-deep-red dark:text-gold":"font-medium text-slate-700 dark:text-slate-300"}
            `,children:i})},o))})})},Ko=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Vh=e=>r.jsxs("svg",{className:"w-5 h-5 animate-spin text-gold",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeOpacity:"0.2"}),r.jsx("path",{d:"M12 2 A10 10 0 0 1 22 12",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round"})]}),Bh=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),zh=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Hh=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),Gh=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),$h=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-1.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25A2.25 2.25 0 015.25 3h13.5A2.25 2.25 0 0121 5.25z"})}),uk=({settings:e,onSettingsChange:t})=>{const n=["light","dark","system"],{theme:s}=e,o=()=>{const l=n.indexOf(s),c=n[(l+1)%n.length];t({...e,theme:c})},i=()=>{switch(s){case"light":return r.jsx(Hh,{className:"w-5 h-5"});case"dark":return r.jsx(Gh,{className:"w-5 h-5"});case"system":return r.jsx($h,{className:"w-5 h-5"})}};return r.jsx("button",{onClick:o,"aria-label":"Toggle theme",className:"p-2 text-slate-600 dark:text-slate-300 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:i()})},fk=({onMenuClick:e,onSearchClick:t,onMahamaServicesClick:n,onProfileAndSettingsClick:s,onLogoClick:o,isAuthenticated:i,onLoginClick:l,onLogout:c,user:f,onNotificationsClick:u,notifications:m,settings:h,onSettingsChange:p,isTranslating:v})=>{const[k,N]=w.useState(!1),[j,x]=w.useState(!1),g=w.useRef(null),{t:y}=G(),C=m.filter(E=>!E.read).length;w.useEffect(()=>{const E=()=>{N(window.scrollY>10)};window.addEventListener("scroll",E);const A=T=>{g.current&&!g.current.contains(T.target)&&x(!1)};return document.addEventListener("mousedown",A),()=>{window.removeEventListener("scroll",E),document.removeEventListener("mousedown",A)}},[]);const b=E=>{E.preventDefault(),o()},S=E=>{p({...h,preferredLanguage:E}),x(!1)};return r.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${k?"bg-white/80 dark:bg-navy/80 dark:bg-gradient-to-r dark:from-navy dark:to-slate-900 backdrop-blur-sm shadow-md":"bg-transparent dark:bg-navy/50"}`,children:r.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-20",children:[r.jsxs("div",{className:"flex-1 flex justify-start",children:[r.jsx("button",{onClick:e,"aria-label":y("openMenu"),className:"text-slate-600 dark:text-slate-300 p-2 -ml-2",children:r.jsx(ok,{})}),r.jsxs("a",{href:"#",onClick:b,className:"hidden md:flex items-center gap-2 text-2xl font-black tracking-tighter text-slate-900 dark:text-white ml-4",children:[r.jsx(jo,{className:"h-10 w-10"}),r.jsx("span",{children:y("logoText")})]})]}),r.jsx("div",{className:"md:hidden",children:r.jsx("a",{href:"#",onClick:b,children:r.jsx(jo,{className:"h-10 w-10"})})}),r.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 sm:gap-2",children:[r.jsx("button",{onClick:t,"aria-label":y("openSearch"),className:"p-2 text-slate-600 dark:text-slate-300 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:r.jsx(Ya,{})}),r.jsxs("button",{onClick:n,"aria-label":y("mahamaServices"),className:"relative group bg-gradient-to-r from-gold to-deep-red text-white font-semibold px-3 py-2 rounded-full text-sm hover:shadow-lg hover:shadow-gold/20 transition-all duration-300 transform hover:scale-105 flex items-center gap-2 animate-glow",children:[r.jsx(Bh,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:y("mahamaServices")})]}),r.jsxs("div",{className:"relative",ref:g,children:[r.jsxs("button",{onClick:()=>x(!j),"aria-label":y("selectLanguage"),className:"p-2 text-slate-600 dark:text-slate-300 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-1",children:[r.jsx(za,{}),v&&r.jsx(Vh,{})]}),j&&r.jsx(dk,{onLanguageChange:S,onClose:()=>x(!1)})]}),r.jsx(uk,{settings:h,onSettingsChange:p}),i&&r.jsxs("button",{onClick:u,"aria-label":y("openNotifications"),className:"relative p-2 text-slate-600 dark:text-slate-300 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[r.jsx(ak,{}),C>0&&r.jsxs("span",{className:"absolute top-1 right-1 flex h-4 w-4",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-deep-red opacity-75"}),r.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-deep-red text-white text-xs items-center justify-center",children:C})]})]}),i?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(lk,{user:f,onLogout:c}),r.jsx("button",{onClick:s,"aria-label":"Open Settings",className:"p-2 text-slate-600 dark:text-slate-300 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:r.jsx(zh,{})})]}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:l,"aria-label":y("login"),className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800/50 rounded-full p-2 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700/50 transition-colors",children:[r.jsx(Ko,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:y("login")})]}),r.jsx("button",{onClick:l,"aria-label":y("register"),className:"hidden sm:block bg-deep-red text-white font-semibold px-4 py-2 rounded-full text-sm hover:bg-red-700 transition-colors",children:y("register")})]})]})]})})})},mk=({article:e,onReadMore:t})=>{const{t:n}=G();return r.jsxs("div",{className:"relative h-[calc(100vh-80px)] min-h-[500px] max-h-[800px] flex items-center justify-center text-white overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("img",{src:e.imageUrl,alt:"",className:"absolute inset-0 w-full h-full object-cover animate-ken-burns"}),r.jsx("div",{className:"absolute inset-0 bg-black/60"})]}),r.jsxs("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.live&&r.jsxs("div",{className:"inline-flex items-center bg-deep-red text-white text-xs font-bold px-3 py-1 rounded-full mb-4",children:[r.jsxs("span",{className:"relative flex h-3 w-3 mr-2",children:[r.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),r.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-white"})]}),n("live")]}),r.jsx("p",{className:"text-gold font-semibold uppercase tracking-widest mb-2",children:e.category}),r.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold !leading-tight tracking-tighter mb-4",children:e.title}),r.jsx("p",{className:"max-w-3xl mx-auto text-lg md:text-xl text-slate-300",children:e.excerpt}),r.jsxs("div",{className:"mt-8 flex justify-center space-x-4",children:[r.jsx("button",{className:"bg-deep-red hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-105 duration-300",children:n("watchLive")}),r.jsx("button",{onClick:t,className:"bg-white/20 backdrop-blur-sm border border-white/30 hover:bg-white/30 text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-105 duration-300",children:n("readMore")})]})]})]})},Oa=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),qh=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a15.998 15.998 0 001.622-3.385m3.388 1.62a15.998 15.998 0 00-1.622-3.385m0 5.043a15.998 15.998 0 01-3.388-1.622m-5.043-.025a15.998 15.998 0 00-3.388-1.622m10.086 5.043a15.998 15.998 0 01-1.622 3.385m-5.043-.025a15.998 15.998 0 00-1.622 3.385m5.043.025a15.998 15.998 0 013.388 1.622m3.388-5.043a15.998 15.998 0 003.388 1.622m-3.388-1.622a15.998 15.998 0 011.622 3.385"})}),ls=({filled:e=!1,...t})=>e?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",...t,children:r.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-3.13L5 18V4z"})}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),hk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),Ka=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),qe=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-spin h-5 w-5",...e,children:r.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),pk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"})}),gk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6L9 12.75l4.286-4.286a11.948 11.948 0 014.306 6.43l.776 2.898m0 0l3.182-5.511m-3.182 5.51l-5.511-3.181"})}),xk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})}),vk=({sentiment:e})=>{if(!e)return null;const n={Positive:{icon:r.jsx(pk,{className:"w-4 h-4"}),text:"Positive",className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"},Neutral:{icon:r.jsx(xk,{className:"w-4 h-4"}),text:"Neutral",className:"bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-300"},Negative:{icon:r.jsx(gk,{className:"w-4 h-4"}),text:"Negative",className:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}}[e];return r.jsxs("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold ${n.className}`,children:[n.icon,r.jsx("span",{children:n.text})]})},yk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5 5 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),Qo=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 7.5l3 3m0 0l-3 3m3-3h-6"})]}),Ui=({article:e,onSummarize:t,onExplainSimply:n,onTextToSpeech:s,onReadMore:o,audioState:i,isBookmarked:l,onToggleBookmark:c,offlineArticleIds:f,downloadingArticleId:u,onDownloadArticle:m,comparisonList:h,onAddToCompare:p,featured:v=!1,layout:k="default"})=>{const N=f.includes(e.id),j=u===e.id,{t:x}=G(),g=h.includes(e.id),y=S=>{S.preventDefault(),o(e)},C=({onClick:S,icon:E,label:A,disabled:T,isActive:_})=>r.jsxs("button",{onClick:S,disabled:T,className:`flex items-center gap-2 text-sm font-semibold transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${_?"text-deep-red dark:text-gold":"text-slate-600 dark:text-slate-300 hover:text-deep-red dark:hover:text-gold"}`,children:[E,r.jsx("span",{children:A})]}),b=k==="grid";return r.jsxs("article",{className:`group bg-white dark:bg-slate-800/50 rounded-lg shadow-lg overflow-hidden transition-all duration-300 hover:shadow-2xl hover:shadow-gold/20 dark:hover:shadow-gold/10 flex flex-col ${v?"lg:flex-row":""}`,children:[r.jsxs("div",{className:`${v?"lg:w-1/2":""} relative overflow-hidden`,children:[r.jsx("img",{src:e.imageUrl,alt:e.title,className:`w-full object-cover group-hover:scale-105 transition-transform duration-500 ${v?"h-full":b?"h-48":"h-64"}`}),r.jsx("div",{className:"absolute top-2 left-2 bg-deep-red text-white text-xs font-bold px-2 py-1 rounded",children:e.category})]}),r.jsxs("div",{className:`flex flex-col flex-grow ${v?"lg:w-1/2":""} p-4 sm:p-6`,children:[r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:[e.author,"  ",e.date]}),!b&&r.jsx(vk,{sentiment:e.sentiment})]}),r.jsx("h3",{className:`font-extrabold leading-tight mb-2 sm:mb-3 ${v?"text-3xl":b?"text-lg":"text-2xl"}`,children:r.jsx("a",{href:"#",onClick:y,className:"group-hover:text-deep-red dark:group-hover:text-gold transition-colors duration-300 line-clamp-3",children:e.title})}),r.jsx("p",{className:`text-slate-600 dark:text-slate-400 mb-4 ${b?"text-sm line-clamp-2":""}`,children:e.excerpt})]}),r.jsxs("div",{className:`border-t border-slate-200 dark:border-slate-700 pt-4 flex flex-wrap items-center justify-between gap-x-4 gap-y-2 ${b?"flex-col items-start":""}`,children:[r.jsxs("div",{className:`flex items-center gap-4 flex-wrap ${b?"order-2 w-full justify-start":""}`,children:[r.jsx(C,{onClick:()=>t(e),icon:r.jsx(Oa,{className:"w-5 h-5"}),label:x("summarize")}),r.jsx(C,{onClick:()=>n(e),icon:r.jsx(qh,{className:"w-5 h-5"}),label:x("explain")}),r.jsx(C,{onClick:()=>s(e),icon:r.jsx(yk,{className:"w-5 h-5"}),label:x("listen")}),r.jsx(C,{onClick:()=>p(e.id),icon:r.jsx(Qo,{className:"w-5 h-5"}),label:x(g?"removeFromCompare":"compare"),isActive:g,disabled:!g&&h.length>=2})]}),r.jsxs("div",{className:`flex items-center gap-2 ${b?"order-1 self-end mb-2":""}`,children:[r.jsx("button",{onClick:()=>c(e.id),title:x(l?"removeBookmark":"bookmark"),children:r.jsx(ls,{filled:l,className:`w-5 h-5 transition-colors ${l?"text-deep-red":"text-slate-400 hover:text-deep-red"}`})}),r.jsx("button",{onClick:()=>m(e),disabled:N||j,title:x(N?"articleSavedForOffline":"saveForOffline"),children:j?r.jsx(qe,{className:"text-slate-400"}):N?r.jsx(Ka,{className:"text-green-500"}):r.jsx(hk,{className:"text-slate-400 hover:text-deep-red"})})]})]})]})]})},wk=({articles:e,onSummarize:t,onExplainSimply:n,onTextToSpeech:s,onReadMore:o,audioState:i,bookmarkedArticleIds:l,onToggleBookmark:c,offlineArticleIds:f,downloadingArticleId:u,onDownloadArticle:m,comparisonList:h,onAddToCompare:p,layout:v="default"})=>{const{t:k}=G();if(!e||e.length===0)return r.jsxs("section",{className:"text-center py-10",children:[r.jsx("h2",{className:"text-2xl font-bold",children:k("noArticles")}),r.jsx("p",{children:k("checkPreferences")})]});if(v==="grid")return r.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.slice(0,9).map(x=>r.jsx(Ui,{article:x,onSummarize:t,onExplainSimply:n,onTextToSpeech:s,onReadMore:o,audioState:i,isBookmarked:l.includes(x.id),onToggleBookmark:c,offlineArticleIds:f,downloadingArticleId:u,onDownloadArticle:m,comparisonList:h,onAddToCompare:p,layout:"grid"},x.id))});const N=e[0],j=e.slice(1,5);return r.jsxs("section",{className:"space-y-8",children:[N&&r.jsx(Ui,{featured:!0,article:N,onSummarize:t,onExplainSimply:n,onTextToSpeech:s,onReadMore:o,audioState:i,isBookmarked:l.includes(N.id),onToggleBookmark:c,offlineArticleIds:f,downloadingArticleId:u,onDownloadArticle:m,comparisonList:h,onAddToCompare:p}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:j.map(x=>r.jsx(Ui,{article:x,onSummarize:t,onExplainSimply:n,onTextToSpeech:s,onReadMore:o,audioState:i,isBookmarked:l.includes(x.id),onToggleBookmark:c,offlineArticleIds:f,downloadingArticleId:u,onDownloadArticle:m,comparisonList:h,onAddToCompare:p},x.id))})]})},Qa=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),Wh=({articles:e,onArticleClick:t})=>{const{t:n}=G();return r.jsxs("aside",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-extrabold mb-4 border-l-4 border-gold pl-3",children:n("trendingNow")}),r.jsx("div",{className:"space-y-4",children:e.map(s=>r.jsxs("a",{href:"#",onClick:o=>{o.preventDefault(),t(s)},className:"group flex items-center gap-4 p-2 rounded-lg transition-colors duration-200 hover:bg-slate-100 dark:hover:bg-slate-700/50",children:[r.jsx("img",{src:s.imageUrl,alt:"",className:"w-16 h-16 object-cover rounded-md flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs font-semibold uppercase text-deep-red",children:s.category}),r.jsx("h4",{className:"font-semibold leading-tight group-hover:underline text-sm",children:s.title})]})]},s.id))}),r.jsxs("button",{className:"w-full mt-4 text-sm font-semibold text-deep-red dark:text-gold hover:underline flex items-center justify-center gap-1",children:[r.jsx("span",{children:n("viewAllTrending")}),r.jsx(Qa,{className:"w-4 h-4"})]})]})},xe=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.25 21.75l-.648-1.178a2.625 2.625 0 00-1.923-1.923L12.5 18l1.178-.648a2.625 2.625 0 001.923-1.923L16.25 14.25l.648 1.178a2.625 2.625 0 001.923 1.923L20 18l-1.178.648a2.625 2.625 0 00-1.923 1.923z"})}),Jh=()=>r.jsxs("div",{className:"relative bg-navy p-6 rounded-lg shadow-lg overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gold/20 via-deep-red/20 to-navy opacity-0 group-hover:opacity-100 transition-opacity duration-500 animate-gradient-shift",style:{backgroundSize:"200% 200%"}}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(xe,{className:"w-5 h-5 text-gold"}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gold",children:"Promoted"})]}),r.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Experience the Future of Tech"}),r.jsx("p",{className:"text-sm text-slate-300 mb-4",children:"Discover groundbreaking innovations and get ahead of the curve. Limited-time offers available now."}),r.jsx("button",{className:"bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 text-white font-bold py-2 px-4 rounded-full transition-colors duration-300 group-hover:scale-105 transform",children:"Learn More"})]})]}),Bu="mahama-poll-01",kk={question:"What is the most pressing global issue right now?",options:[{id:1,text:"Climate Change",votes:152},{id:2,text:"Economic Instability",votes:110},{id:3,text:"Political Conflicts",votes:85},{id:4,text:"Misinformation",votes:68}]},Nk=(e,t=1e3)=>{const[n,s]=w.useState(0),o=1e3/60,i=Math.round(t/o);return w.useEffect(()=>{let l=0;const c=setInterval(()=>{l++;const f=l/i,u=Math.round(e*f);s(u),l===i&&clearInterval(c)},o);return()=>clearInterval(c)},[e,t,o,i]),n},Ck=({value:e})=>{const t=Nk(e);return r.jsxs("span",{children:[t,"%"]})},Yh=()=>{const[e,t]=w.useState(kk),[n,s]=w.useState(null),[o,i]=w.useState(!1);w.useEffect(()=>{try{localStorage.getItem(Bu)&&i(!0)}catch(f){console.error("Could not read from localStorage",f)}},[]);const l=()=>{if(n!==null&&!o){t(f=>{const u=f.options.map(m=>m.id===n?{...m,votes:m.votes+1}:m);return{...f,options:u}}),i(!0);try{localStorage.setItem(Bu,n.toString())}catch(f){console.error("Could not write to localStorage",f)}}},c=e.options.reduce((f,u)=>f+u.votes,0);return r.jsxs("aside",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-lg shadow-md",children:[r.jsx("h2",{className:"text-2xl font-extrabold mb-4 border-l-4 border-gold pl-3",children:"Community Poll"}),r.jsx("p",{className:"font-semibold mb-4",children:e.question}),r.jsx("div",{className:"space-y-3",children:e.options.map(f=>{const u=c>0?f.votes/c*100:0;return o?r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex justify-between mb-1 font-semibold",children:[r.jsx("span",{children:f.text}),r.jsx(Ck,{value:Math.round(u)})]}),r.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:r.jsx("div",{className:"bg-deep-red dark:bg-gold h-2.5 rounded-full animate-progress-bar",style:{width:`${u}%`}})})]},f.id):r.jsxs("label",{className:"flex items-center space-x-3 p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700/50 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"poll",checked:n===f.id,onChange:()=>s(f.id),className:"form-radio h-4 w-4 text-deep-red focus:ring-deep-red"}),r.jsx("span",{children:f.text})]},f.id)})}),!o&&r.jsx("button",{onClick:l,disabled:n===null,className:"w-full mt-4 bg-deep-red text-white font-bold py-2 px-4 rounded-full transition-colors duration-300 hover:bg-red-700 disabled:bg-slate-400 dark:disabled:bg-slate-600 disabled:cursor-not-allowed",children:"Vote"})]})},Oh=e=>r.jsxs("svg",{xmlns:"http://www.w.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),bk=({weatherData:e,isLoading:t})=>{if(t)return r.jsxs("aside",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-lg shadow-md flex items-center justify-center h-[170px]",children:[r.jsx(qe,{className:"w-8 h-8"}),r.jsx("span",{className:"ml-3 font-semibold",children:"Loading Weather..."})]});if(!e)return r.jsx("aside",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-lg shadow-md h-[170px] flex items-center justify-center",children:r.jsx("p",{className:"text-center text-slate-500",children:"Could not retrieve weather data. Please enable location services."})});const n=e.icon;return r.jsxs("aside",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-lg shadow-md h-[170px]",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400",children:[r.jsx(Oh,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-semibold",children:e.locationName})]}),r.jsxs("p",{className:"text-4xl font-bold mt-2 text-slate-800 dark:text-white",children:[e.temperature,"C"]})]}),r.jsx("div",{className:"text-yellow-500",children:r.jsx(n,{className:"w-12 h-12"})})]}),r.jsx("div",{className:"mt-4 text-sm text-slate-600 dark:text-slate-300",children:r.jsxs("p",{children:["Condition: ",e.condition,"."]})})]})},Kh=({onClick:e})=>r.jsxs("aside",{className:"p-6 rounded-lg shadow-lg text-white relative overflow-hidden bg-gradient-to-r from-gold via-deep-red to-navy",style:{backgroundSize:"200% 200%"},children:[r.jsx("div",{className:"animate-gradient-shift absolute inset-0 bg-gradient-to-r from-gold via-deep-red to-navy",style:{backgroundSize:"200% 200%"}}),r.jsxs("div",{className:"relative z-10",children:[r.jsx(xe,{className:"w-8 h-8 mb-3 opacity-80"}),r.jsx("h2",{className:"text-2xl font-extrabold mb-2",children:"Go Premium"}),r.jsxs("ul",{className:"text-sm space-y-1 mb-4 opacity-90 list-disc list-inside",children:[r.jsx("li",{children:"Ad-free experience"}),r.jsx("li",{children:"Unlimited AI features"}),r.jsx("li",{children:"Exclusive content"})]}),r.jsx("button",{onClick:e,className:"w-full bg-white/20 backdrop-blur-sm border border-white/30 hover:bg-white/30 text-white font-bold py-2 px-4 rounded-full transition-colors duration-300",children:"Subscribe Now"})]})]}),Sk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Qh=({settings:e})=>{const[t,n]=w.useState(""),[s,o]=w.useState(!0),[i,l]=w.useState(""),{language:c}=G();w.useEffect(()=>{(async()=>{o(!0);try{const m={...e,preferredLanguage:c},h=await K5(m);n(h)}catch(m){l("Could not load historical events."),console.error(m)}finally{o(!1)}})()},[c,e]);const f=w.useMemo(()=>t?t.split("## ").filter(u=>u.trim()!=="").map(u=>{var v;const m=u.split(`
`),h=((v=m[0])==null?void 0:v.trim())||"",p=m.slice(1).join(" ").trim();return{title:h,description:p}}):[],[t]);return r.jsxs("aside",{className:"p-6 rounded-lg shadow-lg text-white relative overflow-hidden bg-gradient-to-br from-slate-700 via-navy to-slate-800",children:[r.jsxs("h2",{className:"text-xl font-extrabold mb-4 border-l-4 border-gold pl-3 flex items-center gap-2",children:[r.jsx(Sk,{className:"w-5 h-5"}),"This Day in History"]}),s?r.jsx("div",{className:"flex items-center justify-center h-24",children:r.jsx(qe,{})}):i?r.jsx("p",{className:"text-red-400 text-sm",children:i}):r.jsx("div",{className:"space-y-4",children:f.map((u,m)=>r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gold",children:u.title}),r.jsx("p",{className:"text-sm text-slate-300",children:u.description})]},m))})]})},Tk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),Xh=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 9l-3 3m0 0l3 3m-3-3h7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a8.962 8.962 0 01-4.22-1.076c.214-.08.435-.15.656-.217.22-.068.44-.132.658-.195.44-.13.876-.255 1.31-.371.435-.115.867-.22 1.3-.314.433-.093.863-.176 1.29-.25.428-.073.853-.135 1.275-.184.422-.05.843-.09 1.26-.118.42-.027.836-.04 1.25-.04h.015c.414 0 .825.013 1.235.04.41.028.82.068 1.225.118.405.05.805.11 1.2.184.4.075.79.157 1.18.25.4.095.785.2 1.17.314.4.117.78.256 1.16.371.2.063.4.127.58.195.2.067.4.137.58.217A8.962 8.962 0 0112 21z"})]}),Ek=()=>{const{t:e}=G();return r.jsxs("div",{className:"p-6 rounded-lg bg-slate-100 dark:bg-slate-800/50 space-y-4 animate-fade-in",children:[r.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[r.jsx(Tk,{className:"w-5 h-5 text-deep-red dark:text-gold"}),e("settingsTips")]}),r.jsxs("div",{className:"text-sm border-t border-slate-200 dark:border-slate-700 pt-3",children:[r.jsxs("p",{className:"font-semibold flex items-center gap-1",children:[r.jsx(Xh,{className:"w-4 h-4"})," ",e("makeItYours")]}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e("makeItYoursDesc")})]}),r.jsxs("div",{className:"text-sm border-t border-slate-200 dark:border-slate-700 pt-3",children:[r.jsxs("p",{className:"font-semibold flex items-center gap-1",children:[r.jsx(xe,{className:"w-4 h-4 text-gold"})," ",e("aiPower")]}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e("aiPowerDesc")})]}),r.jsxs("div",{className:"text-sm border-t border-slate-200 dark:border-slate-700 pt-3",children:[r.jsx("p",{className:"font-semibold",children:e("yourFeedYourRules")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e("yourFeedYourRulesDesc")})]})]})},ps=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),Zh=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.76 9.76 0 01-2.53-.388A5.883 5.883 0 015.25 14.25v-2.5c0-.868.35-1.673.92-2.261C7.61 8.22 9.1 7.5 12 7.5c4.97 0 9 3.694 9 8.25z"})}),jk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})}),ep=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ak=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6h1.5m-1.5 3h1.5m-1.5 3h1.5M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})}),Ik={Person:Ko,Organization:Ak,Location:Oh,Concept:xe},_k=({keyConcepts:e,conceptsLoading:t})=>t?r.jsx("div",{className:"flex justify-center items-center h-full",children:r.jsx(qe,{className:"w-8 h-8"})}):e.length===0?r.jsx("div",{className:"flex justify-center items-center h-full text-center text-sm text-slate-500 p-4",children:r.jsx("p",{children:"No key concepts were identified in this article."})}):r.jsx("div",{className:"p-4 h-full overflow-y-auto",children:r.jsx("div",{className:"space-y-4",children:e.map(n=>{const s=Ik[n.type]||xe;return r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800 dark:text-white",children:[r.jsx(s,{className:"w-4 h-4 text-slate-500"}),r.jsx("span",{children:n.term})]}),r.jsx("p",{className:"ml-6 text-slate-600 dark:text-slate-400",children:n.description})]},n.term)})})}),tp=({events:e,isLoading:t})=>{const{t:n}=G();return t?r.jsxs("div",{className:"my-8 p-4 space-y-8 animate-pulse",children:[r.jsx("div",{className:"h-8 bg-slate-200 dark:bg-slate-700 rounded-md w-1/2 mb-6"}),[...Array(3)].map((s,o)=>r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-16 h-8 bg-slate-200 dark:bg-slate-700 rounded-md"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded-md"}),r.jsx("div",{className:"h-4 w-5/6 bg-slate-200 dark:bg-slate-700 rounded-md"})]})]},o))]}):e.length===0?null:r.jsxs("div",{className:"my-8",children:[r.jsx("h3",{className:"text-2xl font-extrabold mb-6 border-l-4 border-deep-red pl-4",children:n("historicalTimeline")}),r.jsx("div",{className:"relative border-l-4 border-slate-200 dark:border-slate-700 ml-4",children:e.map((s,o)=>r.jsxs("div",{className:"mb-8 pl-8 relative",children:[r.jsx("div",{className:"absolute -left-[18px] top-1 bg-gold w-8 h-8 rounded-full flex items-center justify-center text-white border-4 border-white dark:border-slate-800",children:r.jsx(ep,{className:"w-4 h-4"})}),r.jsx("p",{className:"font-bold text-lg text-deep-red dark:text-gold",children:s.year}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:s.description})]},o))})]})},Mk=({article:e,settings:t})=>{const[n,s]=w.useState([]),[o,i]=w.useState(""),[l,c]=w.useState(!1),f=w.useRef(null),{t:u}=G();w.useEffect(()=>{s([])},[e]),w.useEffect(()=>{var p;(p=f.current)==null||p.scrollIntoView({behavior:"smooth"})},[n,l]);const m=async p=>{typeof p!="string"&&p.preventDefault();const v=typeof p=="string"?p:o;if(!v.trim()||l)return;const k={role:"user",content:v,id:Date.now()},N=[...n,k];s(N),typeof p!="string"&&i(""),c(!0);const j={role:"model",content:"",id:Date.now()+1};s(x=>[...x,j]);try{const x=await $5(e,v,n,t);for await(const g of x)s(y=>{const C=y[y.length-1];return C&&C.role==="model"?(C.content+=g,[...y.slice(0,-1),C]):y})}catch(x){console.error(x),s(g=>{const y=g[g.length-1];return y&&y.role==="model"?(y.content="Sorry, I couldn't get an answer. Please try again.",[...g.slice(0,-1),y]):g})}finally{c(!1)}},h=[u("suggestedQuestion1"),`Who is ${e.author}?`,u("suggestedQuestion3")];return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-4",children:[r.jsxs("div",{className:"p-3 rounded-lg bg-slate-100 dark:bg-slate-700/50 text-sm",children:[r.jsx("p",{className:"font-semibold mb-2",children:u("askAnything")}),r.jsx("div",{className:"flex flex-col items-start gap-1",children:h.map(p=>r.jsxs("button",{onClick:()=>m(p),className:"text-xs text-deep-red dark:text-gold hover:underline text-left",children:[" ",p]},p))})]}),n.map(p=>r.jsx("div",{className:`flex ${p.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] p-3 rounded-lg text-sm ${p.role==="user"?"bg-deep-red text-white":"bg-slate-100 dark:bg-slate-700"}`,children:[p.content,l&&p.role==="model"&&p.content.length===0&&r.jsx("span",{className:"inline-block w-2 h-4 bg-slate-500 dark:bg-slate-300 animate-blink ml-1"})]})},p.id)),r.jsx("div",{ref:f})]}),r.jsx("form",{onSubmit:m,className:"p-4 border-t border-slate-200 dark:border-slate-700 flex-shrink-0",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:o,onChange:p=>i(p.target.value),placeholder:u("askAQuestion"),disabled:l,className:"w-full p-3 pr-12 bg-slate-100 dark:bg-slate-700 rounded-full border-transparent focus:ring-2 focus:ring-deep-red"}),r.jsx("button",{type:"submit",disabled:l||!o.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 w-9 h-9 bg-deep-red text-white rounded-full flex items-center justify-center disabled:bg-slate-400 dark:disabled:bg-slate-600 transition-colors",children:r.jsx(ps,{className:"w-5 h-5"})})]})})]})},Pk=e=>{const{article:t}=e,[n,s]=w.useState("Chat"),o=[{name:"Chat",icon:Zh},{name:"Concepts",icon:jk}];t.hasTimeline&&o.push({name:"Timeline",icon:ep});const i=()=>{switch(n){case"Concepts":return r.jsx(_k,{...e});case"Timeline":return r.jsx("div",{className:"p-4 h-full overflow-y-auto",children:r.jsx(tp,{events:e.timelineEvents,isLoading:e.timelineLoading})});case"Chat":default:return r.jsx(Mk,{article:e.article,settings:e.settings})}};return r.jsxs("aside",{className:"bg-white dark:bg-slate-800/50 rounded-lg shadow-md flex flex-col h-[70vh] max-h-[600px]",children:[r.jsx("div",{className:"p-2 border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:r.jsx("div",{className:"flex justify-around items-center",children:o.map(l=>r.jsxs("button",{onClick:()=>s(l.name),className:`flex-1 flex flex-col items-center justify-center gap-1 p-2 rounded-md font-semibold text-sm transition-colors ${n===l.name?"text-deep-red dark:text-gold bg-red-50 dark:bg-gold/10":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[r.jsx(l.icon,{className:"w-5 h-5"}),l.name]},l.name))})}),r.jsx("div",{className:"flex-grow overflow-hidden",children:i()})]})},Lk=e=>{const{article:t,allArticles:n,onArticleClick:s,settings:o,onGoPremium:i}=e,l=n.filter(c=>c.id!==t.id).slice(0,5);return r.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[r.jsx(Pk,{...e}),o.subscriptionTier==="Free"&&r.jsx(Kh,{onClick:i}),r.jsx(Wh,{articles:l,onArticleClick:s}),r.jsx(Qh,{settings:o}),r.jsx(Yh,{}),o.subscriptionTier==="Free"&&r.jsx(Jh,{})]})},Rk=({trendingArticles:e,onArticleClick:t,settings:n,onGoPremium:s,weatherData:o,isWeatherLoading:i})=>r.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[n.subscriptionTier==="Free"&&r.jsx(Kh,{onClick:s}),r.jsx(Wh,{articles:e,onArticleClick:t}),r.jsx(Qh,{settings:n}),r.jsx(bk,{weatherData:o,isLoading:i}),r.jsx(Yh,{}),n.subscriptionTier==="Free"&&r.jsx(Jh,{})]}),zu=e=>{const{activeArticle:t,isSettingsOpen:n,allArticles:s,settings:o,onArticleClick:i,onGoPremium:l,keyConcepts:c,conceptsLoading:f,timelineEvents:u,timelineLoading:m}=e,h=()=>t?r.jsx(Lk,{article:t,allArticles:s,settings:o,onArticleClick:i,onGoPremium:l,keyConcepts:c,conceptsLoading:f,timelineEvents:u,timelineLoading:m}):n?r.jsx(Ek,{}):r.jsx(Rk,{...e});return r.jsx("div",{className:"md:col-span-1 mt-8 md:mt-0",children:r.jsx("div",{className:"md:sticky top-28",children:h()})})},Dk=({headlines:e})=>r.jsx("div",{className:"bg-deep-red text-white py-2 overflow-hidden shadow-lg",children:r.jsxs("div",{className:"flex whitespace-nowrap animate-ticker-scroll",children:[r.jsx("div",{className:"flex items-center",children:e.map((t,n)=>r.jsxs(eo.Fragment,{children:[r.jsx("span",{className:"mx-8 text-sm font-semibold tracking-wide",children:t}),r.jsx("span",{className:"text-gold",children:""})]},n))}),r.jsx("div",{className:"flex items-center",children:e.map((t,n)=>r.jsxs(eo.Fragment,{children:[r.jsx("span",{className:"mx-8 text-sm font-semibold tracking-wide",children:t}),r.jsx("span",{className:"text-gold",children:""})]},`dup-${n}`))})]})}),Xa=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z"})}),gr=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.31h5.418a.562.562 0 01.321.988l-4.204 3.06a.563.563 0 00-.182.658l1.681 4.309a.562.562 0 01-.812.622l-4.558-2.655a.563.563 0 00-.58 0l-4.558 2.655a.562.562 0 01-.812-.622l1.68-4.309a.563.563 0 00-.183-.658l-4.204-3.06a.562.562 0 01.321-.988h5.418a.563.563 0 00.475-.31L11.48 3.5z"})}),Fk=({subcategories:e,activeSub:t,onSelect:n})=>{const{t:s}=G(),o={Americas:"americas",Europe:"europe",Asia:"asia",Africa:"africa","Middle East":"middleEast",Elections:"elections",Policy:"policy",Global:"global",Markets:"markets",Finance:"finance",Business:"business",AI:"ai",Cybersecurity:"cybersecurity",Gadgets:"gadgets",Energy:"energy","Sci-Fi":"sci-fi",Football:"football",Basketball:"basketball",Gaming:"gaming",Wellness:"wellness",Medical:"medical","Mental Health":"mentalHealth",Space:"space",Biotech:"biotech",Food:"food",Language:"language",Traditions:"traditions","Ancient History":"ancientHistory","Modern History":"modernHistory","African History":"africanHistory","Military History":"militaryHistory"};return r.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 animate-fade-in-down py-2",children:[r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-hide",children:e.map(i=>r.jsx("button",{onClick:()=>n(i),className:`px-3 py-1.5 rounded-full text-sm font-semibold transition-colors whitespace-nowrap ${t===i?"bg-deep-red text-white":"bg-white dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:s(o[i]||i)},i))})}),r.jsx("style",{children:`
                @keyframes fade-in-down {
                    from { opacity: 0; transform: translateY(-10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in-down { animation: fade-in-down 0.3s ease-out forwards; }
            `})]})},Uk=({categories:e,currentCategory:t,currentSubCategory:n,onSelectCategory:s,onSelectSubCategory:o,onGenerateBriefing:i,subscriptionTier:l})=>{const c=l==="Premium",{t:f}=G(),u=w.useMemo(()=>e.find(h=>h.name===t),[t,e]),m={"For You":"forYou",All:"all",World:"world",Politics:"politics",Economy:"economy",Technology:"technology",Sports:"sports",Health:"health",Science:"science",Environment:"environment",Culture:"culture",Entertainment:"entertainment","Movies & TV":"movies&tv",Art:"art",Music:"music",History:"history","Mahama Investigates":"mahamaInvestigates"};return r.jsxs("div",{className:"bg-slate-50/80 dark:bg-navy/80 backdrop-blur-sm shadow-sm",children:[(u==null?void 0:u.subcategories)&&u.subcategories.length>0&&r.jsx(Fk,{subcategories:u.subcategories,activeSub:n,onSelect:o}),r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 overflow-x-auto py-3 scrollbar-hide",children:[r.jsxs("button",{onClick:i,className:"flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 whitespace-nowrap bg-gold/20 text-gold hover:bg-gold/30 relative",children:[r.jsx(Xa,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{className:"hidden sm:inline",children:f("aiBriefing")}),!c&&r.jsx(gr,{className:"absolute -top-1 -right-1 w-4 h-4 text-gold bg-navy rounded-full p-0.5"})]}),e.map(h=>{const p=h.icon,v=h.name===t;return r.jsxs("button",{onClick:()=>s(h.name),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 whitespace-nowrap ${v?"bg-deep-red text-white shadow-md":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[r.jsx(p,{className:"w-5 h-5 flex-shrink-0"}),r.jsx("span",{className:"hidden sm:inline",children:f(m[h.name]||h.name)})]},h.name)})]})}),r.jsx("style",{children:`
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})},Vk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Bk={English:"en-US",French:"fr-FR",Swahili:"sw-KE",Kinyarwanda:"rw-RW"},zk=({content:e})=>{const{t}=G(),n=200,s=e?e.split(/\s+/).length:0,o=Math.ceil(s/n);return r.jsxs("div",{className:"flex items-center text-sm text-slate-500",children:[r.jsx(Vk,{className:"w-4 h-4 mr-1.5"}),r.jsxs("span",{children:[o," ",t("minRead")]})]})},Hk=({author:e,date:t,content:n})=>{const{t:s,language:o}=G(),i=Bk[o]||"en-US",l=new Date(t).toLocaleDateString(i,{year:"numeric",month:"long",day:"numeric"});return r.jsxs("div",{className:"flex items-center my-6 border-y border-slate-200 dark:border-slate-700 py-4",children:[r.jsx("img",{src:`https://i.pravatar.cc/150?u=${e.replace(/\s+/g,"")}`,alt:e,className:"w-12 h-12 rounded-full mr-4"}),r.jsxs("div",{className:"flex-grow",children:[r.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:e}),r.jsxs("p",{className:"text-sm text-slate-500",children:[s("publishedOn")," ",l]})]}),r.jsx(zk,{content:n})]})},Gk=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.338 4.646a.933.933 0 011.32 0l2.002 2.002a.933.933 0 010 1.32L5.338 11.33a.933.933 0 01-1.32 0L2 8.992a.933.933 0 010-1.32l2.002-2.024a.933.933 0 011.316-.002zM18.662 4.646a.933.933 0 00-1.32 0l-2.002 2.002a.933.933 0 000 1.32l3.324 3.36a.933.933 0 001.32 0L22 8.992a.933.933 0 000-1.32l-2.002-2.024a.933.933 0 00-1.316-.002zM10 12h4"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.5 16H4a1 1 0 00-1 1v2a1 1 0 001 1h16a1 1 0 001-1v-2a1 1 0 00-1-1h-1.5"})]}),$k=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),np=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...e,children:r.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),qk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8m-4-6l-4-4m0 0L8 8m4-4v12"})}),Wk=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 14.5M14.25 3.104c.251.023.501.05.75.082M19.8 14.5L14.25 10m-8.5 4.5l5.25-5.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75l.48-4.82a.75.75 0 01.73-.67h17.08a.75.75 0 01.73.67l.48 4.82a.75.75 0 01-.73.83H3a.75.75 0 01-.73-.83z"})]}),At=({onClick:e,title:t,children:n,isActive:s=!1,href:o,disabled:i=!1})=>{const l=`group relative flex items-center justify-center w-12 h-12 rounded-full text-slate-600 dark:text-slate-300 transition-all duration-200 ${s?"bg-deep-red dark:bg-gold text-white":"bg-slate-100 dark:bg-slate-700/50 hover:bg-slate-200 dark:hover:bg-slate-700"} ${i?"opacity-50 cursor-not-allowed":""}`,c=r.jsxs(r.Fragment,{children:[n,r.jsx("span",{className:"absolute left-full ml-3 px-2 py-1 bg-slate-800 text-white text-xs font-semibold rounded-md opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:t})]});return o?r.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:l,children:c}):r.jsx("button",{onClick:e,title:t,className:l,disabled:i,children:c})},Jk=({article:e,isBookmarked:t,onToggleBookmark:n,isZenMode:s,onToggleZenMode:o,activeLens:i,onSetLens:l,comparisonList:c,onAddToCompare:f})=>{const[u,m]=w.useState(!1),h=window.location.href,{t:p}=G(),v=c.includes(e.id),k={twitter:`https://twitter.com/intent/tweet?url=${encodeURIComponent(h)}&text=${encodeURIComponent(e.title)}`},N=()=>{navigator.clipboard.writeText(h).then(()=>{m(!0),setTimeout(()=>m(!1),2e3)})};return r.jsx("aside",{className:"absolute top-0 -left-24 hidden lg:block animate-fade-in-up",children:r.jsxs("div",{className:"sticky top-40 space-y-4 flex flex-col items-center",children:[r.jsx(At,{onClick:n,title:p(t?"removeBookmark":"bookmark"),isActive:t,children:r.jsx(ls,{filled:t,className:`w-5 h-5 ${t?"text-white":""}`})}),r.jsx(At,{onClick:()=>f(e.id),title:p(v?"removeFromCompare":"addToCompare"),isActive:v,disabled:!v&&c.length>=2,children:r.jsx(Qo,{className:"w-5 h-5"})}),r.jsx(At,{onClick:o,title:p(s?"exitZenMode":"zenMode"),isActive:s,children:r.jsx(Gk,{className:"w-5 h-5"})}),s&&r.jsxs("div",{className:"p-2 bg-slate-100 dark:bg-slate-700/50 rounded-full space-y-2",children:[r.jsx(At,{onClick:()=>l("None"),title:p("normalView"),isActive:i==="None",children:r.jsx(Wk,{className:"w-5 h-5"})}),r.jsx(At,{onClick:()=>l("Simplify"),title:p("simplifyText"),isActive:i==="Simplify",children:r.jsx("span",{className:"font-bold text-lg",children:"A"})}),r.jsx(At,{onClick:()=>l("DefineTerms"),title:p("defineTerms"),isActive:i==="DefineTerms",children:r.jsx("span",{className:"font-bold text-lg",children:"A+"})})]}),r.jsx("div",{className:"w-8 h-px bg-slate-200 dark:bg-slate-700"}),r.jsx(At,{onClick:N,title:p(u?"copied":"copyLink"),children:r.jsx($k,{className:"w-5 h-5"})}),r.jsx(At,{href:k.twitter,title:p("shareOnTwitter"),children:r.jsx(np,{className:"w-5 h-5"})}),navigator.share&&r.jsx(At,{onClick:()=>navigator.share({title:e.title,url:h}),title:p("moreOptions"),children:r.jsx(qk,{})})]})})},Yk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.311a14.994 14.994 0 01-3.75 0M9.75 10.5a3 3 0 116 0 3 3 0 01-6 0zM12 6.75a4.5 4.5 0 110 9 4.5 4.5 0 010-9z"})}),Ok=({takeaways:e,isLoading:t})=>{const[n,s]=w.useState(!0);return t?r.jsx("div",{className:"mb-8 bg-slate-100 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 animate-pulse",children:r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"h-6 w-48 bg-slate-200 dark:bg-slate-700 rounded-md mb-4"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"h-4 w-full bg-slate-200 dark:bg-slate-700 rounded-md"}),r.jsx("div",{className:"h-4 w-5/6 bg-slate-200 dark:bg-slate-700 rounded-md"}),r.jsx("div",{className:"h-4 w-full bg-slate-200 dark:bg-slate-700 rounded-md"})]})]})}):e.length===0?null:r.jsxs("div",{className:"mb-8 bg-slate-100 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[r.jsxs("button",{className:"w-full flex items-center justify-between p-4",onClick:()=>s(!n),"aria-expanded":n,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Yk,{className:"w-6 h-6 text-gold"}),r.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"AI Key Takeaways"})]}),r.jsx(Uh,{className:`w-6 h-6 text-slate-500 transition-transform duration-300 ${n?"rotate-180":""}`})]}),r.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${n?"max-h-96":"max-h-0"}`,children:r.jsx("ul",{className:"list-none p-4 pt-0 space-y-2",children:e.map((o,i)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-gold font-bold mr-3 mt-1",children:""}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:o})]},i))})})]})},Kk=({tags:e,isLoading:t})=>t?r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-500 dark:text-slate-400 mb-2",children:[r.jsx(xe,{className:"w-4 h-4 text-gold"}),r.jsx("span",{children:"AI Generated Tags:"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[...Array(4)].map((n,s)=>r.jsx("div",{className:"h-7 w-24 bg-slate-200 dark:bg-slate-700 rounded-full animate-pulse"},s))})]}):e.length===0?null:r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-500 dark:text-slate-400 mb-2",children:[r.jsx(xe,{className:"w-4 h-4 text-gold"}),r.jsx("span",{children:"AI Generated Tags:"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(n=>r.jsx("span",{className:"px-3 py-1 bg-slate-200 dark:bg-slate-700 rounded-full text-sm font-semibold",children:n},n))})]}),Qk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),Xk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),Zk=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),eN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),tN=({result:e,isLoading:t})=>{if(t)return r.jsxs("div",{className:"mb-8 p-4 bg-slate-100 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 animate-pulse",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(xe,{className:"w-5 h-5 text-gold"}),r.jsx("div",{className:"h-5 w-32 bg-slate-200 dark:bg-slate-700 rounded"})]}),r.jsx("div",{className:"h-4 w-full bg-slate-200 dark:bg-slate-700 rounded"}),r.jsx("div",{className:"h-4 w-3/4 bg-slate-200 dark:bg-slate-700 rounded mt-2"})]});if(!e||!e.status)return null;const n={Verified:{icon:r.jsx(Qk,{className:"w-6 h-6 text-green-500"}),text:"Claims Verified",className:"border-green-500/50 bg-green-500/10"},Mixed:{icon:r.jsx(Zk,{className:"w-6 h-6 text-yellow-500"}),text:"Mixed Claims",className:"border-yellow-500/50 bg-yellow-500/10"},Unverified:{icon:r.jsx(Xk,{className:"w-6 h-6 text-red-500"}),text:"Claims Unverified",className:"border-red-500/50 bg-red-500/10"}},s=n[e.status]||n.Unverified;return r.jsxs("div",{className:`mb-8 p-4 rounded-lg border ${s.className}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.icon,r.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:["AI Fact-Check:",r.jsx("span",{className:"font-semibold",children:s.text})]})]}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm",children:e.summary}),e.sources&&e.sources.length>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:[r.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 mb-2",children:"Sources Checked by AI"}),r.jsx("ul",{className:"space-y-1",children:e.sources.map((o,i)=>r.jsx("li",{children:r.jsxs("a",{href:o.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-blue-600 dark:text-blue-400 hover:underline",children:[r.jsx(eN,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:o.title||o.uri})]})},i))})]})]})},nN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),sp=({comment:e,onLike:t,onReply:n,level:s=0})=>{const[o,i]=w.useState(!1),[l,c]=w.useState(""),f=u=>{u.preventDefault(),l.trim()&&(n(e.id,l),c(""),i(!1))};return r.jsxs("div",{className:`flex items-start gap-4 ${s>0?"ml-8":""}`,children:[r.jsx("img",{src:e.user.avatar,alt:e.user.name,className:"w-10 h-10 rounded-full flex-shrink-0"}),r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 rounded-lg p-3",children:[r.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-white",children:e.user.name}),r.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:e.text})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs font-semibold text-slate-500 mt-1 pl-3",children:[r.jsxs("button",{onClick:()=>t(e.id),className:"flex items-center gap-1 hover:text-deep-red",children:[r.jsx(nN,{className:"w-4 h-4"})," ",e.likes]}),r.jsx("button",{onClick:()=>i(!o),className:"hover:text-deep-red",children:"Reply"}),r.jsx("span",{children:e.timestamp})]}),o&&r.jsxs("form",{onSubmit:f,className:"mt-2 flex gap-2",children:[r.jsx("input",{type:"text",value:l,onChange:u=>c(u.target.value),placeholder:`Replying to ${e.user.name}...`,className:"flex-grow p-2 text-sm bg-white dark:bg-slate-700 rounded-lg border border-slate-300 dark:border-slate-600 focus:ring-1 focus:ring-deep-red"}),r.jsx("button",{type:"submit",className:"p-2 bg-deep-red text-white rounded-lg",children:r.jsx(ps,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"mt-4 space-y-4",children:e.replies.map(u=>r.jsx(sp,{comment:u,onLike:t,onReply:n,level:s+1},u.id))})]})]})},sN=({initialComments:e})=>{const[t,n]=w.useState(e),[s,o]=w.useState(""),{t:i}=G(),l=(m,h)=>{for(const p of h){if(p.id===m)return p;const v=l(m,p.replies);if(v)return v}return null},c=m=>{n(h=>{const p=JSON.parse(JSON.stringify(h)),v=l(m,p);return v&&(v.likes+=1),p})},f=(m,h)=>{n(p=>{const v=JSON.parse(JSON.stringify(p)),k=l(m,v);return k&&k.replies.push({id:`c${Date.now()}`,user:{id:_t.id,name:_t.name,avatar:_t.avatar},text:h,timestamp:"Just now",likes:0,replies:[]}),v})},u=m=>{if(m.preventDefault(),s.trim()){const h={id:`c${Date.now()}`,user:{id:_t.id,name:_t.name,avatar:_t.avatar},text:s,timestamp:"Just now",likes:0,replies:[]};n(p=>[h,...p]),o("")}};return r.jsxs("div",{className:"mt-12 lg:pl-24",children:[r.jsxs("h3",{className:"text-2xl font-extrabold mb-6 border-l-4 border-deep-red pl-4",children:[i("joinTheConversation")," (",t.length,")"]}),r.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[r.jsxs("form",{onSubmit:u,className:"flex items-start gap-4 mb-8",children:[r.jsx("img",{src:_t.avatar,alt:"Your avatar",className:"w-10 h-10 rounded-full"}),r.jsxs("div",{className:"flex-grow relative",children:[r.jsx("textarea",{value:s,onChange:m=>o(m.target.value),placeholder:i("writeYourComment"),className:"w-full p-3 pr-12 rounded-md border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 focus:ring-2 focus:ring-deep-red dark:focus:ring-gold transition",rows:2}),r.jsx("button",{type:"submit",className:"absolute right-2 bottom-2 p-2 bg-deep-red text-white rounded-full hover:bg-red-700 transition-colors disabled:bg-slate-400",disabled:!s.trim(),"aria-label":i("postComment"),children:r.jsx(ps,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"space-y-6",children:t.map(m=>r.jsx(sp,{comment:m,onLike:c,onReply:f},m.id))})]})]})},rp=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),op=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-7.521-4.321 5.988 5.988 0 01-7.521-4.321c-.483-.174-.711-.703-.59-1.202L9 4.971m-3.008 0A48.416 48.416 0 0112 4.5c2.291 0 4.545.16 6.75.47m-13.5 0c-1.01.143-2.01.317-3 .52m3-.52l-2.62 10.726c-.122.499.106 1.028.589 1.202a5.988 5.988 0 007.521-4.321 5.988 5.988 0 007.521-4.321c.483-.174.711-.703.59-1.202L15 4.971"})}),ip=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35"})]}),rN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),Za=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286z"})}),lp=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4.5h14.25M3 9h9.75M3 13.5h9.75m4.5-4.5v12m0 0l-3.75-3.75m3.75 3.75l3.75-3.75"})}),ap=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),oN=({article:e,onSummarize:t,onExplainSimply:n,onQuiz:s,onCounterpoint:o,onExpertAnalysis:i,onAskAuthor:l,onFactCheckPage:c,onDeepDive:f,onInfographic:u,showCounterpoint:m,isZenMode:h,subscriptionTier:p,onPremiumClick:v})=>{const[k,N]=w.useState(!1),{t:j}=G();w.useEffect(()=>{const C=()=>{N(window.scrollY>200)};return window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)},[]);const x=p==="Premium",g=C=>{x?C(e):v()},y=({onClick:C,icon:b,label:S,isActive:E,isPremiumFeature:A=!1})=>r.jsxs("button",{onClick:C,className:`group relative flex flex-col items-center justify-center gap-1.5 p-2 rounded-lg w-20 text-xs font-semibold transition-colors duration-200 ${E?"text-deep-red dark:text-gold":"text-slate-700 dark:text-slate-300"} hover:bg-slate-100 dark:hover:bg-slate-700/50`,children:[A&&!x&&r.jsx("div",{className:"absolute top-1 right-1 bg-gold text-white rounded-full p-0.5",children:r.jsx(gr,{className:"w-3 h-3"})}),r.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full transition-colors ${E?"bg-red-100 dark:bg-gold/20":"bg-slate-200 dark:bg-slate-800"} group-hover:bg-red-100 dark:group-hover:bg-gold/20 text-slate-600 dark:text-slate-300 group-hover:text-deep-red dark:group-hover:text-gold`,children:b}),r.jsx("span",{className:"truncate",children:S})]});return r.jsx("div",{className:`fixed bottom-4 left-1/2 -translate-x-1/2 z-40 transition-all duration-500 ease-in-out ${k&&!h?"opacity-100 translate-y-0":"opacity-0 translate-y-12 pointer-events-none"}`,children:r.jsxs("div",{className:"bg-white/80 dark:bg-navy/80 backdrop-blur-md rounded-full shadow-2xl p-2 flex items-center gap-1 border border-slate-200 dark:border-slate-700",children:[r.jsx(y,{onClick:()=>t(e),icon:r.jsx(Oa,{className:"w-5 h-5"}),label:j("summarize")}),r.jsx(y,{onClick:()=>n(e),icon:r.jsx(qh,{className:"w-5 h-5"}),label:j("explain")}),r.jsx(y,{onClick:()=>s(e),icon:r.jsx(rp,{className:"w-5 h-5"}),label:j("quiz")}),r.jsx(y,{onClick:()=>g(l),icon:r.jsx(rN,{className:"w-5 h-5"}),label:j("askAuthor"),isPremiumFeature:!0}),r.jsx(y,{onClick:()=>g(i),icon:r.jsx(ip,{className:"w-5 h-5"}),label:j("analysis"),isPremiumFeature:!0}),r.jsx(y,{onClick:()=>g(f),icon:r.jsx(lp,{className:"w-5 h-5"}),label:j("deepDive"),isPremiumFeature:!0}),m&&r.jsx(y,{onClick:()=>g(o),icon:r.jsx(op,{className:"w-5 h-5"}),label:j("counterpoint"),isPremiumFeature:!0}),r.jsx(y,{onClick:()=>g(c),icon:r.jsx(Za,{className:"w-5 h-5"}),label:j("factCheck"),isPremiumFeature:!0}),r.jsx(y,{onClick:()=>g(u),icon:r.jsx(ap,{className:"w-5 h-5"}),label:j("infographic"),isPremiumFeature:!0})]})})},iN=({currentArticle:e,allArticles:t,onArticleClick:n,settings:s})=>{const[o,i]=w.useState([]),[l,c]=w.useState(!0),{t:f}=G();return w.useEffect(()=>{(async()=>{c(!0);try{const m=await B5(e,t,s),h=t.filter(p=>m.includes(p.id));i(h)}catch(m){console.error("Failed to fetch related articles:",m);const h=t.filter(p=>p.category===e.category&&p.id!==e.id).slice(0,3);i(h)}finally{c(!1)}})()},[e,t,s]),l?r.jsxs("div",{className:"mt-12 lg:pl-24",children:[r.jsxs("h3",{className:"text-2xl font-extrabold mb-6 border-l-4 border-gold pl-4 flex items-center gap-2",children:[r.jsx(xe,{className:"w-5 h-5"}),f("aiPicksForYou")]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-pulse",children:[...Array(3)].map((u,m)=>r.jsxs("div",{children:[r.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 h-40 rounded-lg"}),r.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded mt-2 w-3/4"}),r.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded mt-1 w-1/2"})]},m))})]}):o.length===0?null:r.jsxs("div",{className:"mt-12 lg:pl-24",children:[r.jsxs("h3",{className:"text-2xl font-extrabold mb-6 border-l-4 border-gold pl-4 flex items-center gap-2",children:[r.jsx(xe,{className:"w-5 h-5"}),f("aiPicksForYou")]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(u=>r.jsxs("div",{className:"group cursor-pointer",onClick:()=>n(u),children:[r.jsx("div",{className:"relative overflow-hidden rounded-lg aspect-video mb-2",children:r.jsx("img",{src:u.imageUrl,alt:u.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),r.jsx("p",{className:"text-xs font-semibold uppercase text-deep-red",children:u.category}),r.jsx("h4",{className:"font-semibold leading-tight group-hover:underline",children:u.title})]},u.id))})]})},O=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),lN=({term:e,definition:t,position:n,onClose:s})=>(G(),r.jsxs("div",{className:"absolute z-30 w-64 p-4 bg-white dark:bg-slate-800 rounded-lg shadow-2xl border border-slate-200 dark:border-slate-700 animate-fade-in-down",style:{top:`${n.top}px`,left:`${n.left}px`},children:[r.jsx("button",{onClick:s,className:"absolute top-2 right-2 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-bold text-deep-red dark:text-gold mb-2",children:e}),r.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:t})]})),aN=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.566-.166 1.132-.225 1.7-.225.632 0 1.273.069 1.875.225m-3.562 2.962a9.094 9.094 0 01-3.742-.479 3 3 0 014.682-2.72M12 12.75a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75a2.25 2.25 0 01-2.25-2.25A2.25 2.25 0 0112 8.25s-2.25 1.006-2.25 2.25a2.25 2.25 0 01-2.25 2.25S7.5 12.75 7.5 10.5a2.25 2.25 0 012.25-2.25m3 4.5a2.25 2.25 0 002.25-2.25A2.25 2.25 0 0012 8.25s2.25 1.006 2.25 2.25a2.25 2.25 0 002.25 2.25s-2.25-.994-2.25-2.25m-2.25 2.25c-.632 0-1.273.069-1.875.225"})]}),cN=({highlights:e,isLoading:t})=>{const{t:n}=G();return t?r.jsxs("div",{className:"mt-12 lg:pl-24 animate-pulse",children:[r.jsx("div",{className:"h-8 bg-slate-200 dark:bg-slate-700 rounded-md w-3/4 mb-6"}),r.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-lg space-y-4",children:[r.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/4"}),r.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),r.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mt-4"}),r.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"})]})]}):e.length===0?null:r.jsxs("div",{className:"mt-12 lg:pl-24",children:[r.jsxs("h3",{className:"text-2xl font-extrabold mb-6 border-l-4 border-deep-red pl-4 flex items-center gap-2",children:[r.jsx(xe,{className:"text-gold"})," ",n("communityHighlights")]}),r.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-500 dark:text-slate-400 mb-4",children:[r.jsx(aN,{className:"w-5 h-5"}),r.jsx("span",{children:n("aiSummaryOfConversation")})]}),r.jsx("div",{className:"space-y-4",children:e.map((s,o)=>r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:s.viewpoint}),r.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:['"',s.summary,'"']})]},o))})]})]})},dN=({quote:e})=>r.jsx("blockquote",{className:"my-8 md:my-12 p-4 border-l-4 border-gold bg-slate-100 dark:bg-slate-800/50 rounded-r-lg relative text-center animate-fade-in-up",children:r.jsxs("p",{className:"text-xl md:text-2xl font-semibold italic text-slate-800 dark:text-slate-200",children:["",e,""]})}),uN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.108 12 5v14c0 .892-1.077 1.337-1.707.707L5.586 15z"})}),as=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),fN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Vr=({onClick:e,icon:t,label:n})=>r.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-full text-sm font-semibold transition-colors",children:[t,n]}),mN=({article:e,onClose:t,onTextToSpeech:n,onSummarize:s,isBookmarked:o,onToggleBookmark:i,onAnalyzeImage:l})=>{const{t:c}=G(),[f,u]=w.useState(0);w.useEffect(()=>{const k=()=>{u(window.scrollY)};return window.addEventListener("scroll",k,{passive:!0}),()=>window.removeEventListener("scroll",k)},[]);const m=1+f/2e3,h=Math.max(0,1-f/350),p=Math.max(.95,1-f/1500),v=f*.2;return r.jsxs("header",{className:"relative -mt-8 -mx-4 sm:-mx-6 lg:-mx-8 mb-8 text-white min-h-[70vh] max-h-[800px] flex flex-col justify-between p-4 sm:p-8 lg:p-12 rounded-b-2xl overflow-hidden animate-fade-in",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${e.imageUrl})`,transform:`translateY(${f*.4}px) scale(${m})`}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-navy/90 via-navy/60 to-transparent"}),r.jsx("div",{className:"relative z-10",children:r.jsxs("button",{onClick:t,className:"flex items-center gap-1 text-sm font-semibold text-slate-300 hover:text-white hover:underline",children:[r.jsx(as,{className:"w-5 h-5"})," ",c("backToHome")]})}),r.jsxs("div",{className:"relative z-10 animate-fade-in-up max-w-4xl mx-auto container",style:{opacity:h,transform:`scale(${p}) translateY(${v}px)`},children:[r.jsx("p",{className:"font-semibold uppercase tracking-wider text-gold mb-2",children:c(e.category.toLowerCase())||e.category}),r.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold !leading-tight tracking-tight mb-4 drop-shadow-lg",children:e.title}),r.jsx("p",{className:"text-lg md:text-xl text-slate-300 max-w-3xl drop-shadow-md",children:e.excerpt}),r.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4",children:[r.jsx(Vr,{onClick:n,icon:r.jsx(uN,{className:"w-5 h-5"}),label:c("listen")}),r.jsx(Vr,{onClick:s,icon:r.jsx(Oa,{className:"w-5 h-5"}),label:c("summarize")}),r.jsx(Vr,{onClick:l,icon:r.jsx(fN,{className:"w-5 h-5"}),label:c("analyzeImage")}),r.jsx(Vr,{onClick:i,icon:r.jsx(ls,{filled:o,className:"w-5 h-5"}),label:c(o?"bookmarked":"bookmark")})]})]})]})},hN=({article:e,onClose:t,isBookmarked:n,onToggleBookmark:s,onReadMore:o,onSummarize:i,onExplainSimply:l,onTextToSpeech:c,onQuiz:f,onCounterpoint:u,onBehindTheNews:m,onExpertAnalysis:h,onAskAuthor:p,onFactCheckPage:v,onDeepDive:k,onInfographic:N,onAnalyzeImage:j,settings:x,onPremiumClick:g,keyConcepts:y,timelineEvents:C,timelineLoading:b,pullQuotes:S,pullQuotesLoading:E,tags:A,tagsLoading:T,factCheckResult:_,factCheckLoading:D,aiTakeaways:V,takeawaysLoading:B,communityHighlights:Q,highlightsLoading:be})=>{const[K,we]=w.useState(!1),[P,U]=w.useState("None"),[F,$]=w.useState(null),[W,Pe]=w.useState(!1),[Le,xt]=w.useState(null),[H,vt]=w.useState(null),[ec,xr]=w.useState(!1),[gs,vr]=w.useState(""),jn=w.useRef(null),{t:xs}=G();w.useEffect(()=>{window.scrollTo(0,0),xt(null),U("None"),$(null),Pe(!1),vt(null),xr(!1),vr("")},[e.id]),w.useEffect(()=>{x.preferredLanguage!=="English"?(async()=>{xr(!0),vr(""),vt(null);try{const fe=await L5(e,x.preferredLanguage,x);vt(fe)}catch(fe){console.error("Failed to translate article content:",fe),vr("Failed to translate article. Displaying original version.")}finally{xr(!1)}})():vt(null)},[e.id,x.preferredLanguage,x]),w.useEffect(()=>{U(K?x.aiReadingLens:"None")},[K,x.aiReadingLens]);const yt=w.useMemo(()=>({...e,title:(H==null?void 0:H.title)||e.title,excerpt:(H==null?void 0:H.excerpt)||e.excerpt,content:(H==null?void 0:H.content)||e.content}),[e,H]);w.useEffect(()=>{(async()=>{if(P==="None"){$(null);return}Pe(!0);try{const fe=await P5(yt.content,P,x);$(fe)}catch(fe){console.error("Failed to apply reading lens",fe)}finally{Pe(!1)}})()},[P,yt.content,x]);const vs=F??yt.content,wt=w.useMemo(()=>{if(!x.interactiveGlossary||y.length===0)return vs;const ie=y.map(ke=>ke.term.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).sort((ke,Gt)=>Gt.length-ke.length),fe=new RegExp(`\\b(${ie.join("|")})\\b`,"gi");return vs.replace(fe,ke=>{var kt;return`<button class="interactive-term" data-term="${((kt=y.find(An=>An.term.toLowerCase()===ke.toLowerCase()))==null?void 0:kt.term)||ke}">${ke}</button>`})},[vs,y,x.interactiveGlossary]),ys=w.useCallback(ie=>{const fe=ie.target;if(fe.classList.contains("interactive-term")){ie.preventDefault();const ke=fe.dataset.term;if(ke){const Gt=y.find(kt=>kt.term===ke);if(Gt){const kt=fe.getBoundingClientRect();xt({term:Gt.term,definition:Gt.description,position:{top:kt.bottom+window.scrollY+8,left:kt.left+window.scrollX}})}}}},[y]),ei=w.useMemo(()=>{let ie=wt.split(`
`);if(S.length>0&&ie.length>4){const fe=Math.floor(ie.length/3);ie.splice(fe,0,"PULLQUOTE_0")}if(S.length>1&&ie.length>8){const fe=Math.floor(ie.length*2/3);ie.splice(fe,0,"PULLQUOTE_1")}return ie},[wt,S]);return r.jsxs("div",{ref:jn,className:`transition-colors duration-300 ${K?"bg-slate-50 dark:bg-gray-900":"bg-transparent"}`,children:[r.jsx("style",{children:`
          .interactive-term {
            color: #b91c1c; /* deep-red */
            font-weight: 600;
            border-bottom: 2px dotted #d97706; /* gold */
            cursor: pointer;
            background: transparent;
            padding: 0;
            display: inline;
            border-radius: 0;
          }
          .dark .interactive-term {
            color: #d97706; /* gold */
            border-bottom-color: #b91c1c; /* deep-red */
          }
          .density-compact .prose {
            font-size: 0.9rem;
            line-height: 1.5;
          }
        `}),r.jsx(mN,{article:yt,onClose:t,isBookmarked:n,onToggleBookmark:()=>s(e.id),onTextToSpeech:()=>c(e),onSummarize:()=>i(e),onAnalyzeImage:()=>j(e)}),r.jsx("div",{className:"transition-all duration-300 max-w-4xl mx-auto mt-8 container sm:px-6 lg:px-8",children:r.jsxs("div",{className:"relative",children:[r.jsx(Jk,{article:e,isBookmarked:n,onToggleBookmark:()=>s(e.id),isZenMode:K,onToggleZenMode:()=>we(!K),activeLens:P,onSetLens:U,comparisonList:[],onAddToCompare:()=>{}}),r.jsxs("main",{className:`${K?"":"lg:pl-24"} space-y-8`,children:[r.jsx(Hk,{author:e.author,date:e.date,content:yt.content}),ec&&r.jsxs("div",{className:"flex items-center gap-3 p-3 mb-4 bg-slate-100 dark:bg-slate-800/50 rounded-lg text-sm",children:[r.jsx(qe,{}),r.jsxs("span",{children:[xs("translating")," ",x.preferredLanguage,"..."]})]}),gs&&r.jsx("div",{className:"p-3 mb-4 bg-red-100 dark:bg-red-900/50 rounded-lg text-sm text-red-700 dark:text-red-300",children:gs}),r.jsx(Ok,{takeaways:V,isLoading:B}),r.jsx(tN,{result:_,isLoading:D}),W&&r.jsxs("div",{className:"flex justify-center items-center my-8 p-4 bg-slate-100 dark:bg-slate-800/50 rounded-lg",children:[r.jsx(qe,{className:"w-6 h-6 mr-3"}),r.jsx("span",{children:xs("applyingLens")})]}),r.jsx("div",{onClick:ys,className:"prose prose-lg dark:prose-invert max-w-none text-slate-800 dark:text-slate-300",children:ei.map((ie,fe)=>{if(ie.startsWith("PULLQUOTE_")){const ke=parseInt(ie.split("_")[1]);return S[ke]&&!E?r.jsx(dN,{quote:S[ke]},`pullquote-${fe}`):null}return r.jsx("p",{dangerouslySetInnerHTML:{__html:ie}},fe)})}),e.hasTimeline&&r.jsx(tp,{events:C,isLoading:b}),r.jsx(Kk,{tags:A,isLoading:T})]}),r.jsx(cN,{highlights:Q,isLoading:be}),r.jsx(sN,{initialComments:Rx}),r.jsx(iN,{currentArticle:e,allArticles:$s,onArticleClick:o,settings:x})]})}),Le&&r.jsx(lN,{term:Le.term,definition:Le.definition,position:Le.position,onClose:()=>xt(null)}),r.jsx(oN,{article:e,onSummarize:i,onExplainSimply:l,onTextToSpeech:c,onQuiz:f,onCounterpoint:u,onBehindTheNews:m,onExpertAnalysis:h,onAskAuthor:p,onFactCheckPage:v,onDeepDive:k,onInfographic:N,showCounterpoint:x.showCounterpoint,isZenMode:K,activeLens:P,onSetLens:U,subscriptionTier:x.subscriptionTier,onPremiumClick:g})]})},pN=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.362-3.797A8.33 8.33 0 0112 2.25c1.153 0 2.243.232 3.223.638z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.897 18.75A8.962 8.962 0 0112 2.25c2.27 0 4.367.868 5.942 2.285a8.963 8.963 0 01-1.296 13.527 8.963 8.963 0 01-4.212 1.634 8.963 8.963 0 01-4.212-1.634A8.962 8.962 0 014.897 18.75z"})]}),gN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75"})}),xN=({article:e,onArticleClick:t})=>r.jsxs("div",{className:"group relative rounded-lg overflow-hidden shadow-lg h-80",onClick:()=>t==null?void 0:t(e),children:[r.jsx("img",{src:e.imageUrl,alt:e.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),r.jsxs("div",{className:"relative h-full flex flex-col justify-end p-6 text-white",children:[r.jsx("h3",{className:"text-xl font-bold leading-tight drop-shadow-md",children:e.title}),r.jsx("p",{className:"text-sm opacity-80 mt-1",children:e.author}),r.jsxs("div",{className:"mt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center gap-2 text-sm font-semibold",children:[r.jsx("span",{children:"Read More"}),r.jsx(gN,{className:"w-4 h-4"})]})]})]}),vN=({articles:e,onArticleClick:t})=>{const{t:n}=G();if(!e||e.length===0)return null;const[s,...o]=e;return r.jsxs("section",{className:"my-16",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("h2",{className:"text-4xl font-extrabold mb-2 tracking-tighter inline-block relative",children:["Mahama 360",r.jsx(pN,{className:"absolute -top-2 -right-8 w-8 h-8 text-deep-red transform rotate-12"})]}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-2xl mx-auto",children:n("mahama360Desc")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(xN,{article:s,onArticleClick:t})}),r.jsx("div",{className:"space-y-6",children:o.slice(0,2).map(i=>r.jsxs("div",{className:"group relative rounded-lg overflow-hidden shadow-md h-full cursor-pointer",onClick:()=>t==null?void 0:t(i),children:[r.jsx("img",{src:i.imageUrl,alt:i.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),r.jsx("div",{className:"relative h-full flex flex-col justify-end p-4 text-white",children:r.jsx("h4",{className:"font-bold leading-tight",children:i.title})})]},i.id))})]})]})},Vi={labels:["Jan","Mar","May","Jul","Sep","Nov"],datasets:[{label:"EmergingMarkets",data:[10,30,25,50,45,70],color:"#b91c1c"},{label:"GreenTech",data:[5,15,40,35,60,80],color:"#16a34a"},{label:"AI&Automation",data:[20,25,50,60,75,90],color:"#d97706"}]},yN=()=>{const[e,t]=w.useState(null),{t:n}=G(),s=100,o=i=>i.map((l,c)=>`${c/(i.length-1)*100},${100-l/s*100}`).join(" ");return r.jsxs("section",{className:"my-16",children:[r.jsx("h2",{className:"text-3xl font-extrabold mb-6 border-l-4 border-deep-red pl-4",children:n("interactiveData")}),r.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-lg shadow-md",children:[r.jsx("h3",{className:"text-xl font-bold mb-2",children:n("investmentTrends")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:n("investmentTrendsDesc")}),r.jsx("div",{className:"h-64 relative",children:r.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"w-full h-full",children:[[0,25,50,75,100].map(i=>r.jsx("line",{x1:"0",x2:"100",y1:100-i,y2:100-i,stroke:"currentColor",className:"text-slate-200 dark:text-slate-700",strokeWidth:"0.5"},i)),Vi.datasets.map(i=>r.jsx("polyline",{fill:"none",stroke:i.color,strokeWidth:e===i.label?"1.5":"1",strokeLinecap:"round",strokeLinejoin:"round",points:o(i.data),className:"transition-all duration-300",style:{opacity:e===null||e===i.label?1:.3}},i.label))]})}),r.jsx("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:Vi.labels.map(i=>r.jsx("span",{children:i},i))}),r.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:Vi.datasets.map(i=>r.jsxs("div",{onMouseEnter:()=>t(i.label),onMouseLeave:()=>t(null),className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),r.jsx("span",{className:"text-sm font-semibold",children:n(i.label)})]},i.label))})]})]})},cp=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",...e,children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),wN=({podcast:e,onPlay:t})=>r.jsxs("div",{className:"group bg-slate-200/50 dark:bg-slate-800/50 rounded-lg shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden flex flex-col md:flex-row items-center gap-5 p-5 relative",children:[r.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full md:w-32 h-32 object-cover rounded-md"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs font-semibold uppercase text-gold",children:`Ep. ${e.episode} | ${e.duration}`}),r.jsx("h3",{className:"text-lg font-bold my-1 leading-tight group-hover:text-deep-red dark:group-hover:text-gold transition-colors duration-200",children:r.jsx("a",{href:"#",children:e.title})}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",children:e.excerpt})]}),r.jsx("button",{onClick:t,className:"bg-deep-red text-white p-4 rounded-full transition-transform transform group-hover:scale-110 z-10 w-16 h-16 flex items-center justify-center",children:r.jsx(cp,{className:"w-6 h-6"})})]}),kN=({podcasts:e})=>{const{t}=G();return r.jsxs("section",{className:"my-16",children:[r.jsx("h2",{className:"text-3xl font-extrabold mb-6 border-l-4 border-deep-red pl-4",children:t("podcastHub")}),r.jsx("div",{className:"grid grid-cols-1 gap-8",children:e.map(n=>r.jsx(wN,{podcast:n,onPlay:()=>{}},n.id))})]})},NN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375"})}),CN=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3.75v1.5M12 18.75v1.5M3.75 12h1.5M18.75 12h1.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 100-6 3 3 0 000 6z"})]}),bN=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 6.75c3.5-1.5 8.5-1.5 12 0"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 17.25c-3.5 1.5-8.5 1.5-12 0"})]}),SN=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.566-.166 1.132-.225 1.7-.225.632 0 1.273.069 1.875.225m-3.562 2.962a9.094 9.094 0 01-3.742-.479 3 3 0 014.682-2.72M12 12.75a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75a2.25 2.25 0 01-2.25-2.25A2.25 2.25 0 0112 8.25s-2.25 1.006-2.25 2.25a2.25 2.25 0 01-2.25 2.25S7.5 12.75 7.5 10.5a2.25 2.25 0 012.25-2.25m3 4.5a2.25 2.25 0 002.25-2.25A2.25 2.25 0 0012 8.25s2.25 1.006 2.25 2.25a2.25 2.25 0 002.25 2.25s-2.25-.994-2.25-2.25m-2.25 2.25c-.632 0-1.273.069-1.875.225"})]}),TN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18h3m-3-3h3m-3-3h3m-3-3h3"})}),EN={SparklesIcon:xe,UserIcon:Ko,GlobeIcon:za,DataIcon:NN,SearchIcon:Ya,GpsIcon:CN,DnaIcon:bN,SocialIcon:SN,SmartphoneIcon:TN},jN=()=>{const{t:e}=G();return r.jsxs("section",{className:"my-16",children:[r.jsx("h2",{className:"text-3xl font-extrabold mb-8 text-center border-l-4 border-deep-red pl-4 inline-block",children:e("innovationTimeline")}),r.jsxs("div",{className:"relative container mx-auto px-6 flex flex-col space-y-8",children:[r.jsx("div",{className:"absolute z-0 w-2 h-full bg-slate-200 dark:bg-slate-700 shadow-md inset-0 left-1/2 -ml-1"}),Lx.map((t,n)=>{const s=EN[t.icon]||xe,o=n%2===0;return r.jsxs("div",{className:`relative flex items-center ${o?"justify-end md:justify-start":"justify-end"}`,children:[r.jsx("div",{className:`w-full md:w-1/2 ${o?"md:pr-8":"md:pl-8"}`,children:r.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-lg",children:[r.jsx("p",{className:"font-bold text-deep-red dark:text-gold text-right",children:t.year}),r.jsx("h3",{className:"text-xl font-bold",children:e(t.titleKey)}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:e(t.descriptionKey)})]})}),r.jsx("div",{className:"absolute left-1/2 -ml-6 z-10",children:r.jsx("div",{className:"bg-white dark:bg-slate-800 border-4 border-gold text-gold w-12 h-12 rounded-full flex items-center justify-center",children:r.jsx(s,{className:"w-6 h-6"})})})]},t.year)})]})]})},AN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...e,children:r.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),IN=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),r.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),r.jsx("line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5"})]}),_N=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...e,children:r.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})}),MN=({onInfoPageClick:e})=>{const{t}=G();return r.jsx("footer",{className:"bg-white dark:bg-slate-900/80 text-slate-600 dark:text-slate-400 border-t border-slate-200 dark:border-slate-800",children:r.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"bg-slate-100 dark:bg-navy p-8 rounded-lg mb-12 flex flex-col md:flex-row items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:t("stayAhead")}),r.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:t("newsletterDesc")})]}),r.jsxs("form",{className:"mt-4 md:mt-0 flex w-full max-w-md",children:[r.jsx("input",{type:"email",placeholder:t("enterYourEmail"),className:"w-full px-4 py-2 rounded-l-md border-0 focus:ring-2 focus:ring-deep-red dark:bg-slate-800 dark:text-white"}),r.jsx("button",{type:"submit",className:"bg-deep-red text-white font-semibold px-6 py-2 rounded-r-md hover:bg-red-700 transition-colors",children:t("subscribe")})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-8",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-4",children:t("news")}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("world")})}),r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("politics")})}),r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("economy")})}),r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("technology")})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-4",children:t("features")}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("mahama_360")})}),r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("podcastsAndVideo")})}),r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("mahamaInvestigates")})}),r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("communityForum")})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-4",children:t("aboutMNH")}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsx("button",{onClick:()=>e("about"),className:"hover:text-deep-red dark:hover:text-gold",children:t("aboutUs")})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>e("careers"),className:"hover:text-deep-red dark:hover:text-gold",children:t("careers")})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>e("contact"),className:"hover:text-deep-red dark:hover:text-gold",children:t("contact")})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>e("advertise"),className:"hover:text-deep-red dark:hover:text-gold",children:t("advertise")})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-4",children:t("legal")}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("termsOfUse")})}),r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("privacyPolicy")})}),r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("cookiePolicy")})}),r.jsx("li",{children:r.jsx("button",{className:"hover:text-deep-red dark:hover:text-gold",children:t("accessibility")})})]})]})]}),r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 flex flex-col md:flex-row items-center justify-between",children:[r.jsxs("p",{className:"text-sm",children:[" ",new Date().getFullYear()," ",t("logoText"),". ",t("allRightsReserved")]}),r.jsxs("div",{className:"flex space-x-4 mt-4 md:mt-0",children:[r.jsx("a",{href:"#",className:"hover:text-deep-red dark:hover:text-gold","aria-label":"Facebook",children:r.jsx(AN,{})}),r.jsx("a",{href:"#",className:"hover:text-deep-red dark:hover:text-gold","aria-label":"Twitter",children:r.jsx(np,{})}),r.jsx("a",{href:"#",className:"hover:text-deep-red dark:hover:text-gold","aria-label":"Instagram",children:r.jsx(IN,{})}),r.jsx("a",{href:"#",className:"hover:text-deep-red dark:hover:text-gold","aria-label":"YouTube",children:r.jsx(_N,{})})]})]})]})})},PN=()=>{const[e,t]=w.useState(0),n=()=>{const s=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.scrollHeight-document.documentElement.clientHeight,i=s/o*100;t(i)};return w.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),r.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 z-50 bg-gold/30",children:r.jsx("div",{className:"h-1 bg-gradient-to-r from-gold to-deep-red transition-all duration-100 ease-linear",style:{width:`${e}%`}})})},Xo=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"})]}),dp=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),LN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0h7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})}),RN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M12 12.75h.008v.008H12v-.008z"})}),DN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})}),Ao=({item:e,onWatchMovie:t,onWatchTrailer:n})=>{const s=w.useRef(null),[o,i]=w.useState(!1),l=u=>{if(!s.current)return;const{left:m,top:h,width:p,height:v}=s.current.getBoundingClientRect(),k=(u.clientX-m)/p-.5,j=((u.clientY-h)/v-.5)*-15,x=k*15;s.current.style.transform=`perspective(1000px) rotateX(${j}deg) rotateY(${x}deg) scale3d(1.05, 1.05, 1.05)`},c=()=>{s.current&&(s.current.style.transform="perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)"),i(!1)},f=()=>{i(!0)};return r.jsxs("div",{ref:s,className:"relative flex-shrink-0 w-full aspect-[2/3] transition-transform duration-300 ease-out group",style:{transformStyle:"preserve-3d"},onMouseMove:l,onMouseLeave:c,onMouseEnter:f,children:[r.jsx("img",{src:e.posterUrl,alt:e.title,className:"absolute inset-0 w-full h-full object-cover rounded-lg shadow-lg",style:{transform:"translateZ(0px)"}}),r.jsx("div",{className:"absolute top-0 left-0 w-full h-full rounded-lg overflow-hidden pointer-events-none",style:{transform:"translateZ(2px)"},children:r.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-full bg-white/20 opacity-0 group-hover:opacity-100 group-hover:animate-glare-effect"})}),e.isNew&&!o&&r.jsx("div",{className:"absolute top-2 right-2 bg-gold text-white text-xs font-bold px-2 py-1 rounded shadow-md",style:{transform:"translateZ(10px)"},children:"NEW"}),r.jsxs("div",{className:`absolute inset-0 flex flex-col justify-end p-3 text-white transition-opacity duration-300 ${o?"opacity-100":"opacity-0"}`,style:{transform:"translateZ(40px)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent rounded-lg"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("h3",{className:"font-bold text-md leading-tight drop-shadow-lg",children:e.title}),r.jsxs("div",{className:"text-xs text-slate-300 my-1 drop-shadow-md",children:[r.jsx("span",{children:e.year}),"  ",r.jsx("span",{children:e.rating})]}),r.jsx("div",{className:"flex gap-2 mt-2",children:r.jsxs("button",{onClick:()=>t(e),className:"flex-1 flex items-center justify-center gap-1 bg-deep-red hover:bg-red-700 font-bold py-2 px-2 rounded-md text-xs",children:[r.jsx(Xo,{className:"w-4 h-4"})," Play"]})})]})]})]})},Ls=({title:e,items:t,onWatchMovie:n,onWatchTrailer:s})=>{const o=eo.useRef(null),i=l=>{if(o.current){const{scrollLeft:c,clientWidth:f}=o.current,u=l==="left"?c-f*.8:c+f*.8;o.current.scrollTo({left:u,behavior:"smooth"})}};return t.length===0?null:r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-4 sm:mb-6 text-white",children:e}),r.jsxs("div",{className:"relative group/carousel",children:[r.jsx("div",{ref:o,className:"flex space-x-4 md:space-x-6 overflow-x-auto pb-4 scrollbar-hide",children:t.map(l=>r.jsx("div",{className:"w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5 xl:w-1/6 flex-shrink-0",children:r.jsx(Ao,{item:l,onWatchMovie:n,onWatchTrailer:s})},l.id))}),r.jsx("button",{onClick:()=>i("left"),"aria-label":"Scroll left",className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full p-3 z-10 hidden md:block opacity-0 group-hover/carousel:opacity-100 transition-opacity duration-300",children:r.jsx(as,{className:"w-6 h-6 text-white"})}),r.jsx("button",{onClick:()=>i("right"),"aria-label":"Scroll right",className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full p-3 z-10 hidden md:block opacity-0 group-hover/carousel:opacity-100 transition-opacity duration-300",children:r.jsx(Qa,{className:"w-6 h-6 text-white"})})]}),r.jsx("style",{children:`
                .scrollbar-hide::-webkit-scrollbar { display: none; }
                .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
            `})]})},FN=({genres:e,filters:t,onFilterChange:n,onClear:s})=>{const o=({icon:c,value:f,options:u,onChange:m})=>r.jsxs("div",{className:"relative",children:[r.jsx("select",{value:f,onChange:h=>m(h.target.value),className:"appearance-none w-full sm:w-auto bg-slate-800/50 backdrop-blur-sm border border-slate-700 hover:border-gold text-white font-semibold py-2 pl-10 pr-4 rounded-full transition-colors cursor-pointer focus:outline-none focus:ring-2 focus:ring-gold",children:u.map(h=>r.jsx("option",{value:h,className:"bg-navy text-white font-semibold",children:h},h))}),r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:c})]}),i=["All Years","Latest Releases","2020s","2010s","2000s","Older"],l=["Popularity","Newest First","A-Z"];return r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-center mb-8",children:[r.jsx(o,{icon:r.jsx(LN,{className:"w-5 h-5"}),value:t.genre,options:["All Genres",...e],onChange:c=>n({genre:c})}),r.jsx(o,{icon:r.jsx(RN,{className:"w-5 h-5"}),value:t.year,options:i,onChange:c=>n({year:c})}),r.jsx(o,{icon:r.jsx(DN,{className:"w-5 h-5"}),value:t.sortBy,options:l,onChange:c=>n({sortBy:c})}),r.jsx("button",{onClick:s,className:"text-sm font-semibold hover:underline text-slate-400",children:"Clear"})]})},UN=({onWatchMovie:e,onWatchTrailer:t,settings:n})=>{const[s,o]=w.useState({genre:"All Genres",year:"All Years",sortBy:"Popularity"}),[i,l]=w.useState(12),[c,f]=w.useState([]),u=w.useMemo(()=>[...Array.from(new Set(Pt.map(g=>g.genre)))],[]);w.useEffect(()=>{(async()=>{try{const y=await W5(Pt,n),C=Pt.filter(b=>y.includes(b.id));f(C)}catch(y){console.error("Failed to get movie recommendations",y)}})()},[n]);const m=g=>{o(y=>({...y,...g})),l(12)},h=()=>{o({genre:"All Genres",year:"All Years",sortBy:"Popularity"}),l(12)},p=()=>{l(g=>g+12)},v=w.useMemo(()=>Pt.filter(g=>s.genre==="All Genres"||g.genre===s.genre).filter(g=>s.year==="All Years"?!0:s.year==="Latest Releases"?g.isNew||g.year>=new Date().getFullYear()-1:s.year==="2020s"?g.year>=2020:s.year==="2010s"?g.year>=2010&&g.year<2020:s.year==="2000s"?g.year>=2e3&&g.year<2010:s.year==="Older"?g.year<2e3:!0).sort((g,y)=>s.sortBy==="Newest First"?y.year-g.year:s.sortBy==="A-Z"?g.title.localeCompare(y.title):g.isTrending&&!y.isTrending?-1:!g.isTrending&&y.isTrending?1:g.id-y.id),[s]),k=w.useMemo(()=>v.filter(g=>g.isTrending),[v]),N=w.useMemo(()=>v.filter(g=>g.isNew),[v]),j=w.useMemo(()=>v.filter(g=>g.isAwardWinner),[v]),x=Pt.find(g=>g.id===19)||Pt[0];return r.jsxs("div",{className:"animate-fade-in text-white -mx-4 sm:-mx-6 lg:-mx-8 bg-black",style:{background:"radial-gradient(circle at 50% 0%, #0a192f 0%, #000000 70%), linear-gradient(to bottom, #0a192f, #000000)"},children:[r.jsxs("div",{className:"relative rounded-lg overflow-hidden h-[60vh] md:h-[80vh] group mb-8",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center animate-hero-bg-parallax",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/6PGweuFma9fH72z2363tAGp9gM.jpg)"}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/30 to-transparent"}),r.jsxs("div",{className:"relative h-full flex flex-col justify-center sm:justify-end p-4 sm:p-8 md:p-12",children:[r.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-black tracking-tighter mb-4 max-w-2xl",children:x.title}),r.jsx("p",{className:"max-w-xl text-slate-300 mb-6 hidden sm:block",children:x.description}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[r.jsxs("button",{onClick:()=>t(x.trailerUrl),className:"flex items-center gap-2 bg-white text-black font-bold py-3 px-6 rounded-full transition-transform transform hover:scale-105 duration-300",children:[r.jsx(Xo,{className:"w-6 h-6"})," Watch Trailer"]}),r.jsxs("button",{onClick:()=>e(x),className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white font-bold py-3 px-6 rounded-full transition-transform transform hover:scale-105 duration-300",children:[r.jsx(dp,{className:"w-6 h-6"})," More Info"]})]})]})]}),r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 space-y-12",children:[r.jsx(Ls,{title:"AI Recommendations",items:c,onWatchMovie:e,onWatchTrailer:t}),r.jsx(Ls,{title:"Trending Now",items:k,onWatchMovie:e,onWatchTrailer:t}),r.jsx(Ls,{title:"New Releases",items:N,onWatchMovie:e,onWatchTrailer:t}),r.jsx(Ls,{title:"Award Winners",items:j,onWatchMovie:e,onWatchTrailer:t}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-extrabold mb-6",children:"Explore All"}),r.jsx(FN,{genres:u,filters:s,onFilterChange:m,onClear:h}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:v.slice(0,i).map(g=>r.jsx(Ao,{item:g,onWatchMovie:e,onWatchTrailer:t},g.id))}),i<v.length&&r.jsx("div",{className:"text-center mt-8",children:r.jsx("button",{onClick:p,className:"bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 px-6 rounded-full transition-colors",children:"Load More"})})]})]})]})},VN=()=>r.jsxs("div",{className:"bg-slate-100 dark:bg-navy py-8",children:[r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("h3",{className:"text-center font-bold text-sm uppercase text-slate-500 tracking-widest mb-6",children:"In Partnership With"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",style:{perspective:"1000px"},children:Dx.map((e,t)=>r.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"group block relative rounded-lg overflow-hidden shadow-lg animate-tilt-in",style:{animationDelay:`${t*150}ms`,transformStyle:"preserve-3d"},children:[r.jsx("img",{src:e.imageUrl,alt:e.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent transition-all duration-300 group-hover:from-black/90"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gold via-deep-red to-navy opacity-0 group-hover:opacity-30 transition-opacity duration-500 animate-gradient-shift",style:{backgroundSize:"200% 200%"}}),r.jsxs("div",{className:"relative p-6 flex flex-col justify-between h-48 text-white transition-transform duration-300",style:{transform:"translateZ(20px)"},children:[r.jsx("img",{src:e.logoUrl,alt:`${e.name} logo`,className:"h-8 w-auto self-start filter brightness-0 invert opacity-80"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-lg",children:e.name}),r.jsx("p",{className:"text-sm opacity-80",children:e.tagline})]})]}),r.jsx("div",{className:"absolute inset-0 border-2 border-transparent rounded-lg group-hover:border-gold transition-all duration-300 opacity-0 group-hover:opacity-100",style:{boxShadow:"0 0 15px rgba(217, 119, 6, 0.5)"}})]},e.name))})]}),r.jsx("style",{children:`
                .group {
                    transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                }
                @media (min-width: 768px) {
                    .group:hover {
                        transform: rotateX(5deg) rotateY(-5deg) scale(1.05) translateZ(10px);
                        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
                    }
                }
             `})]}),BN=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 100 12h3a7.5 7.5 0 100-12h-3z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 9a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5a2.25 2.25 0 114.5 0 2.25 2.25 0 01-4.5 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 19.5a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z"})]}),zN=({onArticleClick:e})=>{const t=$s.find(s=>s.category==="Technology")||$s[3],n=$s.filter(s=>s.category==="World"||s.category==="Economy").slice(0,4);return r.jsxs("div",{className:"animate-fade-in text-white -mx-4 sm:-mx-6 lg:-mx-8 bg-navy",children:[r.jsxs("header",{className:"relative p-8 md:p-12 text-center overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-slate-900 opacity-50"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"inline-flex items-center gap-4",children:[r.jsx(dh,{className:"w-12 h-12 text-deep-red"}),r.jsx("h1",{className:"text-4xl md:text-6xl font-black tracking-tighter",children:"Mahama Investigates"})]}),r.jsx("p",{className:"mt-4 max-w-3xl mx-auto text-slate-300",children:"Uncovering the stories behind the headlines. Our in-depth reports connect the dots on the world's most complex issues."})]})]}),r.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-3xl font-extrabold mb-6 border-l-4 border-deep-red pl-4",children:"Featured Investigation"}),r.jsxs("div",{className:"group grid grid-cols-1 md:grid-cols-2 gap-8 items-center bg-slate-800/50 p-6 rounded-lg cursor-pointer",onClick:()=>e(t),children:[r.jsx("div",{className:"relative overflow-hidden rounded-lg aspect-video",children:r.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold uppercase tracking-wider text-deep-red mb-2",children:t.category}),r.jsx("h3",{className:"text-3xl font-extrabold !leading-tight tracking-tight mb-4 group-hover:text-gold transition-colors",children:t.title}),r.jsx("p",{className:"text-slate-300",children:t.excerpt})]})]})]}),r.jsxs("section",{className:"mb-12",children:[r.jsxs("h2",{className:"text-3xl font-extrabold mb-6 border-l-4 border-deep-red pl-4 flex items-center gap-3",children:[r.jsx(BN,{})," Investigation Network"]}),r.jsxs("div",{className:"p-6 bg-slate-800/50 rounded-lg",children:[r.jsx("p",{className:"text-slate-400 mb-4",children:"This interactive graph visualizes the connections between key entities in our ongoing investigations. Click on nodes to explore further."}),r.jsx("div",{className:"w-full h-96 bg-slate-900/50 rounded flex items-center justify-center text-slate-500",children:r.jsx("p",{children:"Interactive Network Graph Placeholder"})})]})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-extrabold mb-6 border-l-4 border-deep-red pl-4",children:"From the Archives"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(s=>r.jsxs("div",{className:"group cursor-pointer",onClick:()=>e(s),children:[r.jsx("div",{className:"relative overflow-hidden rounded-lg aspect-video mb-2",children:r.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),r.jsx("p",{className:"text-xs font-semibold uppercase text-deep-red",children:s.category}),r.jsx("h4",{className:"font-semibold leading-tight group-hover:underline",children:s.title})]},s.id))})]})]})]})},HN=({onWatchMovie:e,onWatchTrailer:t})=>r.jsx("section",{className:"my-12",children:r.jsx(Ls,{title:"Now Streaming",items:Pt.slice(0,10),onWatchMovie:e,onWatchTrailer:t})}),GN=({isOpen:e,article:t,settings:n,onClose:s})=>{const[o,i]=w.useState(""),[l,c]=w.useState(!1),[f,u]=w.useState("");return w.useEffect(()=>{t&&e&&(async()=>{c(!0),u(""),i("");try{const h=await _5(t,n);for await(const p of h)i(v=>v+p)}catch(h){u(h.message||"Failed to generate summary.")}finally{c(!1)}})()},[t,n,e]),!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsx("div",{className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up",onClick:m=>m.stopPropagation(),children:r.jsxs("div",{className:"p-6",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:t.title}),r.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:[t.author,"  ",t.date]}),r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[r.jsxs("h3",{className:"font-bold text-lg mb-2 text-deep-red dark:text-gold",children:["AI Summary (",n.summaryLength,")"]}),f&&r.jsx("p",{className:"text-red-500",children:f}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap min-h-[5rem]",children:[o,l&&r.jsx("span",{className:"inline-block w-2 h-5 bg-slate-600 dark:bg-slate-300 animate-blink ml-1"})]})]})]})})})},$N=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 016-6h6a6 6 0 016 6v1h-3"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 21a3 3 0 100-6 3 3 0 000 6z"})]}),qN=({isOpen:e,article:t,settings:n,onClose:s})=>{const[o,i]=w.useState(""),[l,c]=w.useState(!1),[f,u]=w.useState("");return w.useEffect(()=>{t&&e&&(async()=>{c(!0),u(""),i("");try{const h=await F5(t,n);for await(const p of h)i(v=>v+p)}catch(h){u(h.message||"Failed to generate explanation.")}finally{c(!1)}})()},[t,e,n]),!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsx("div",{className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up",onClick:m=>m.stopPropagation(),children:r.jsxs("div",{className:"p-6",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3 text-deep-red dark:text-gold mb-4",children:[r.jsx($N,{className:"w-8 h-8"}),r.jsx("h3",{className:"font-bold text-2xl",children:"Explained Simply"})]}),r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[f&&r.jsx("p",{className:"text-red-500",children:f}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap min-h-[5rem]",children:[o,l&&r.jsx("span",{className:"inline-block w-2 h-5 bg-slate-600 dark:bg-slate-300 animate-blink ml-1"})]})]})]})})})},WN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),JN=({isOpen:e,article:t,settings:n,onClose:s})=>{const[o,i]=w.useState([]),[l,c]=w.useState(0),[f,u]=w.useState(null),[m,h]=w.useState(!1),[p,v]=w.useState(0),[k,N]=w.useState(!0),[j,x]=w.useState("");if(w.useEffect(()=>{e&&t&&(async()=>{N(!0),x(""),i([]),c(0),v(0),u(null),h(!1);try{const E=await V5(t,n);E&&E.length>0?i(E):x("Could not generate a quiz for this article.")}catch(E){x(E.message||"An error occurred.")}finally{N(!1)}})()},[e,t,n]),!e||!t)return null;const g=S=>{m||(u(S),S===o[l].correctAnswer&&(m||v(E=>E+1)),h(!0))},y=()=>{h(!1),u(null),c(S=>S+1)},C=()=>{c(0),u(null),h(!1),v(0)},b=()=>{if(k)return r.jsxs("div",{className:"flex justify-center items-center h-full",children:[r.jsx(qe,{})," ",r.jsx("span",{className:"ml-2",children:"Generating quiz..."})]});if(j)return r.jsx("div",{className:"text-center text-red-500",children:j});if(o.length===0)return r.jsx("div",{className:"text-center",children:"No quiz available."});if(l>=o.length)return r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Quiz Complete!"}),r.jsxs("p",{className:"text-lg mt-2",children:["Your score: ",p," / ",o.length]}),r.jsx("button",{onClick:C,className:"mt-4 px-4 py-2 bg-deep-red text-white rounded-md",children:"Try Again"})]});const S=o[l];return r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-bold text-slate-500",children:["Question ",l+1," of ",o.length]}),r.jsx("h4",{className:"text-xl font-semibold my-4",children:S.question}),r.jsx("div",{className:"space-y-3",children:S.options.map((E,A)=>{const T=E===S.correctAnswer,_=E===f;let D="bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600";return m&&(T?D="bg-green-500 text-white":_&&!T&&(D="bg-red-500 text-white")),r.jsx("button",{onClick:()=>g(E),disabled:m,className:`w-full text-left p-3 rounded-md transition-colors ${D}`,children:E},A)})})]})};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:s,children:r.jsxs("div",{className:"relative w-full max-w-xl bg-white dark:bg-slate-800 rounded-lg shadow-xl flex flex-col transform transition-all duration-300",style:{height:"clamp(400px, 80vh, 550px)"},onClick:S=>S.stopPropagation(),children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(rp,{className:"w-7 h-7 text-deep-red dark:text-gold"}),r.jsx("h2",{className:"text-2xl font-bold",children:"Article Quiz"})]})]}),r.jsx("div",{className:"flex-grow overflow-y-auto p-6",children:b()}),r.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 flex-shrink-0 flex justify-end",children:m&&l<o.length&&r.jsxs("button",{onClick:y,className:"px-4 py-2 bg-deep-red text-white rounded-md flex items-center gap-2",children:["Next ",r.jsx(WN,{className:"w-5 h-5"})]})})]})})},YN=({isOpen:e,article:t,settings:n,onClose:s})=>{const[o,i]=w.useState(""),[l,c]=w.useState(!1),[f,u]=w.useState("");return w.useEffect(()=>{t&&e&&(async()=>{c(!0),u(""),i("");try{const h=await z5(t,n);for await(const p of h)i(v=>v+p)}catch(h){u(h.message||"Failed to generate counterpoint.")}finally{c(!1)}})()},[t,e,n]),!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsx("div",{className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up",onClick:m=>m.stopPropagation(),children:r.jsxs("div",{className:"p-6",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3 text-deep-red dark:text-gold mb-4",children:[r.jsx(op,{className:"w-8 h-8"}),r.jsx("h3",{className:"font-bold text-2xl",children:"AI Counterpoint"})]}),r.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[f&&r.jsx("p",{className:"text-red-500",children:f}),r.jsxs("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:['An alternative viewpoint on "',t.title,'"']}),r.jsxs("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap min-h-[5rem]",children:[o,l&&r.jsx("span",{className:"inline-block w-2 h-5 bg-slate-600 dark:bg-slate-300 animate-blink ml-1"})]})]})]})})})},ON=({isOpen:e,article:t,settings:n,onClose:s})=>{const[o,i]=w.useState(""),[l,c]=w.useState(!1),[f,u]=w.useState("");w.useEffect(()=>{t&&e&&(async()=>{c(!0),u(""),i("");try{const p=await H5(t,n);for await(const v of p)i(k=>k+v)}catch(p){u(p.message||"Failed to generate analysis.")}finally{c(!1)}})()},[t,e,n]);const m=o.replace(/## (.*)/g,'<h2 class="text-xl font-bold text-deep-red dark:text-gold my-4">$1</h2>').replace(/\* \*(.*?)\* \*/g,"<strong>$1</strong>").replace(/\n/g,"<br />");return!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col",onClick:h=>h.stopPropagation(),style:{height:"clamp(400px, 80vh, 700px)"},children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dp,{className:"w-8 h-8 text-deep-red dark:text-gold"}),r.jsx("h3",{className:"font-bold text-2xl",children:"Behind the News"})]})]}),r.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[f&&r.jsx("p",{className:"text-red-500",children:f}),r.jsx("div",{className:"prose dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",dangerouslySetInnerHTML:{__html:m}}),l&&r.jsx("span",{className:"inline-block w-2 h-5 bg-slate-600 dark:bg-slate-300 animate-blink ml-1"})]})]})})},Hu=["Economist","Political Analyst","Sociologist","Technologist","Environmental Scientist"],KN=({isOpen:e,article:t,settings:n,onClose:s})=>{const[o,i]=w.useState(""),[l,c]=w.useState(!1),[f,u]=w.useState(""),[m,h]=w.useState(Hu[0]);w.useEffect(()=>{t&&e&&m&&(async()=>{c(!0),u(""),i("");try{const k=await G5(t,m,n);for await(const N of k)i(j=>j+N)}catch(k){u(k.message||"Failed to generate analysis.")}finally{c(!1)}})()},[t,e,m,n]);const p=w.useMemo(()=>o.replace(/### (.*)/g,'<h3 class="text-lg font-bold my-2">$1</h3>').replace(/## (.*)/g,'<h2 class="text-xl font-bold text-deep-red dark:text-gold my-4">$1</h2>').replace(/\* \*(.*?)\* \*/g,"<strong>$1</strong>").replace(/\* (.*)/g,'<li class="ml-4">$1</li>').replace(/\n/g,"<br />"),[o]);return!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col",onClick:v=>v.stopPropagation(),style:{height:"clamp(400px, 80vh, 700px)"},children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ip,{className:"w-8 h-8 text-deep-red dark:text-gold"}),r.jsx("h3",{className:"font-bold text-2xl",children:"Expert Analysis"})]}),r.jsx("div",{className:"mt-4",children:r.jsx("select",{value:m,onChange:v=>h(v.target.value),className:"w-full p-2 bg-slate-100 dark:bg-slate-700 rounded-md border-slate-300 dark:border-slate-600 font-semibold",children:Hu.map(v=>r.jsxs("option",{value:v,children:["Analyze as ",v]},v))})})]}),r.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[f&&r.jsx("p",{className:"text-red-500",children:f}),r.jsx("div",{className:"prose dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",dangerouslySetInnerHTML:{__html:p}}),l&&r.jsx("span",{className:"inline-block w-2 h-5 bg-slate-600 dark:bg-slate-300 animate-blink ml-1"})]})]})})},QN=({isOpen:e,article:t,settings:n,onClose:s})=>{var k;const[o,i]=w.useState([]),[l,c]=w.useState(""),[f,u]=w.useState(!1),[m,h]=w.useState(""),p=w.useRef(null);w.useEffect(()=>{e||setTimeout(()=>{i([]),c(""),u(!1),h("")},300)},[e]),w.useEffect(()=>{var N;(N=p.current)==null||N.scrollIntoView({behavior:"smooth"})},[o,f]);const v=async N=>{if(N.preventDefault(),!t||!l.trim()||f)return;const j={role:"user",content:l,id:Date.now()},x=[...o,j];i(x),c(""),u(!0),h("");const g={role:"model",content:"",id:Date.now()+1};i(y=>[...y,g]);try{const y=await q5(t,l,o,n);for await(const C of y)i(b=>{const S=b[b.length-1];return S&&S.role==="model"?(S.content+=C,[...b.slice(0,-1),S]):b})}catch(y){h(y.message||"Failed to generate response."),i(C=>{const b=C[C.length-1];return b&&b.role==="model"?(b.content="Sorry, an error occurred. Please try again.",[...C.slice(0,-1),b]):C})}finally{u(!1)}};return!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col",onClick:N=>N.stopPropagation(),style:{height:"clamp(500px, 80vh, 700px)"},children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:`https://i.pravatar.cc/150?u=${t.author.replace(/\s+/g,"")}`,alt:t.author,className:"w-10 h-10 rounded-full"}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-bold text-2xl",children:["Ask ",t.author]}),r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Chat with an AI persona of the author."})]})]})]}),r.jsxs("div",{className:"p-6 flex-grow overflow-y-auto space-y-4",children:[o.map(N=>r.jsx("div",{className:`flex ${N.role==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[85%] p-3 rounded-lg text-sm ${N.role==="user"?"bg-deep-red text-white":"bg-slate-100 dark:bg-slate-700"}`,children:N.content})},N.id)),f&&((k=o[o.length-1])==null?void 0:k.role)==="model"&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"p-3 rounded-lg bg-slate-100 dark:bg-slate-700",children:r.jsx("span",{className:"inline-block w-2 h-4 bg-slate-500 dark:bg-slate-300 animate-blink"})})}),m&&r.jsx("p",{className:"text-red-500 text-sm",children:m}),r.jsx("div",{ref:p})]}),r.jsx("form",{onSubmit:v,className:"p-4 border-t border-slate-200 dark:border-slate-700 flex-shrink-0",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:l,onChange:N=>c(N.target.value),placeholder:"e.g., What was the biggest challenge...",disabled:f,className:"w-full p-3 pr-12 bg-slate-100 dark:bg-slate-700 rounded-full border-transparent focus:ring-2 focus:ring-deep-red"}),r.jsx("button",{type:"submit",disabled:f||!l.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 w-9 h-9 bg-deep-red text-white rounded-full flex items-center justify-center disabled:bg-slate-400 dark:disabled:bg-slate-600 transition-colors",children:r.jsx(ps,{className:"w-5 h-5"})})]})})]})})},up=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),XN=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),ZN=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 20.25h12m-7.5-3.75v3.75m3.75-3.75v3.75m-7.5-3.75L3 16.5m18 0l-3.75 3.75M3 16.5V6a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 6v10.5m-18 0v-2.25m18 2.25v-2.25"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 12.75h9m-9-3h9"})]}),eC=["Latest on fusion energy","Future of AI in finance","Sci-Fi movies about space","Award-winning dramas"],tC=()=>r.jsxs("div",{className:"flex space-x-2 justify-center items-center",children:[r.jsx("span",{className:"sr-only",children:"Loading..."}),r.jsx("div",{className:"h-2 w-2 bg-slate-500 rounded-full animate-bounce",style:{animationDelay:"-0.3s"}}),r.jsx("div",{className:"h-2 w-2 bg-slate-500 rounded-full animate-bounce",style:{animationDelay:"-0.15s"}}),r.jsx("div",{className:"h-2 w-2 bg-slate-500 rounded-full animate-bounce"})]}),nC=({isOpen:e,onClose:t,articles:n,movies:s,onArticleSelect:o,onMovieSelect:i,onWatchTrailer:l,settings:c})=>{const[f,u]=w.useState(""),[m,h]=w.useState("idle"),[p,v]=w.useState("All"),[k,N]=w.useState(null),[j,x]=w.useState(""),g=w.useRef(null);w.useEffect(()=>{e?setTimeout(()=>{var b;return(b=g.current)==null?void 0:b.focus()},100):setTimeout(()=>{u(""),h("idle"),v("All"),N(null),x("")},300)},[e]);const y=w.useCallback(async b=>{if(b.trim()){u(b),h("loading"),v("All");try{const S=await M5(b,n,s,c);N(S),h("results")}catch(S){x(S.message||"An unexpected error occurred."),h("error")}}},[n,s,c]),C=()=>{if(m==="loading")return r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(tC,{}),r.jsx("p",{className:"mt-4 font-semibold",children:"AI is searching..."})]});if(m==="error")return r.jsxs("div",{className:"p-12 text-center text-red-500",children:[r.jsx("h3",{className:"font-semibold",children:"Search Failed"}),r.jsx("p",{children:j})]});if(m==="results"&&k){const b=n.filter(T=>{var _;return(_=k.relatedArticleIds)==null?void 0:_.includes(T.id)}),S=s.filter(T=>{var _;return(_=k.relatedMovieIds)==null?void 0:_.includes(T.id)}),E=n.filter(T=>T.title.toLowerCase().includes(f.toLowerCase())),A=s.filter(T=>T.title.toLowerCase().includes(f.toLowerCase()));return r.jsxs("div",{className:"p-4 sm:p-6 space-y-8 animate-fade-in",children:[p==="All"&&r.jsxs(r.Fragment,{children:[k.summary&&r.jsxs("section",{children:[r.jsxs("h3",{className:"flex items-center gap-2 font-bold mb-3 text-lg",children:[r.jsx(xe,{className:"w-5 h-5 text-gold"})," AI Answer"]}),r.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:k.summary.replace(/\n/g,"<br />")}})]}),S.length>0&&r.jsx($u,{movies:S,onMovieSelect:i,onWatchTrailer:l}),b.length>0&&r.jsx(Gu,{articles:b,onArticleSelect:o}),k.suggestedQuestions.length>0&&r.jsx(sC,{questions:k.suggestedQuestions,onQuestionClick:y})]}),p==="Articles"&&r.jsx(Gu,{articles:E,onArticleSelect:o}),p==="Movies & TV"&&r.jsx($u,{movies:A,onMovieSelect:i,onWatchTrailer:l,isFullWidth:!0})]})}return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("h3",{className:"flex items-center gap-2 font-bold",children:[r.jsx(xe,{className:"w-5 h-5 text-gold"})," Smart Queries"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:eC.map(b=>r.jsx("button",{onClick:()=>y(b),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-700 rounded-full text-sm font-semibold hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:b},b))})]})};return r.jsx("div",{className:`fixed inset-0 z-[80] bg-slate-100/80 dark:bg-navy/80 backdrop-blur-sm transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:t,children:r.jsx("div",{className:`w-full h-full transform transition-all duration-300 ${e?"opacity-100":"opacity-0"}`,onClick:b=>b.stopPropagation(),children:r.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:[r.jsxs("div",{className:"flex items-center h-20 gap-4",children:[r.jsxs("div",{className:"relative w-full",children:[r.jsx(Ya,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("form",{onSubmit:b=>{b.preventDefault(),y(f)},children:r.jsx("input",{ref:g,type:"text",value:f,onChange:b=>u(b.target.value),placeholder:"Search articles, movies, and more...",className:"w-full h-14 pl-12 pr-4 bg-white dark:bg-slate-800 rounded-full text-lg focus:outline-none focus:ring-2 focus:ring-deep-red dark:focus:ring-gold"})})]}),r.jsx("button",{onClick:t,className:"p-2 text-slate-500 hover:text-slate-900 dark:hover:text-white",children:r.jsx(O,{})})]}),r.jsxs("div",{className:"mt-2 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-lg shadow-lg max-h-[calc(100vh-120px)] overflow-y-auto",children:[m==="results"&&r.jsx("div",{className:"p-2 border-b border-slate-200 dark:border-slate-700 flex items-center gap-2",children:["All","Articles","Movies & TV"].map(b=>r.jsx("button",{onClick:()=>v(b),className:`px-3 py-1.5 rounded-full text-sm font-semibold ${p===b?"bg-deep-red text-white":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:b},b))}),C()]})]})})})},Gu=({articles:e,onArticleSelect:t})=>r.jsxs("section",{children:[r.jsxs("h3",{className:"flex items-center gap-2 font-bold mb-3 text-lg",children:[r.jsx(up,{className:"w-5 h-5"})," Articles"]}),r.jsx("div",{className:"space-y-4",children:e.map(n=>r.jsxs("button",{onClick:()=>t(n),className:"w-full flex items-start text-left gap-4 p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[r.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-20 h-20 object-cover rounded-md flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold line-clamp-2",children:n.title}),r.jsx("p",{className:"text-sm text-deep-red dark:text-gold",children:n.category})]})]},n.id))})]}),$u=({movies:e,onMovieSelect:t,onWatchTrailer:n,isFullWidth:s=!1})=>{const o=w.useRef(null);return s?r.jsx("section",{children:r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map(i=>r.jsx(Ao,{item:i,onWatchMovie:t,onWatchTrailer:n},i.id))})}):r.jsxs("section",{children:[r.jsxs("h3",{className:"flex items-center gap-2 font-bold mb-3 text-lg",children:[r.jsx(ZN,{className:"w-5 h-5"})," Movies & TV"]}),r.jsx("div",{className:"relative",children:r.jsx("div",{ref:o,className:"flex space-x-4 overflow-x-auto pb-4 -mx-6 px-6 scrollbar-hide",children:e.map(i=>r.jsx("div",{className:"w-36 sm:w-40 flex-shrink-0",children:r.jsx(Ao,{item:i,onWatchMovie:t,onWatchTrailer:n})},i.id))})})]})},sC=({questions:e,onQuestionClick:t})=>r.jsxs("section",{children:[r.jsxs("h3",{className:"flex items-center gap-2 font-bold mb-3 text-lg",children:[r.jsx(XN,{className:"w-5 h-5"})," Explore Further"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(n=>r.jsx("button",{onClick:()=>t(n),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-700 rounded-full text-sm font-semibold hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:n},n))})]}),fp=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l18 18"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 01-2.433-2.433M10.5 2.25a10.5 10.5 0 018.25 8.25"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a10.5 10.5 0 01-9-5.25"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5a3.75 3.75 0 01-3.75 3.75"})]}),rC=({isOpen:e,onClose:t,categories:n,onCategorySelect:s,onSubCategorySelect:o,onBookmarksClick:i,onOfflineClick:l,onSettingsClick:c})=>{const[f,u]=w.useState(null);w.useEffect(()=>{if(!e){const p=setTimeout(()=>u(null),300);return()=>clearTimeout(p)}},[e]);const m=p=>{p.subcategories&&p.subcategories.length>0?u(p):s(p.name)},h=p=>{f&&(s(f.name),o(p))};return e?r.jsx("div",{className:`fixed inset-0 z-[70] bg-white/80 dark:bg-navy/80 backdrop-blur-md transition-opacity duration-500 ease-in-out ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:t,children:r.jsx("div",{className:`absolute top-0 left-0 bottom-0 w-full max-w-4xl bg-white/90 dark:bg-navy/90 shadow-2xl transition-transform duration-500 ease-in-out ${e?"translate-x-0":"-translate-x-full"}`,onClick:p=>p.stopPropagation(),children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("header",{className:"flex items-center justify-between h-20 px-6 lg:px-8 border-b border-slate-200 dark:border-slate-800 flex-shrink-0",children:[r.jsx("h2",{className:"text-2xl font-black tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-gold to-deep-red",children:"Explore Sections"}),r.jsx("button",{onClick:t,"aria-label":"Close menu",className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:r.jsx(O,{})})]}),r.jsxs("main",{className:"flex-grow grid md:grid-cols-2 overflow-hidden",children:[r.jsx("nav",{className:"py-8 flex-grow overflow-y-auto border-r border-slate-200 dark:border-slate-800",children:r.jsx("ul",{className:"space-y-1 px-4 lg:px-6",children:n.map(p=>{const v=p.icon,k=p.subcategories&&p.subcategories.length>0;return r.jsx("li",{children:r.jsxs("a",{href:"#",onClick:N=>{N.preventDefault(),m(p)},onMouseEnter:()=>k&&u(p),className:`flex items-center justify-between py-3 px-4 text-xl font-semibold rounded-lg transition-colors ${(f==null?void 0:f.name)===p.name?"bg-slate-200 dark:bg-slate-800":"hover:bg-slate-100 dark:hover:bg-slate-800/50"} text-slate-700 dark:text-slate-300`,children:[r.jsxs("span",{className:"flex items-center gap-4",children:[r.jsx(v,{className:"w-6 h-6"}),p.name]}),k&&r.jsx(Qa,{className:"w-5 h-5 text-slate-400"})]})},p.name)})})}),r.jsx("div",{className:"py-8 pl-8 hidden md:block overflow-y-auto bg-slate-50/50 dark:bg-slate-900/20",children:f&&f.subcategories?r.jsxs("div",{className:"animate-fade-in",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6 text-deep-red dark:text-gold",children:f.name}),r.jsx("ul",{className:"space-y-3",children:f.subcategories.map(p=>r.jsx("li",{children:r.jsx("a",{href:"#",onClick:v=>{v.preventDefault(),h(p)},className:"block py-2 px-3 text-lg rounded-md hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:p})},p))})]}):r.jsxs("div",{className:"h-full flex flex-col justify-center items-center text-slate-400",children:[r.jsx("p",{className:"font-semibold text-lg",children:"Select a category"}),r.jsx("p",{children:"or explore your personal sections below."})]})})]}),r.jsx("footer",{className:"p-4 border-t border-slate-200 dark:border-slate-800 flex-shrink-0 bg-white/50 dark:bg-navy/50",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:()=>{i(),t()},className:"flex flex-col items-center justify-center p-3 text-sm font-semibold rounded-lg hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:[r.jsx(ls,{className:"w-6 h-6 mb-1"})," Bookmarks"]}),r.jsxs("button",{onClick:()=>{l(),t()},className:"flex flex-col items-center justify-center p-3 text-sm font-semibold rounded-lg hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:[r.jsx(fp,{className:"w-6 h-6 mb-1"})," Offline"]}),r.jsxs("button",{onClick:()=>{c(),t()},className:"flex flex-col items-center justify-center p-3 text-sm font-semibold rounded-lg hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:[r.jsx(zh,{className:"w-6 h-6 mb-1"})," Settings"]})]})})]})})}):null},oC=({isOpen:e,onClose:t,bookmarkedArticles:n,onToggleBookmark:s,onReadArticle:o})=>{const[i,l]=w.useState(!1);w.useEffect(()=>{e&&l(!0)},[e]);const c=()=>{e||l(!1)};if(!i)return null;const f=(u,m)=>{u.preventDefault(),o(m),t()};return r.jsx("div",{className:`fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm transition-opacity duration-300 ease-in-out ${e?"opacity-100":"opacity-0"}`,onClick:t,onTransitionEnd:c,children:r.jsxs("div",{className:`relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl flex flex-col transform transition-all duration-300 ease-in-out ${e?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:{height:"clamp(300px, 80vh, 700px)"},onClick:u=>u.stopPropagation(),children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:t,"aria-label":"Close bookmarks",className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Your Bookmarks"})]}),r.jsx("div",{className:"flex-grow overflow-y-auto p-6",children:n.length>0?r.jsx("div",{className:"space-y-4",children:n.map(u=>r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("img",{src:u.imageUrl,alt:u.title,className:"w-24 h-24 object-cover rounded-md flex-shrink-0"}),r.jsxs("div",{className:"flex-grow",children:[r.jsx("p",{className:"text-xs font-semibold uppercase text-deep-red",children:u.category}),r.jsx("h3",{className:"font-semibold leading-tight hover:underline",children:r.jsx("a",{href:"#",onClick:m=>f(m,u),children:u.title})}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[u.author,"  ",u.date]})]}),r.jsx("button",{onClick:()=>s(u.id),title:"Remove bookmark",className:"p-2 text-slate-500 hover:text-deep-red dark:hover:text-gold",children:r.jsx(ls,{filled:!0})})]},u.id))}):r.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 h-full flex flex-col justify-center items-center",children:[r.jsx(ls,{className:"w-12 h-12 mb-4 text-slate-300 dark:text-slate-600"}),r.jsx("h3",{className:"font-semibold text-lg",children:"No Bookmarks Yet"}),r.jsx("p",{children:"Click the bookmark icon on any article to save it for later."})]})})]})})},Wl=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),iC=({isOpen:e,onClose:t,offlineArticles:n,onDeleteArticle:s,onReadArticle:o})=>{const[i,l]=w.useState(!1);w.useEffect(()=>{e&&l(!0)},[e]);const c=()=>{e||l(!1)};return i?r.jsx("div",{className:`fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm transition-opacity duration-300 ease-in-out ${e?"opacity-100":"opacity-0"}`,onClick:t,onTransitionEnd:c,children:r.jsxs("div",{className:`relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl flex flex-col transform transition-all duration-300 ease-in-out ${e?"opacity-100 scale-100":"opacity-0 scale-95"}`,style:{height:"clamp(300px, 80vh, 700px)"},onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:[r.jsx("button",{onClick:t,"aria-label":"Close offline articles",className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Offline Articles"})]}),r.jsx("div",{className:"flex-grow overflow-y-auto p-6",children:n.length>0?r.jsx("div",{className:"space-y-4",children:n.map(f=>r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("img",{src:f.imageUrlBase64||f.imageUrl,alt:f.title,className:"w-24 h-24 object-cover rounded-md flex-shrink-0"}),r.jsxs("div",{className:"flex-grow",children:[r.jsx("p",{className:"text-xs font-semibold uppercase text-deep-red",children:f.category}),r.jsx("h3",{className:"font-semibold leading-tight hover:underline",children:r.jsx("a",{href:"#",onClick:u=>{u.preventDefault(),o(f),t()},children:f.title})}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[f.author,"  ",f.date]})]}),r.jsx("button",{onClick:()=>s(f.id),title:"Remove from offline",className:"p-2 text-slate-500 hover:text-red-500 flex-shrink-0",children:r.jsx(Wl,{})})]},f.id))}):r.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 h-full flex flex-col justify-center items-center",children:[r.jsx(fp,{className:"w-12 h-12 mb-4 text-slate-300 dark:text-slate-600"}),r.jsx("h3",{className:"font-semibold text-lg",children:"No Articles Saved"}),r.jsx("p",{children:"Click the download icon on any article to save it for reading without an internet connection."})]})})]})}):null},lC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12h3M4 8h2M4 16h2m5-8h10M9 16h10M12 4v16"})}),aC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 20 L12 4 L20 20 M7 14 H17"})}),cC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4 h4 M17 4 h4 M3 20 h18 M12 4 L4 20 M12 4 L20 20 M7 14 h10"})}),dC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),mp=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0h7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"})}),uC=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"8",rx:"1"}),r.jsx("rect",{x:"3",y:"13",width:"8",height:"8",rx:"1"}),r.jsx("rect",{x:"13",y:"13",width:"8",height:"8",rx:"1"})]}),fC=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("rect",{x:"3",y:"3",width:"8",height:"8",rx:"1"}),r.jsx("rect",{x:"13",y:"3",width:"8",height:"8",rx:"1"}),r.jsx("rect",{x:"3",y:"13",width:"8",height:"8",rx:"1"}),r.jsx("rect",{x:"13",y:"13",width:"8",height:"8",rx:"1"})]}),mC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),hC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),pC=({isOpen:e,onClose:t,title:n,message:s,onConfirm:o})=>e?r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:t,children:r.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-lg shadow-xl p-6 transform transition-all duration-300 animate-slide-up",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"sm:flex sm:items-start",children:[r.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50 sm:mx-0 sm:h-10 sm:w-10",children:r.jsx(hC,{className:"h-6 w-6 text-deep-red"})}),r.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[r.jsx("h3",{className:"text-lg leading-6 font-bold text-slate-900 dark:text-white",id:"modal-title",children:n}),r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s})})]})]}),r.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[r.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-deep-red text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:o,children:"Confirm"}),r.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-slate-300 dark:border-slate-600 shadow-sm px-4 py-2 bg-white dark:bg-slate-700 text-base font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold sm:mt-0 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"})]})]})}):null,gC=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),r.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),r.jsx("circle",{cx:"12",cy:"5.5",r:"1.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11.5c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})]}),xC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),vC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),yC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),wC=[{name:"Profile",icon:dC},{name:"Appearance",icon:Xh},{name:"Accessibility",icon:gC},{name:"Personalization",icon:mp},{name:"AI & Reading",icon:xe},{name:"Notifications",icon:mC},{name:"Data & Privacy",icon:Za}],Xe=({label:e,enabled:t,onChange:n,isPremium:s=!1,userIsPremium:o=!1})=>r.jsxs("div",{className:"flex justify-between items-center py-4",children:[r.jsxs("label",{className:"font-semibold flex items-center gap-2",children:[e,s&&!o&&r.jsx(gr,{className:"w-4 h-4 text-gold"})]}),r.jsx("button",{onClick:()=>s&&!o?null:n(!t),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${t?"bg-deep-red":"bg-slate-300 dark:bg-slate-600"} ${s&&!o?"opacity-50 cursor-not-allowed":""}`,disabled:s&&!o,children:r.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${t?"translate-x-6":"translate-x-1"}`})})]}),kC=({user:e,onUserChange:t,settings:n,onSettingsChange:s,onClose:o,onClearBookmarks:i,onClearOffline:l,onManageSubscription:c,readingHistory:f})=>{const[u,m]=w.useState(n),[h,p]=w.useState(e),[v,k]=w.useState("Profile"),[N,j]=w.useState(null),x=(T,_)=>{m(D=>({...D,[T]:_}))},g=(T,_)=>{p(D=>({...D,[T]:_}))},y=()=>{s(u),t(h),o()},C=u.subscriptionTier==="Premium",b=T=>{const _=u.contentPreferences,D=_.includes(T)?_.filter(V=>V!==T):[..._,T];x("contentPreferences",D)},S=T=>{T==="bookmarks"&&i(),T==="offline"&&l(),j(null)},E=T=>{x("notificationPreferences",{...u.notificationPreferences,[T]:!u.notificationPreferences[T]})},A=()=>{switch(v){case"Profile":return r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Your Profile"}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg flex flex-col sm:flex-row items-center gap-6",children:[r.jsxs("div",{className:"relative group w-24 h-24 flex-shrink-0",children:[r.jsx("img",{src:h.avatar,alt:"User",className:"w-24 h-24 rounded-full"}),r.jsx("button",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(xC,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"flex-grow",children:[r.jsx("h4",{className:"text-xl font-bold",children:h.name}),r.jsxs("p",{className:"text-slate-500",children:["@",h.handle]}),r.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Joined on ",new Date(h.joinDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),r.jsx("div",{className:"mt-2 self-start sm:self-center",children:r.jsxs("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${C?"bg-gold/20 text-gold":"bg-slate-200 dark:bg-slate-700"}`,children:[u.subscriptionTier," Member"]})})]}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"text-sm font-semibold",children:"Full Name"}),r.jsx("input",{type:"text",id:"name",value:h.name,onChange:T=>g("name",T.target.value),className:"w-full p-2 mt-1 bg-slate-100 dark:bg-slate-800 rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"bio",className:"text-sm font-semibold",children:"Bio"}),r.jsx("textarea",{id:"bio",value:h.bio,onChange:T=>g("bio",T.target.value),rows:3,className:"w-full p-2 mt-1 bg-slate-100 dark:bg-slate-800 rounded-lg"})]})]}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg",children:[r.jsxs("h4",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[r.jsx(vC,{})," Subscription & Billing"]}),r.jsx("button",{onClick:c,className:"w-full text-center py-3 bg-deep-red text-white font-bold rounded-lg hover:bg-red-700 transition-colors",children:"Manage Subscription"})]})]});case"Appearance":return r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Appearance"}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg space-y-6 divide-y divide-slate-200 dark:divide-slate-700",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center pb-6",children:[r.jsx("label",{className:"font-semibold mb-2 sm:mb-0",children:"Theme"}),r.jsxs("div",{className:"flex items-center gap-1 p-1 bg-slate-200 dark:bg-slate-700 rounded-full",children:[r.jsxs("button",{onClick:()=>x("theme","light"),className:`px-3 py-1.5 rounded-full text-sm font-semibold flex items-center gap-2 ${u.theme==="light"?"bg-white dark:bg-slate-800 shadow":""}`,children:[r.jsx(Hh,{className:"w-5 h-5"}),"Light"]}),r.jsxs("button",{onClick:()=>x("theme","dark"),className:`px-3 py-1.5 rounded-full text-sm font-semibold flex items-center gap-2 ${u.theme==="dark"?"bg-navy shadow text-white":""}`,children:[r.jsx(Gh,{className:"w-5 h-5"}),"Dark"]}),r.jsxs("button",{onClick:()=>x("theme","system"),className:`px-3 py-1.5 rounded-full text-sm font-semibold flex items-center gap-2 ${u.theme==="system"?"bg-white dark:bg-slate-800 shadow":""}`,children:[r.jsx($h,{className:"w-5 h-5"}),"System"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-6",children:[r.jsxs("label",{htmlFor:"font-size",className:"font-semibold flex items-center gap-2",children:[r.jsx(lC,{})," Font Size"]}),r.jsxs("div",{className:"flex items-center gap-4 w-1/2",children:[r.jsx("input",{type:"range",id:"font-size",min:"14",max:"20",step:"1",value:u.fontSize,onChange:T=>x("fontSize",parseInt(T.target.value,10)),className:"w-full"}),r.jsxs("span",{className:"font-bold",children:[u.fontSize,"px"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-6",children:[r.jsx("label",{className:"font-semibold",children:"Font Family"}),r.jsxs("div",{className:"flex items-center gap-2 p-1 bg-slate-200 dark:bg-slate-700 rounded-full",children:[r.jsxs("button",{onClick:()=>x("fontFamily","sans"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-semibold ${u.fontFamily==="sans"?"bg-white dark:bg-navy shadow":""}`,children:[r.jsx(aC,{})," Sans-serif"]}),r.jsxs("button",{onClick:()=>x("fontFamily","serif"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-semibold ${u.fontFamily==="serif"?"bg-white dark:bg-navy shadow":""}`,children:[r.jsx(cC,{})," Serif"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-6",children:[r.jsxs("label",{className:"font-semibold flex items-center gap-2",children:[r.jsx(yC,{})," Information Density"]}),r.jsxs("div",{className:"flex items-center gap-1 p-1 bg-slate-200 dark:bg-slate-700 rounded-full",children:[r.jsx("button",{onClick:()=>x("informationDensity","Comfortable"),className:`px-3 py-1.5 rounded-full text-sm font-semibold ${u.informationDensity==="Comfortable"?"bg-white dark:bg-navy shadow":""}`,children:"Comfortable"}),r.jsx("button",{onClick:()=>x("informationDensity","Compact"),className:`px-3 py-1.5 rounded-full text-sm font-semibold ${u.informationDensity==="Compact"?"bg-white dark:bg-navy shadow":""}`,children:"Compact"})]})]})]})]});case"Personalization":return r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Personalization"}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[r.jsx(mp,{})," Content Preferences"]}),r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:'Select your favorite topics to personalize your "For You" feed.'}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Dl.filter(T=>T.name!=="For You"&&T.name!=="All").map(T=>r.jsx("button",{onClick:()=>b(T.name),className:`px-3 py-1.5 rounded-full text-sm font-semibold transition-colors ${u.contentPreferences.includes(T.name)?"bg-deep-red text-white":"bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:T.name},T.name))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg mb-3",children:"Homepage Layout"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>x("homepageLayout","Standard"),className:`p-4 border-2 rounded-lg text-center transition-colors ${u.homepageLayout==="Standard"?"border-deep-red bg-red-50 dark:bg-red-900/20":"border-slate-300 dark:border-slate-700 hover:border-deep-red"}`,children:[r.jsx(uC,{className:"w-16 h-16 mx-auto text-slate-400"}),r.jsx("p",{className:"font-semibold mt-2",children:"Standard"})]}),r.jsxs("button",{onClick:()=>x("homepageLayout","Dashboard"),className:`p-4 border-2 rounded-lg text-center transition-colors ${u.homepageLayout==="Dashboard"?"border-deep-red bg-red-50 dark:bg-red-900/20":"border-slate-300 dark:border-slate-700 hover:border-deep-red"}`,children:[r.jsx(fC,{className:"w-16 h-16 mx-auto text-slate-400"}),r.jsx("p",{className:"font-semibold mt-2",children:"Dashboard"})]})]})]})]}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg space-y-1 divide-y divide-slate-200 dark:divide-slate-700",children:[r.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Homepage Sections"}),r.jsx(Xe,{label:"Show Mahama 360",enabled:u.showMahama360,onChange:T=>x("showMahama360",T)}),r.jsx(Xe,{label:"Show Data Insights",enabled:u.showDataInsights,onChange:T=>x("showDataInsights",T)}),r.jsx(Xe,{label:"Show Innovation Timeline",enabled:u.showInnovationTimelines,onChange:T=>x("showInnovationTimelines",T)}),r.jsx(Xe,{label:"Show Now Streaming",enabled:u.showNowStreaming,onChange:T=>x("showNowStreaming",T)})]})]});case"AI & Reading":return r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsx("h3",{className:"text-2xl font-bold",children:"AI & Reading"}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg space-y-4 divide-y divide-slate-200 dark:divide-slate-700",children:[r.jsxs("div",{className:"flex justify-between items-center pt-4 first:pt-0",children:[r.jsx("label",{className:"font-semibold",children:"AI Model Preference"}),r.jsxs("div",{className:"flex items-center gap-1 p-1 bg-slate-200 dark:bg-slate-700 rounded-full",children:[r.jsx("button",{onClick:()=>x("aiModelPreference","Speed"),className:`px-3 py-1.5 rounded-full text-sm font-semibold ${u.aiModelPreference==="Speed"?"bg-white dark:bg-navy shadow":""}`,children:"Speed"}),r.jsxs("button",{onClick:()=>C&&x("aiModelPreference","Quality"),className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-semibold transition-colors ${u.aiModelPreference==="Quality"?"bg-white dark:bg-navy shadow":""} ${C?"":"opacity-50 cursor-not-allowed"}`,disabled:!C,children:["Quality ",!C&&r.jsx(gr,{className:"w-4 h-4 text-gold"})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4",children:[r.jsx("label",{className:"font-semibold",children:"AI Summary Length"}),r.jsxs("div",{className:"flex items-center gap-1 p-1 bg-slate-200 dark:bg-slate-700 rounded-full",children:[r.jsx("button",{onClick:()=>x("summaryLength","short"),className:`px-3 py-1.5 rounded-full text-sm font-semibold ${u.summaryLength==="short"?"bg-white dark:bg-navy shadow":""}`,children:"Short"}),r.jsx("button",{onClick:()=>x("summaryLength","medium"),className:`px-3 py-1.5 rounded-full text-sm font-semibold ${u.summaryLength==="medium"?"bg-white dark:bg-navy shadow":""}`,children:"Medium"}),r.jsx("button",{onClick:()=>x("summaryLength","long"),className:`px-3 py-1.5 rounded-full text-sm font-semibold ${u.summaryLength==="long"?"bg-white dark:bg-navy shadow":""}`,children:"Long"})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4",children:[r.jsx("label",{className:"font-semibold",children:"Text-to-Speech Voice"}),r.jsx("select",{value:u.ttsVoice,onChange:T=>x("ttsVoice",T.target.value),className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-md border-slate-300 dark:border-slate-600 font-semibold max-w-[50%]",children:Px.map(T=>r.jsx("option",{value:T.value,children:T.name},T.value))})]}),r.jsx(Xe,{label:"Interactive Glossary",enabled:u.interactiveGlossary,onChange:T=>x("interactiveGlossary",T)})]})]});case"Notifications":return r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Notifications"}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg space-y-1 divide-y divide-slate-200 dark:divide-slate-700",children:[r.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Push Notifications"}),r.jsx(Xe,{label:"Breaking News Alerts",enabled:u.notificationPreferences.breakingNews,onChange:()=>E("breakingNews")}),r.jsx(Xe,{label:"Daily Digest",enabled:u.notificationPreferences.dailyDigest,onChange:()=>E("dailyDigest"),isPremium:!0,userIsPremium:C}),r.jsx(Xe,{label:"AI Recommendations",enabled:u.notificationPreferences.aiRecommendations,onChange:()=>E("aiRecommendations"),isPremium:!0,userIsPremium:C})]})]});case"Data & Privacy":return r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Data & Privacy"}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg space-y-1 divide-y divide-slate-200 dark:divide-slate-700",children:[r.jsx(Xe,{label:"Public Profile",enabled:h.isProfilePublic,onChange:T=>g("isProfilePublic",T)}),r.jsx("div",{className:"py-4",children:r.jsx("p",{className:"text-sm text-slate-500",children:"When your profile is public, others can see your name, handle, bio, and activity. When private, this information is hidden."})})]}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg space-y-4",children:[r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Manage your locally stored data. These actions cannot be undone."}),r.jsxs("button",{onClick:()=>j("bookmarks"),className:"w-full flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[r.jsx("span",{className:"font-semibold",children:"Clear All Bookmarks"}),r.jsx(Wl,{className:"w-5 h-5 text-red-500"})]}),r.jsxs("button",{onClick:()=>j("offline"),className:"w-full flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[r.jsx("span",{className:"font-semibold",children:"Clear All Offline Articles"}),r.jsx(Wl,{className:"w-5 h-5 text-red-500"})]})]}),r.jsx("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg",children:r.jsx("button",{className:"w-full text-center py-3 bg-slate-200 dark:bg-slate-700 font-bold rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Export My Data"})})]});case"Accessibility":return r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsx("h3",{className:"text-2xl font-bold",children:"Accessibility"}),r.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800/50 rounded-lg space-y-1 divide-y divide-slate-200 dark:divide-slate-700",children:[r.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 pb-4",children:"Customize the experience to meet your needs."}),r.jsx(Xe,{label:"Dyslexia-Friendly Font",enabled:u.dyslexiaFont||!1,onChange:T=>x("dyslexiaFont",T)}),r.jsx(Xe,{label:"High Contrast Mode",enabled:u.highContrast||!1,onChange:T=>x("highContrast",T)}),r.jsx(Xe,{label:"Reduce Motion",enabled:u.reduceMotion||!1,onChange:T=>x("reduceMotion",T)})]})]});default:return null}};return r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[r.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 dark:text-white",children:"Settings"}),r.jsxs("div",{className:"flex items-center gap-4 self-end",children:[r.jsx("button",{onClick:o,className:"px-6 py-3 bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-white rounded-lg font-semibold hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:y,className:"px-6 py-3 bg-deep-red text-white rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Save Changes"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsx("aside",{className:"md:col-span-1",children:r.jsx("nav",{className:"space-y-2 md:sticky top-28",children:wC.map(T=>{const _=T.icon,D=v===T.name;return r.jsxs("button",{onClick:()=>k(T.name),className:`w-full flex items-center gap-3 p-3 rounded-lg text-left font-semibold transition-all duration-200 transform ${D?"bg-deep-red/10 text-deep-red dark:bg-gold/20 dark:text-gold md:scale-105":"hover:bg-slate-100 dark:hover:bg-slate-800 md:hover:translate-x-1 text-slate-600 dark:text-slate-300"}`,children:[r.jsx(_,{className:`w-6 h-6 ${D?"":"text-slate-500"}`}),r.jsx("span",{children:T.name})]},T.name)})})}),r.jsx("main",{className:"md:col-span-3",children:A()})]}),r.jsx(pC,{isOpen:!!N,onClose:()=>j(null),onConfirm:()=>S(N),title:`Clear All ${N==="bookmarks"?"Bookmarks":"Offline Articles"}?`,message:"This action is permanent and cannot be undone. Are you sure you want to proceed?"})]})},NC=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",...e,children:[r.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),r.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),r.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.223,0-9.657-3.356-11.303-8H6.306C9.656,39.663,16.318,44,24,44z"}),r.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l6.19,5.238C39.902,35.61,44,30.45,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),CC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 50 50",fill:"currentColor",...e,children:r.jsx("path",{d:"M 25.035156 10.375 C 21.652156 10.375 18.231781 12.417328 16.324219 15.421875 C 14.416656 18.426422 14.444469 22.124359 16.402344 25.125 C 18.360219 28.125641 21.725828 30.125 25.132812 30.125 C 25.210812 30.125 25.289188 30.121484 25.367188 30.117188 C 26.166188 30.095187 27.241313 29.897328 28.3125 29.5 C 29.383688 29.102672 30.443016 28.532391 31.5 27.75 C 32.556984 26.967609 33.453313 26.057219 34.328125 25 C 34.460125 24.815 34.562328 24.630859 34.625 24.5 C 34.331 24.23 34.027531 23.9535 33.71875 23.671875 C 32.32175 22.404875 31.5 20.625 31.5 18.75 C 31.5 16.031 33.375 14.25 36 14.25 C 37.104 14.25 38.196125 14.654813 39 15.375 C 38.986 15.395 36.946328 17.039609 36.917969 19.53125 C 36.887969 22.18825 39.029 23.931 39.029 23.931 C 39.029 23.931 40.5 22.5 40.5 19.5 C 40.5 15.334 37.5955 12.75 34.96875 12.75 C 32.54875 12.75 30.29375 14.16 29.03125 14.16 C 27.76875 14.16 25.867188 12.75 23.96875 12.75 C 21.96275 12.75 19.645719 14.075594 18.15625 16.59375 C 15.81125 20.25275 17.151172 25.75 20.25 29.25 C 21.603 30.841 23.272813 32.125 25.125 32.125 C 26.838 32.125 27.875 31.282 29.25 31.282 C 30.625 31.282 31.597 32.125 33.25 32.125 C 35.045 32.125 36.634328 30.884578 37.875 29.4375 C 38.307 28.9135 38.646813 28.324109 38.875 27.75 C 38.625 27.711 38.375 27.625 38.125 27.5 C 37.168 27.145 36.142813 26.875 35.125 26.875 C 34.107187 26.875 32.968 27.145 32 27.5 C 31.032 27.855 30.134187 28.367609 29.25 29 C 28.365813 29.632391 27.468 30.125 26.5 30.375 C 25.761 30.562 25.328125 30.583 25.125 30.583 C 21.875828 30.583 18.660219 28.668641 16.828125 25.84375 C 14.996031 23.018859 14.969469 19.508578 16.71875 16.71875 C 18.468031 13.928922 21.821156 11.875 25.035156 11.875 Z M 26.25 4 C 28.983 4.014 31.14325 5.5188437 32.40625 7.59375 C 33.66925 9.6686563 33.723 12.279 32.53125 14.40625 C 32.53125 14.40625 31.5 12.75 29.25 12.75 C 27.12 12.75 25.03125 14.1875 23.8125 14.1875 C 22.59375 14.1875 20.687 12.75 18.75 12.75 C 15.658 12.75 12.519531 15.459031 12.519531 18.96875 C 12.519531 23.14975 15.545828 26.442813 18.40625 28.90625 C 16.48625 26.35525 16.275531 23.014359 17.75 20.59375 C 19.578 17.52575 22.5 15.5 25.5 15.5 C 25.922 15.5 26.335875 15.546172 26.75 15.625 C 26.75 15.625 27.75 14 29.5 14 C 30.493 14 31.30575 14.363844 31.8125 14.8125 C 30.8245 13.3885 29.251 12.5 27.5 12.5 C 27.5 12.5 28.5 10.75 26.5 10.75 C 24.321 10.75 23.09375 12.28125 23.09375 12.28125 C 21.65575 10.21925 18.983 9.003 16.25 9 C 14.538 8.995 12.924844 9.5398125 11.6875 10.5 C 11.7065 10.488 11.7275 10.479 11.75 10.46875 C 14.218 8.54575 17.243 7.5 20.25 7.5 C 22.281 7.5 24.25 8.136 26 9.25 C 26.069 9.176 26.125 9.125 26.125 9.125 C 27.022 8.04 28.259 7.25 29.625 7.25 C 29.932 7.25 30.229891 7.288 30.5 7.34375 C 29.351891 5.34975 27.172 4 24.75 4 C 25.228 4 25.75 4 26.25 4 Z"})}),bC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),hp=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),SC=({isOpen:e,onClose:t,onLogin:n})=>{const[s,o]=w.useState("login");if(w.useEffect(()=>{if(!e){const f=setTimeout(()=>o("login"),300);return()=>clearTimeout(f)}},[e]),!e)return null;const i=f=>{f.preventDefault(),n()},l=({icon:f,text:u})=>r.jsxs("button",{className:"w-full flex items-center justify-center gap-3 py-3 px-4 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-300",children:[f,r.jsx("span",{className:"font-semibold text-sm",children:u})]}),c=({icon:f,type:u,placeholder:m})=>r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400",children:f}),r.jsx("input",{type:u,placeholder:m,required:!0,className:"w-full p-3 pl-12 bg-slate-100 dark:bg-slate-800 rounded-lg focus:ring-2 focus:ring-deep-red border-transparent focus:border-transparent transition"})]});return r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm transition-opacity duration-300 animate-fade-in",onClick:t,children:r.jsxs("div",{className:"relative w-full max-w-4xl bg-white dark:bg-navy text-slate-900 dark:text-white rounded-2xl shadow-xl transform transition-all duration-300 animate-slide-up overflow-hidden flex",onClick:f=>f.stopPropagation(),style:{minHeight:"600px"},children:[r.jsxs("div",{className:"hidden md:block w-1/2 relative p-8 text-white",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gold via-deep-red to-navy animate-gradient-shift",style:{backgroundSize:"200% 200%"}}),r.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full",children:[r.jsxs("div",{children:[r.jsx(jo,{className:"w-12 h-12"}),r.jsx("h2",{className:"text-3xl font-bold mt-4",children:"A New Era of News"}),r.jsx("p",{className:"mt-2 opacity-80",children:"Intelligent, personalized, and always ahead."})]}),r.jsxs("p",{className:"text-xs opacity-60",children:[" ",new Date().getFullYear()," Mahama News Hub. All Rights Reserved."]})]})]}),r.jsxs("div",{className:"w-full md:w-1/2 p-8 overflow-y-auto",children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Welcome"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:s==="login"?"Sign in to continue":"Create an account to get started"})]}),r.jsxs("div",{className:"relative mb-6",children:[r.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 rounded-full p-1",children:[r.jsx("button",{onClick:()=>o("login"),className:`flex-1 py-2 font-semibold text-center transition-colors rounded-full ${s==="login"?"":"text-slate-500"}`,children:"Login"}),r.jsx("button",{onClick:()=>o("signup"),className:`flex-1 py-2 font-semibold text-center transition-colors rounded-full ${s==="signup"?"":"text-slate-500"}`,children:"Sign Up"})]}),r.jsx("div",{className:"absolute top-1 bottom-1 bg-white dark:bg-navy shadow-md rounded-full transition-all duration-300 ease-in-out",style:{width:"calc(50% - 4px)",transform:`translateX(${s==="login"?"4px":"calc(100% - 4px)"})`}})]}),r.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s==="signup"&&r.jsx(c,{icon:r.jsx(Ko,{}),type:"text",placeholder:"Full Name"}),r.jsx(c,{icon:r.jsx(bC,{}),type:"email",placeholder:"Email Address"}),r.jsx(c,{icon:r.jsx(hp,{}),type:"password",placeholder:"Password"}),s==="login"&&r.jsx("div",{className:"text-right",children:r.jsx("a",{href:"#",className:"text-sm font-semibold text-deep-red hover:underline",children:"Forgot Password?"})}),r.jsx("button",{type:"submit",className:"w-full py-3 bg-deep-red text-white font-bold rounded-lg hover:bg-red-700 transition-colors transform hover:scale-105",children:s==="login"?"Login":"Create Account"})]}),r.jsxs("div",{className:"flex items-center my-6",children:[r.jsx("hr",{className:"flex-grow border-slate-200 dark:border-slate-700"}),r.jsx("span",{className:"mx-4 text-xs font-semibold text-slate-400 uppercase",children:"Or"}),r.jsx("hr",{className:"flex-grow border-slate-200 dark:border-slate-700"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(l,{icon:r.jsx(NC,{className:"w-6 h-6"}),text:"Continue with Google"}),r.jsx(l,{icon:r.jsx(CC,{className:"w-6 h-6 text-black dark:text-white"}),text:"Continue with Apple"})]})]})]})})},TC=({movie:e,onClose:t,onWatchMovie:n,onDeepDive:s})=>{const o=Pt.filter(i=>i.id!==e.id).slice(0,4);return r.jsxs("div",{children:[r.jsx("button",{onClick:t,className:"mb-4 text-sm font-semibold text-deep-red dark:text-gold hover:underline",children:" Back to Home"}),r.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-lg shadow-xl overflow-hidden",children:[r.jsx("div",{className:"aspect-video bg-navy",children:r.jsx("iframe",{src:e.trailerUrl,title:e.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"w-full h-full"})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-slate-900 dark:text-white mb-2",children:e.title}),r.jsxs("div",{className:"flex items-center gap-4 text-slate-500 dark:text-slate-400 mb-4",children:[r.jsx("span",{children:e.year}),r.jsx("span",{children:e.rating}),r.jsx("span",{children:e.duration})]}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:e.description}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("button",{onClick:()=>s(e),className:"flex items-center gap-2 bg-gold/20 hover:bg-gold/30 text-gold font-bold py-3 px-6 rounded-full transition-transform transform hover:scale-105 duration-300",children:[r.jsx(xe,{className:"w-6 h-6"})," AI Deep Dive"]})})]})]}),r.jsxs("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-2xl font-extrabold mb-4 border-l-4 border-gold pl-3",children:"You Might Also Like"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:o.map(i=>r.jsxs("div",{className:"group relative cursor-pointer",onClick:()=>n(i),children:[r.jsx("div",{className:"aspect-[2/3] rounded-lg overflow-hidden shadow-md",children:r.jsx("img",{src:i.posterUrl,alt:i.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),r.jsx("h3",{className:"text-sm font-semibold mt-2 group-hover:underline",children:i.title})]},i.id))})]})]})},EC=({plan:e,onSelect:t,billingCycle:n})=>{const s=e.name==="Premium",{t:o}=G();parseFloat(e.price.replace("$",""));const i=parseFloat(e.priceYearly.replace("$","")),l=n==="annually"&&s?`$${(i/12).toFixed(2)}`:e.price,c=s?" / month":"",f=s&&n==="annually"?r.jsx("span",{className:"line-through text-slate-400 text-lg ml-2",children:e.price}):null;return r.jsxs("div",{className:`border-2 rounded-xl p-6 relative h-full flex flex-col transition-all duration-300 ${e.isRecommended?"border-gold shadow-gold/20 shadow-lg":"border-slate-200 dark:border-slate-700"}`,children:[e.isRecommended&&r.jsxs("div",{className:"absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2 bg-gold text-white px-3 py-1 text-sm font-bold rounded-full flex items-center gap-1",children:[r.jsx(gr,{className:"w-4 h-4"}),"Recommended"]}),r.jsxs("div",{className:"flex-grow",children:[r.jsx("h3",{className:"text-2xl font-bold",children:e.name}),r.jsxs("div",{className:"flex items-baseline my-4",children:[r.jsx("span",{className:"text-4xl font-extrabold",children:l}),r.jsx("span",{className:"text-base font-normal text-slate-500",children:c}),f]}),s&&n==="annually"&&r.jsxs("p",{className:"text-sm text-slate-500 -mt-3 mb-4",children:["Billed as ",e.priceYearly," annually."]}),r.jsx("ul",{className:"my-6 space-y-3",children:e.features.map((u,m)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Ka,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:o(u)})]},m))})]}),r.jsx("button",{onClick:t,className:`w-full py-3 font-bold rounded-lg transition-transform transform ${e.isRecommended?"bg-gold text-white hover:bg-amber-500 hover:scale-105":"bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:e.name==="Free"?"Current Plan":"Upgrade to Premium"})]})},jC=({isOpen:e,onClose:t,onSubscribe:n})=>{const[s,o]=w.useState("monthly");if(!e)return null;const i=l=>{if(l==="Free"){n("Free",{name:"Free",price:"Free"});return}const c=kd.find(m=>m.name==="Premium"),f=s==="annually"?c.priceYearly:c.price,u=s==="annually"?"/year":"/month";n("Premium",{name:`Premium (${s})`,price:`${f}${u}`})};return r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:t,children:r.jsxs("div",{className:"relative w-full max-w-3xl bg-white dark:bg-navy rounded-2xl shadow-xl transform transition-all duration-300 animate-slide-up",onClick:l=>l.stopPropagation(),children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold",children:"Upgrade Your Experience"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Unlock powerful AI features and an ad-free experience."})]}),r.jsxs("div",{className:"flex justify-center items-center mb-8",children:[r.jsx("span",{className:`font-semibold transition-colors ${s==="monthly"?"text-deep-red dark:text-gold":""}`,children:"Monthly"}),r.jsx("button",{onClick:()=>o(s==="monthly"?"annually":"monthly"),className:`relative inline-flex items-center h-7 rounded-full w-12 mx-4 transition-colors ${s==="annually"?"bg-deep-red":"bg-slate-300 dark:bg-slate-600"}`,children:r.jsx("span",{className:`inline-block w-5 h-5 transform bg-white rounded-full transition-transform ${s==="annually"?"translate-x-6":"translate-x-1"}`})}),r.jsx("span",{className:`font-semibold transition-colors ${s==="annually"?"text-deep-red dark:text-gold":""}`,children:"Annually"}),r.jsx("span",{className:"ml-2 bg-gold/20 text-gold text-xs font-bold px-2 py-1 rounded-full",children:"Save 15%"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:kd.map(l=>r.jsx(EC,{plan:l,onSelect:()=>i(l.name),billingCycle:s},l.name))})]})]})})},pp=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h10.5a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H4.5A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z"})}),AC=({isOpen:e,onClose:t,settings:n,articles:s,onPlayBriefing:o,onGenerateVideo:i})=>{const[l,c]=w.useState(""),[f,u]=w.useState(!1),[m,h]=w.useState(""),[p,v]=w.useState(n);w.useEffect(()=>{e&&v(n)},[e,n]);const k=()=>{(async()=>{u(!0),h(""),c("");const g=s.filter(y=>p.contentPreferences.length>0?p.contentPreferences.includes(y.category):!0).slice(0,5);if(g.length===0){h("No articles found for your preferred topics to generate a briefing."),u(!1);return}try{const y=await J5(g,p);c(y)}catch(y){h(y.message||"Failed to generate briefing.")}finally{u(!1)}})()},N=()=>{if(!l)return;const x={id:-1,title:"Your Daily News Briefing",author:"Mahama News Hub AI",content:l,category:"Briefing",date:new Date().toLocaleDateString(),excerpt:"A summary of today's top stories, generated just for you.",imageUrl:"https://picsum.photos/seed/briefing/400/400",keyTakeaways:[],region:"Global",sentiment:"Neutral"};o(x),t()},j=()=>{l&&(i(l),t())};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:t,children:r.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col",onClick:x=>x.stopPropagation(),style:{minHeight:"300px"},children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Xa,{className:"w-8 h-8 text-deep-red dark:text-gold"}),r.jsx("h3",{className:"font-bold text-2xl",children:"AI News Briefing"})]})]}),r.jsx("div",{className:"p-6 flex-grow flex flex-col items-center justify-center",children:f?r.jsxs(r.Fragment,{children:[r.jsx(qe,{className:"w-12 h-12 text-deep-red"}),r.jsx("p",{className:"mt-4 text-lg font-semibold",children:"Generating your personalized briefing..."}),r.jsx("p",{className:"text-slate-500",children:"This may take a moment."})]}):m?r.jsx("p",{className:"text-red-500 text-center",children:m}):l?r.jsxs("div",{className:"text-center",children:[r.jsx("h4",{className:"text-xl font-bold",children:"Your Briefing is Ready!"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 my-4",children:"Listen to a summary of today's top stories based on your interests, or watch an AI news anchor deliver your briefing."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs("button",{onClick:N,className:"flex items-center justify-center gap-3 px-6 py-3 bg-deep-red text-white font-bold rounded-full text-lg transform hover:scale-105 transition-transform",children:[r.jsx(Xo,{className:"w-8 h-8"}),"Listen Now"]}),r.jsxs("button",{onClick:j,className:"flex items-center justify-center gap-3 px-6 py-3 bg-slate-600 text-white font-bold rounded-full text-lg transform hover:scale-105 transition-transform",children:[r.jsx(pp,{className:"w-8 h-8"}),"Watch with AI Anchor"]})]})]}):r.jsxs("div",{className:"text-center w-full max-w-sm",children:[r.jsx("h4",{className:"text-xl font-bold",children:"Personalize Your Briefing"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 my-4",children:"Choose a tone for your AI news anchor."}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"persona-select",className:"sr-only",children:"AI Voice Personality"}),r.jsxs("select",{id:"persona-select",value:p.aiVoicePersonality,onChange:x=>v(g=>({...g,aiVoicePersonality:x.target.value})),className:"w-full p-2 bg-slate-100 dark:bg-slate-700 rounded-md border-slate-300 dark:border-slate-600 font-semibold",children:[r.jsx("option",{value:"Friendly",children:"Friendly & Casual"}),r.jsx("option",{value:"Professional",children:"Professional & Formal"}),r.jsx("option",{value:"Witty",children:"Witty & Engaging"})]})]}),r.jsx("button",{onClick:k,className:"w-full flex items-center justify-center gap-3 px-6 py-3 bg-deep-red text-white font-bold rounded-lg text-lg transform hover:scale-105 transition-transform",children:"Generate Briefing"})]})})]})}):null},gp=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 016 0v8.25a3 3 0 01-3 3z"})});function IC(e){let t="";const n=e.byteLength;for(let s=0;s<n;s++)t+=String.fromCharCode(e[s]);return btoa(t)}function xp(e){const t=atob(e),n=t.length,s=new Uint8Array(n);for(let o=0;o<n;o++)s[o]=t.charCodeAt(o);return s}async function vp(e,t,n,s){const o=new Int16Array(e.buffer),i=o.length/s,l=t.createBuffer(s,i,n);for(let c=0;c<s;c++){const f=l.getChannelData(c);for(let u=0;u<i;u++)f[u]=o[u*s+c]/32768}return l}const qu=({isAnimating:e=!1})=>r.jsxs("div",{className:"w-8 h-8 flex items-center justify-between",children:[r.jsx("span",{className:`w-1.5 h-2 rounded-full bg-current ${e?"animate-equalizer":""}`,style:{animationDelay:"0s"}}),r.jsx("span",{className:`w-1.5 h-2 rounded-full bg-current ${e?"animate-equalizer":""}`,style:{animationDelay:"0.2s"}}),r.jsx("span",{className:`w-1.5 h-2 rounded-full bg-current ${e?"animate-equalizer":""}`,style:{animationDelay:"0.4s"}}),r.jsx("span",{className:`w-1.5 h-2 rounded-full bg-current ${e?"animate-equalizer":""}`,style:{animationDelay:"0.6s"}})]}),_C=({isOpen:e,onClose:t})=>{const[n,s]=w.useState(!1),[o,i]=w.useState(!1),[l,c]=w.useState(null),[f,u]=w.useState([]),[m,h]=w.useState(""),p=w.useRef(),v=w.useRef(),k=w.useRef(),N=w.useRef(),j=w.useRef(null),x=w.useRef(0),g=w.useRef(new Set),y=w.useRef(null),C=w.useRef(""),b=w.useRef("");w.useEffect(()=>{var T;(T=y.current)==null||T.scrollIntoView({behavior:"smooth"})},[f,m]);const S=w.useCallback(()=>{var T;(T=j.current)==null||T.then(_=>_==null?void 0:_.close()),k.current&&(k.current.getTracks().forEach(_=>_.stop()),k.current=void 0),N.current&&(N.current.disconnect(),N.current=void 0),p.current&&p.current.state!=="closed"&&p.current.close(),v.current&&v.current.state!=="closed"&&v.current.close(),i(!1),s(!1),j.current=null},[]),E=()=>{S(),t()};w.useEffect(()=>(e||S(),()=>{S()}),[e,S]);const A=async()=>{s(!0),c(null),u([]),h(""),C.current="",b.current="",x.current=0,g.current.clear();try{const T=await navigator.mediaDevices.getUserMedia({audio:!0});k.current=T,p.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),v.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});const _=new Dh({apiKey:void 0});j.current=_.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",config:{responseModalities:[is.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Zephyr"}}},inputAudioTranscription:{},outputAudioTranscription:{},systemInstruction:"You are a helpful and friendly news assistant for Mahama News Hub. You are a world-class AI. Keep your answers concise and informative."},callbacks:{onopen:()=>{if(!p.current||p.current.state==="closed")return;s(!1),i(!0);const D=p.current.createMediaStreamSource(T);N.current=p.current.createScriptProcessor(4096,1,1),N.current.onaudioprocess=V=>{var we;const B=V.inputBuffer.getChannelData(0),Q=B.length,be=new Int16Array(Q);for(let P=0;P<Q;P++)be[P]=B[P]*32768;const K={data:IC(new Uint8Array(be.buffer)),mimeType:"audio/pcm;rate=16000"};(we=j.current)==null||we.then(P=>{P&&P.sendRealtimeInput({media:K})})},D.connect(N.current),N.current.connect(p.current.destination)},onmessage:async D=>{var B,Q,be,K,we,P,U;if((B=D.serverContent)!=null&&B.inputTranscription){const F=C.current+D.serverContent.inputTranscription.text;D.serverContent.inputTranscription.isFinal&&(C.current=F),h(F)}if((Q=D.serverContent)!=null&&Q.outputTranscription&&(b.current+=D.serverContent.outputTranscription.text),(be=D.serverContent)!=null&&be.turnComplete){const F=C.current.trim(),$=b.current.trim();h(""),u(W=>{const Pe=[...W];return F&&Pe.push({speaker:"user",text:F}),$&&Pe.push({speaker:"model",text:$}),Pe}),C.current="",b.current=""}const V=(P=(we=(K=D.serverContent)==null?void 0:K.modelTurn)==null?void 0:we.parts[0])==null?void 0:P.inlineData.data;if(V&&v.current&&v.current.state!=="closed"){const F=v.current;x.current=Math.max(x.current,F.currentTime);const $=await vp(xp(V),F,24e3,1),W=F.createBufferSource();W.buffer=$,W.connect(F.destination),W.addEventListener("ended",()=>g.current.delete(W)),W.start(x.current),x.current+=$.duration,g.current.add(W)}if((U=D.serverContent)!=null&&U.interrupted){for(const F of g.current.values())F.stop(0);g.current.clear(),x.current=0}},onerror:D=>{console.error("Session error:",D),c("An error occurred during the session."),S()},onclose:D=>{S()}}})}catch(T){console.error("Failed to start session:",T),c("Could not access microphone. Please check your permissions."),s(!1)}};return e?r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:E,children:r.jsxs("div",{className:"relative w-full max-w-lg bg-white dark:bg-slate-800 rounded-lg shadow-xl flex flex-col transform transition-all duration-300",style:{height:"clamp(400px, 80vh, 600px)"},onClick:T=>T.stopPropagation(),children:[r.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between flex-shrink-0",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Live Conversation"}),r.jsx("button",{onClick:E,children:r.jsx(O,{})})]}),r.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-4",children:[f.map((T,_)=>r.jsx("div",{className:`flex ${T.speaker==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${T.speaker==="user"?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-700"}`,children:T.text})},_)),m&&r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"max-w-[80%] p-3 rounded-lg bg-blue-500 text-white opacity-70",children:[m,r.jsx("span",{className:"inline-block w-2 h-4 bg-white animate-blink ml-1"})]})}),r.jsx("div",{ref:y})]}),r.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center flex-shrink-0",children:[l&&r.jsx("p",{className:"text-red-500 mb-2 text-sm",children:l}),o?r.jsx("button",{onClick:S,className:"w-20 h-20 bg-slate-500 rounded-full text-white flex items-center justify-center",children:r.jsx(qu,{isAnimating:!0})}):r.jsx("button",{onClick:A,disabled:n,className:"w-20 h-20 bg-deep-red rounded-full text-white flex items-center justify-center transition-transform hover:scale-105 disabled:bg-slate-400",children:n?r.jsx(qu,{isAnimating:!0}):r.jsx(gp,{className:"w-8 h-8"})}),r.jsx("p",{className:"text-sm text-slate-500 mt-3 h-5",children:n?"Connecting...":o?"Listening... (Talk now)":"Start a conversation with our AI"})]})]})}):null},MC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",...e,children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),PC=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 4.5v15"})]}),LC=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 19.5v-15"})]}),RC=({state:e,onStateChange:t,voice:n})=>{const[s,o]=w.useState(!1),[i,l]=w.useState(!1),[c,f]=w.useState(0),[u,m]=w.useState(1),[h,p]=w.useState(""),v=w.useRef(),k=w.useRef(null),N=w.useRef(null),j=w.useRef(0),x=w.useRef(0),g=e==null?void 0:e.article,y=e==null?void 0:e.playlist,C=e==null?void 0:e.voiceOverride,b=(y==null?void 0:y.findIndex(B=>B.id===(g==null?void 0:g.id)))??-1,S=C||n;w.useEffect(()=>(v.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),()=>{var B;(B=N.current)==null||B.stop(0)}),[]),w.useEffect(()=>{g&&(async()=>{l(!0),p(""),f(0),x.current=0,N.current&&(N.current.onended=null,N.current.stop(0));try{const Q=g.id===-1?g.content:`Article title: ${g.title}. By ${g.author}. ${g.content}`,be=await D5(Q,S),K=await vp(xp(be),v.current,24e3,1);k.current=K,l(!1),_(0)}catch(Q){p("Failed to generate audio."),console.error(Q),l(!1)}})()},[g,S]);const E=()=>t(null),A=()=>{y&&b<y.length-1&&t({article:y[b+1],playlist:y})},T=()=>{y&&b>0&&t({article:y[b-1],playlist:y})},_=B=>{if(!k.current||!v.current)return;N.current&&(N.current.onended=null,N.current.stop(0));const Q=v.current.createBufferSource();Q.buffer=k.current,Q.connect(v.current.destination),Q.playbackRate.value=u,j.current=v.current.currentTime-B,Q.start(0,B),Q.onended=()=>{s&&k.current&&Math.abs(x.current-k.current.duration)>.1&&(y&&b<y.length-1?A():E())},N.current=Q,o(!0)},D=()=>{!N.current||!v.current||(x.current=v.current.currentTime-j.current,N.current.stop(0),o(!1))},V=()=>{s?D():_(x.current)};return w.useEffect(()=>{const B=setInterval(()=>{if(s&&v.current&&k.current&&N.current){const Q=(v.current.currentTime-j.current)*N.current.playbackRate.value;k.current.duration>0&&f(Q/k.current.duration*100)}},100);return()=>clearInterval(B)},[s,u]),g?r.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 animate-slide-up",children:r.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"bg-white/90 dark:bg-navy/90 backdrop-blur-sm rounded-t-lg shadow-2xl p-4 flex items-center gap-4 border-t border-slate-200 dark:border-slate-700",children:[r.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-16 h-16 rounded-md object-cover flex-shrink-0"}),r.jsxs("div",{className:"flex-grow min-w-0",children:[r.jsx("p",{className:"font-bold text-slate-800 dark:text-white truncate",children:h||(i?"Generating Audio...":g.title)}),r.jsxs("p",{className:"text-sm text-slate-500 truncate",children:[g.author,y&&y.length>1&&` (Track ${b+1} of ${y.length})`]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-slate-700 dark:text-slate-200",children:[r.jsx("button",{onClick:T,title:"Previous",disabled:i||!y||b===0,className:"disabled:opacity-30",children:r.jsx(LC,{className:"w-6 h-6"})}),r.jsx("button",{onClick:V,disabled:i,className:"w-12 h-12 flex items-center justify-center bg-deep-red text-white rounded-full flex-shrink-0 disabled:bg-slate-400",children:i?r.jsx(qe,{}):s?r.jsx(MC,{className:"w-6 h-6"}):r.jsx(cp,{className:"w-6 h-6"})}),r.jsx("button",{onClick:A,title:"Next",disabled:i||!y||b===y.length-1,className:"disabled:opacity-30",children:r.jsx(PC,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"w-32 sm:w-48 hidden md:block",children:r.jsx("input",{type:"range",value:c||0,disabled:!0,className:"w-full h-1 bg-slate-200 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer range-sm",style:{background:`linear-gradient(to right, #b91c1c ${c}%, #e5e7eb ${c}%)`}})}),r.jsx("div",{className:"hidden sm:block",children:r.jsxs("select",{value:u,onChange:B=>m(Number(B.target.value)),disabled:i,className:"bg-transparent font-semibold text-sm rounded-md p-1",children:[r.jsx("option",{value:.75,children:"0.75x"}),r.jsx("option",{value:1,children:"1x"}),r.jsx("option",{value:1.5,children:"1.5x"}),r.jsx("option",{value:2,children:"2x"})]})}),r.jsx("button",{onClick:E,className:"p-2 text-slate-500 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})})]})})}):null},DC=({onClick:e})=>r.jsx("button",{onClick:e,className:"fixed bottom-6 right-6 z-40 w-16 h-16 bg-deep-red rounded-full text-white flex items-center justify-center shadow-lg transform transition-transform hover:scale-110 animate-glow","aria-label":"Start live conversation",children:r.jsx(gp,{className:"w-8 h-8"})}),FC=({isOpen:e,onClose:t,settings:n,pageContent:s})=>{const[o,i]=w.useState(null),[l,c]=w.useState(!1),[f,u]=w.useState("");return w.useEffect(()=>{e&&s&&(async()=>{c(!0),u(""),i(null);try{const h=await Y5(s,n);i(h)}catch(h){u(h.message||"Failed to perform fact-check.")}finally{c(!1)}})()},[e,s,n]),e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:t,children:r.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col",onClick:m=>m.stopPropagation(),style:{height:"clamp(400px, 80vh, 700px)"},children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Za,{className:"w-8 h-8 text-deep-red dark:text-gold"}),r.jsx("h3",{className:"font-bold text-2xl",children:"Full Page Fact-Check"})]})]}),r.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[l&&r.jsxs("div",{className:"flex justify-center items-center h-full",children:[r.jsx(qe,{}),r.jsx("p",{className:"ml-2",children:"Analyzing page content..."})]}),f&&r.jsx("p",{className:"text-red-500",children:f}),o&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-lg mb-2",children:"AI Analysis Summary"}),r.jsx("p",{className:"mb-6 prose dark:prose-invert max-w-none",children:o.summary}),r.jsx("h4",{className:"font-bold text-lg mb-2",children:"Sources Found"}),o.sources.length>0?r.jsx("ul",{className:"space-y-2 list-disc list-inside",children:o.sources.map((m,h)=>r.jsx("li",{className:"text-sm",children:r.jsx("a",{href:m.uri,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline break-all",children:m.title||m.uri})},h))}):r.jsx("p",{className:"text-sm text-slate-500",children:"No external sources were cited by the AI."})]})]})]})}):null},UC=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 21l5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 016-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138c.896.061 1.785.147 2.666.257m-4.589 8.495a18.023 18.023 0 01-3.827-5.802"})}),VC=({isOpen:e,article:t,settings:n,onClose:s,onPlay:o})=>{const[i,l]=w.useState(n.preferredLanguage),[c,f]=w.useState(!1),[u,m]=w.useState(""),[h,p]=w.useState("");if(w.useEffect(()=>{e&&(l(n.preferredLanguage),m(""),p(""),f(!1))},[e,n.preferredLanguage]),!e||!t)return null;const v=async()=>{if(t){f(!0),p("");try{let k=`Title: ${t.title}. By ${t.author}. ${t.content}`;const N=yd[i]||"Zephyr";i!=="English"&&(m("Translating article..."),k=await U5(k,i,n)),m("Preparing audio..."),o(t,k,N),s()}catch(k){p(k.message||"Failed to process audio request."),f(!1),m("")}}};return r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsx("div",{className:"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-lg shadow-xl transform transition-all duration-300 animate-slide-up",onClick:k=>k.stopPropagation(),children:r.jsxs("div",{className:"p-6",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(UC,{className:"w-7 h-7 text-deep-red dark:text-gold"}),r.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Listen to Article"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"language-select",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Select Language"}),r.jsx("select",{id:"language-select",value:i,onChange:k=>l(k.target.value),disabled:c,className:"w-full p-2 bg-slate-100 dark:bg-slate-700 rounded-md border-slate-300 dark:border-slate-600 focus:ring-2 focus:ring-deep-red",children:Object.keys(yd).map(k=>r.jsx("option",{value:k,children:k},k))})]}),r.jsxs("button",{onClick:v,disabled:c,className:"w-full flex items-center justify-center gap-3 px-6 py-3 bg-deep-red text-white font-bold rounded-lg text-lg transform hover:scale-105 transition-transform disabled:bg-slate-400 disabled:scale-100",children:[c?r.jsx(qe,{}):r.jsx(Xo,{className:"w-7 h-7"}),r.jsx("span",{children:c?u:"Listen Now"})]}),h&&r.jsx("p",{className:"text-sm text-center text-red-500",children:h})]})]})})})},BC=({isOpen:e,article:t,settings:n,onClose:s})=>{const[o,i]=w.useState(""),[l,c]=w.useState(!1),[f,u]=w.useState("");w.useEffect(()=>{t&&e&&(async()=>{c(!0),u(""),i("");try{const p=await R5(t,n);for await(const v of p)i(k=>k+v)}catch(p){u(p.message||"Failed to generate deep dive.")}finally{c(!1)}})()},[t,e,n]);const m=w.useMemo(()=>o.replace(/## (.*)/g,'<h2 class="text-xl font-bold text-deep-red dark:text-gold my-4">$1</h2>').replace(/\* \*(.*?)\* \*/g,"<strong>$1</strong>").replace(/\n/g,"<br />"),[o]);return!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsxs("div",{className:"relative w-full max-w-3xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col",onClick:h=>h.stopPropagation(),style:{height:"clamp(500px, 90vh, 800px)"},children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(lp,{className:"w-8 h-8 text-deep-red dark:text-gold"}),r.jsx("h3",{className:"font-bold text-2xl",children:"AI Deep Dive"})]}),r.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:['A comprehensive look at "',t.title,'"']})]}),r.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[f&&r.jsx("p",{className:"text-red-500",children:f}),r.jsx("div",{className:"prose dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",dangerouslySetInnerHTML:{__html:m}}),l&&r.jsx("span",{className:"inline-block w-2 h-5 bg-slate-600 dark:bg-slate-300 animate-blink ml-1"})]})]})})},zC=({data:e})=>{if(!e.items||e.items.length===0)return r.jsx("p",{className:"text-center text-slate-500",children:"No data suitable for a chart was found in this article."});const t=Math.max(...e.items.map(n=>n.value));return r.jsx("div",{className:"w-full h-64 flex justify-around items-end gap-2 p-4 border-b border-slate-200 dark:border-slate-700",children:e.items.map((n,s)=>r.jsx("div",{className:"flex-1 flex flex-col items-center justify-end h-full",children:r.jsx("div",{className:"w-full bg-deep-red dark:bg-gold rounded-t-md transition-all duration-500 origin-bottom animate-slide-up",style:{height:`${n.value/t*100}%`,animationDelay:`${s*100}ms`}})},s))})},HC=({data:e})=>!e.items||e.items.length===0?null:r.jsx("div",{className:"w-full flex justify-around items-start gap-2 p-4 pt-2",children:e.items.map((t,n)=>r.jsxs("div",{className:"flex-1 text-center text-xs font-semibold text-slate-600 dark:text-slate-400",children:[r.jsx("p",{className:"truncate",title:t.label,children:t.label}),r.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:t.value.toLocaleString()})]},n))}),GC=({isOpen:e,article:t,settings:n,onClose:s})=>{const[o,i]=w.useState(null),[l,c]=w.useState(!1),[f,u]=w.useState("");return w.useEffect(()=>{t&&e&&(async()=>{c(!0),u(""),i(null);try{const h=await O5(t,n);i(h)}catch(h){u(h.message||"Failed to generate infographic.")}finally{c(!1)}})()},[t,e,n]),!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col",onClick:m=>m.stopPropagation(),style:{minHeight:"450px"},children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ap,{className:"w-8 h-8 text-deep-red dark:text-gold"}),r.jsx("h3",{className:"font-bold text-2xl",children:"AI-Generated Infographic"})]}),r.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:['A visual summary for "',t.title,'"']})]}),r.jsxs("div",{className:"p-6 flex-grow flex flex-col justify-center",children:[l&&r.jsxs("div",{className:"text-center",children:[r.jsx(qe,{className:"w-10 h-10 mx-auto text-deep-red"}),r.jsx("p",{className:"mt-2 font-semibold",children:"Analyzing data..."})]}),f&&r.jsx("p",{className:"text-red-500 text-center",children:f}),o&&r.jsxs("div",{className:"animate-fade-in",children:[r.jsx("h4",{className:"text-center font-bold text-lg mb-4",children:o.title}),r.jsx(zC,{data:o}),r.jsx(HC,{data:o})]})]})]})})},yp=e=>r.jsx("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",...e,children:r.jsxs("g",{fill:"none",fillRule:"evenodd",children:[r.jsx("path",{d:"M0 0h48v48H0z"}),r.jsxs("g",{transform:"translate(8 8)",children:[r.jsx("path",{fill:"#6772E5",d:"M12 32C5.373 32 0 26.627 0 20S5.373 8 12 8s12 5.373 12 12-5.373 12-12 12"}),r.jsx("path",{d:"M22.61 24.113V15.54h-3.437c-1.05 0-1.897.234-2.54.702-.644.468-.966 1.152-.966 2.052 0 .63.153 1.17.459 1.62.306.45.747.783 1.323.999V20a3.96 3.96 0 0 1-1.09-.153c-.342-.117-.66-.282-.954-.495v4.76h10.61V24.11l-3.414.002zM18.17 19.86c.21-.144.316-.36.316-.648 0-.312-.1-.54-.3-.684-.2-.144-.516-.216-.948-.216h-1.026v1.656h1.104c.42 0 .73-.087.9-.258a.93.93 0 0 0 .258-.85z",fill:"#FFF"}),r.jsx("path",{d:"M28 20c0-6.627-5.373-12-12-12S4 13.373 4 20",fill:"#6772E5"}),r.jsx("path",{d:"M20 0C8.954 0 0 8.954 0 20s8.954 20 20 20 20-8.954 20-20S31.046 0 20 0zm0 35C11.716 35 5 28.284 5 20S11.716 5 20 5s15 6.716 15 15-6.716 15-15 15z",fill:"#6772E5"})]})]})}),$C=({onSubmit:e})=>{const[t,n]=w.useState(""),[s,o]=w.useState(""),i=f=>{let u=f.target.value.replace(/\D/g,"");u.length>16&&(u=u.slice(0,16));const m=u.replace(/(\d{4})/g,"$1 ").trim();n(m)},l=f=>{let u=f.target.value.replace(/\D/g,"");u.length>4&&(u=u.slice(0,4)),u.length>2&&(u=u.slice(0,2)+" / "+u.slice(2)),o(u)},c=f=>{f.preventDefault(),e()};return r.jsxs("form",{onSubmit:c,className:"space-y-4 animate-fade-in",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold",children:"Card Number"}),r.jsx("input",{type:"text",placeholder:"0000 0000 0000 0000",value:t,onChange:i,required:!0,className:"w-full p-3 mt-1 bg-slate-100 dark:bg-slate-800 rounded-lg focus:ring-2 focus:ring-deep-red border-transparent focus:border-transparent transition"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold",children:"Cardholder Name"}),r.jsx("input",{type:"text",placeholder:"John Doe",required:!0,className:"w-full p-3 mt-1 bg-slate-100 dark:bg-slate-800 rounded-lg focus:ring-2 focus:ring-deep-red border-transparent focus:border-transparent transition"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-sm font-semibold",children:"Expiry Date"}),r.jsx("input",{type:"text",placeholder:"MM / YY",value:s,onChange:l,required:!0,className:"w-full p-3 mt-1 bg-slate-100 dark:bg-slate-800 rounded-lg focus:ring-2 focus:ring-deep-red border-transparent focus:border-transparent transition"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-sm font-semibold",children:"CVC"}),r.jsx("input",{type:"text",placeholder:"123",required:!0,className:"w-full p-3 mt-1 bg-slate-100 dark:bg-slate-800 rounded-lg focus:ring-2 focus:ring-deep-red border-transparent focus:border-transparent transition"})]})]}),r.jsxs("button",{type:"submit",className:"w-full py-3 mt-4 bg-deep-red text-white font-bold rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(hp,{className:"w-5 h-5"})," Pay Securely"]}),r.jsxs("div",{className:"flex justify-center items-center gap-1 text-xs text-slate-400 mt-2",children:[r.jsx("span",{children:"Powered by"})," ",r.jsx(yp,{className:"h-4 opacity-70"})]})]})},wp=e=>r.jsxs("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",...e,children:[r.jsx("path",{fill:"#003087",d:"M3.3,16.9h3.8c0.4,0,0.8-0.1,1.1-0.2c-0.2-0.7-0.5-1.5-0.7-2.2c-0.1-0.3-0.2-0.5-0.3-0.8c-0.4,0.3-0.9,0.5-1.4,0.5H3.6c-0.5,0-0.9-0.4-1-0.9L1,4.9C1,4.4,1.4,4,1.9,4h5.8c0.4,0,0.8,0.3,0.9,0.7l0.6,3.7C9.3,8.7,9.4,9,9.5,9.2c0.2,0,0.5-0.1,0.7-0.3l0.3-0.9c0.1-0.4,0.5-0.7,0.9-0.7h3.3c1.5,0,2.8,0.7,3.5,2c0.7,1.2,0.5,2.7-0.4,3.7c-0.9,1-2.3,1.5-3.8,1.5h-2.1l-0.3,1.6c-0.1,0.4,0.2,0.8,0.6,0.8h0.6c0.6,0,1.2,0.2,1.6,0.7l0.2,0.2c0.3,0.3,0.6,0.5,1.1,0.5h1.5c0.5,0,0.9,0.4,1,0.9l1.6,9.1c0,0.5-0.3,1-0.8,1h-4c-0.4,0-0.8-0.3-0.9-0.7L15,20.3c-0.1-0.6-0.6-1-1.2-1h-0.8c-1.3,0-2.5-0.8-3-2L8.9,9H8.4L7.1,16.2C7,16.6,6.6,16.9,6.2,16.9H3.3z"}),r.jsx("path",{fill:"#009cde",d:"M8.2,3.3h3.8c1.5,0,2.8,0.7,3.5,2c0.7,1.2,0.5,2.7-0.4,3.7c-0.9,1-2.3,1.5-3.8,1.5H9.2L8.2,3.3z"})]}),qC=({onSubmit:e})=>{const t=n=>{n.preventDefault(),e()};return r.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 rounded-lg animate-fade-in",children:[r.jsxs("div",{className:"text-center border-b border-slate-300 dark:border-slate-700 pb-4",children:[r.jsx(wp,{className:"h-8 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Pay with PayPal"}),r.jsx("p",{className:"text-sm font-semibold",children:"Mahama News Hub"})]}),r.jsxs("form",{onSubmit:t,className:"space-y-4 pt-4",children:[r.jsx("input",{type:"email",placeholder:"Email or mobile number",required:!0,className:"w-full p-3 bg-white dark:bg-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 border-transparent focus:border-transparent transition"}),r.jsx("input",{type:"password",placeholder:"Password",required:!0,className:"w-full p-3 bg-white dark:bg-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 border-transparent focus:border-transparent transition"}),r.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white font-bold rounded-full hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:"Log In & Pay"}),r.jsx("a",{href:"#",className:"block text-center text-sm font-semibold text-blue-600 hover:underline",children:"Forgot password?"})]})]})},kp=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0012 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75z"})}),WC=["Global Trust Bank","Capital Financial","Unity Bank","Apex National"],JC=({onSubmit:e})=>{const[t,n]=w.useState(null),s=o=>{o.preventDefault(),e()};return t?r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("button",{onClick:()=>n(null),className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",children:r.jsx(as,{className:"w-5 h-5"})}),r.jsx(kp,{className:"w-6 h-6"}),r.jsx("h3",{className:"font-bold text-lg",children:t})]}),r.jsxs("form",{onSubmit:s,className:"space-y-4 p-4 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Log in to authorize payment."}),r.jsx("input",{type:"text",placeholder:"Username",required:!0,className:"w-full p-3 bg-white dark:bg-slate-700 rounded-lg"}),r.jsx("input",{type:"password",placeholder:"Password",required:!0,className:"w-full p-3 bg-white dark:bg-slate-700 rounded-lg"}),r.jsx("button",{type:"submit",className:"w-full py-3 bg-deep-red text-white font-bold rounded-lg hover:bg-red-700 transition-colors",children:"Authorize Payment"})]})]}):r.jsxs("div",{className:"space-y-3 animate-fade-in",children:[r.jsx("h3",{className:"font-semibold text-center mb-2",children:"Select your bank"}),WC.map(o=>r.jsx("button",{onClick:()=>n(o),className:"w-full text-left p-3 font-semibold bg-slate-100 dark:bg-slate-800 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:o},o))]})},Bi=["Initializing payment...","Securing connection...","Sending details to provider...","Awaiting confirmation...","Processing payment..."],YC=({isOpen:e,onClose:t,onSuccess:n,plan:s})=>{const[o,i]=w.useState("selection"),[l,c]=w.useState(Bi[0]);w.useEffect(()=>{if(!e){const h=setTimeout(()=>{i("selection")},300);return()=>clearTimeout(h)}},[e]);const f=()=>{i("processing");let h=0;const p=setInterval(()=>{h++,c(Bi[h%Bi.length])},1e3);setTimeout(()=>{clearInterval(p),i("success"),setTimeout(()=>{n(),setTimeout(()=>i("selection"),500)},2e3)},4e3)};if(!e)return null;const u=()=>{switch(o){case"selection":return r.jsxs(r.Fragment,{children:[r.jsx(m,{icon:r.jsx(yp,{className:"h-8"}),label:"Credit Card",onClick:()=>i("card")}),r.jsx(m,{icon:r.jsx(wp,{className:"h-7"}),label:"PayPal",onClick:()=>i("paypal")}),r.jsx(m,{icon:r.jsx(kp,{className:"h-7"}),label:"Bank Account",onClick:()=>i("bank")})]});case"card":return r.jsx($C,{onSubmit:f});case"paypal":return r.jsx(qC,{onSubmit:f});case"bank":return r.jsx(JC,{onSubmit:f});case"processing":return r.jsxs("div",{className:"text-center h-full flex flex-col items-center justify-center",children:[r.jsx(qe,{className:"w-12 h-12 text-deep-red"}),r.jsx("p",{className:"mt-4 font-semibold text-lg",children:l})]});case"success":return r.jsxs("div",{className:"text-center h-full flex flex-col items-center justify-center animate-fade-in",children:[r.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center animate-pulse",children:r.jsx(Ka,{className:"w-12 h-12 text-green-500"})}),r.jsx("h2",{className:"text-2xl font-bold mt-4",children:"Payment Successful!"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Welcome to Premium. Your access has been upgraded."})]})}},m=({icon:h,label:p,onClick:v})=>r.jsxs("button",{onClick:v,className:"w-full flex items-center gap-4 p-4 border-2 border-slate-200 dark:border-slate-700 rounded-lg hover:border-deep-red dark:hover:border-gold transition-colors",children:[h,r.jsx("span",{className:"font-bold text-lg",children:p}),r.jsx(as,{className:"w-6 h-6 ml-auto transform rotate-180 text-slate-400"})]});return r.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:t,children:r.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-navy rounded-2xl shadow-xl transform transition-all duration-300 animate-slide-up overflow-hidden",onClick:h=>h.stopPropagation(),children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white z-20",children:r.jsx(O,{})}),o!=="selection"&&o!=="success"&&o!=="processing"&&r.jsxs("button",{onClick:()=>i("selection"),className:"absolute top-4 left-4 text-slate-500 font-semibold flex items-center gap-1 z-20 hover:text-deep-red",children:[r.jsx(as,{className:"w-5 h-5"})," Back"]}),r.jsxs("div",{className:"p-8 border-b border-slate-200 dark:border-slate-800 text-center relative",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Complete Your Upgrade"}),r.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:[r.jsx("span",{className:"font-bold text-deep-red dark:text-gold",children:s==null?void 0:s.name})," plan for ",r.jsx("span",{className:"font-bold text-deep-red dark:text-gold",children:s==null?void 0:s.price})]})]}),r.jsx("div",{className:"p-8 space-y-4",style:{minHeight:"350px"},children:u()})]})})},Zo=({isOpen:e,title:t,onClose:n,children:s})=>e?r.jsx("div",{className:"fixed inset-0 z-[80] bg-slate-100/80 dark:bg-navy/80 backdrop-blur-sm transition-opacity duration-300 animate-fade-in",onClick:n,children:r.jsx("div",{className:"w-full h-full transform transition-all duration-300 animate-slide-up",onClick:o=>o.stopPropagation(),children:r.jsx("div",{className:"container mx-auto max-w-4xl py-8 px-4 sm:px-6 lg:px-8 h-full",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-lg shadow-xl h-full flex flex-col",children:[r.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[r.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 dark:text-white",children:t}),r.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:r.jsx(O,{})})]}),r.jsx("main",{className:"p-8 overflow-y-auto flex-grow",children:r.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:s})})]})})})}):null,OC=({isOpen:e,onClose:t})=>{const{t:n}=G();return r.jsxs(Zo,{isOpen:e,title:n("aboutUs"),onClose:t,children:[r.jsxs("p",{className:"mb-4",children:["Welcome to ",n("logoText"),", where cutting-edge technology meets world-class journalism. Our mission is to provide fast, accurate, and deeply insightful news coverage to a global audience."]}),r.jsx("p",{className:"mb-4",children:"Founded on the principles of integrity and innovation, we leverage the power of artificial intelligence to enhance our reporting, personalize your experience, and uncover the stories behind the headlines. From live breaking news to in-depth interactive features, we are redefining how news is consumed in the digital age."}),r.jsx("h3",{className:"text-2xl font-bold mt-6 mb-2",children:"Our Vision"}),r.jsx("p",{children:"To be the most trusted and technologically advanced news source in the world, empowering our readers with knowledge and fostering a more informed global community."})]})},KC=({isOpen:e,onClose:t})=>r.jsxs(Zo,{isOpen:e,title:"Careers at Mahama News Hub",onClose:t,children:[r.jsx("p",{className:"mb-4",children:"Join a team that's at the forefront of media innovation. At Mahama News Hub, we are a diverse group of passionate journalists, engineers, designers, and data scientists dedicated to building the future of news."}),r.jsx("h3",{className:"text-2xl font-bold mt-6 mb-2",children:"Why Work With Us?"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Impact:"})," Shape how millions of people understand the world."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Innovation:"})," Work with cutting-edge AI and interactive storytelling tools."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Growth:"})," We invest in our people with continuous learning and development opportunities."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Culture:"})," A collaborative, fast-paced, and mission-driven environment."]})]}),r.jsxs("p",{children:["We are always looking for talented individuals to join our team. Please check our open listings or send your resume to ",r.jsx("a",{href:"mailto:careers@mahamanewshub.com",className:"text-deep-red dark:text-gold hover:underline",children:"careers@mahamanewshub.com"}),"."]})]}),QC=({isOpen:e,onClose:t})=>r.jsxs(Zo,{isOpen:e,title:"Contact Us",onClose:t,children:[r.jsx("p",{className:"mb-4",children:"We'd love to hear from you. Please direct your inquiries to the appropriate department below."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold",children:"General Inquiries"}),r.jsxs("p",{children:["For general questions, feedback, or story tips, please email us at: ",r.jsx("a",{href:"mailto:contact@mahamanewshub.com",className:"text-deep-red dark:text-gold hover:underline",children:"contact@mahamanewshub.com"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold",children:"Press & Media"}),r.jsxs("p",{children:["For all press and media-related inquiries, contact our communications team at: ",r.jsx("a",{href:"mailto:press@mahamanewshub.com",className:"text-deep-red dark:text-gold hover:underline",children:"press@mahamanewshub.com"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold",children:"Corrections"}),r.jsxs("p",{children:["To report an error or request a correction, please reach out to our editorial team at: ",r.jsx("a",{href:"mailto:corrections@mahamanewshub.com",className:"text-deep-red dark:text-gold hover:underline",children:"corrections@mahamanewshub.com"})]})]})]})]}),XC=({isOpen:e,onClose:t})=>r.jsxs(Zo,{isOpen:e,title:"Advertise with Us",onClose:t,children:[r.jsx("p",{className:"mb-4",children:"Partner with Mahama News Hub to connect with a global audience of engaged, influential, and tech-savvy readers. Our platform offers a unique opportunity to showcase your brand alongside premium, trusted news content."}),r.jsx("h3",{className:"text-2xl font-bold mt-6 mb-2",children:"Our Offerings"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-4",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Sponsored Content:"})," Collaborate with our in-house studio to create compelling stories that resonate with our audience."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Premium Display Ads:"})," High-impact, non-intrusive ad placements across our digital properties."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Podcast & Video Sponsorship:"})," Integrate your brand into our popular audio and video programming."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Event Partnerships:"})," Align your brand with our exclusive events and summits."]})]}),r.jsxs("p",{children:["To learn more about our advertising solutions and to request a media kit, please contact our sales team at ",r.jsx("a",{href:"mailto:advertise@mahamanewshub.com",className:"text-deep-red dark:text-gold hover:underline",children:"advertise@mahamanewshub.com"}),"."]})]}),ZC=({isOpen:e,onClose:t,trailerUrl:n})=>!e||!n?null:r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm transition-opacity duration-300 animate-fade-in",onClick:t,children:r.jsxs("div",{className:"relative w-full max-w-4xl aspect-video bg-navy rounded-lg shadow-xl transform transition-all duration-300 animate-slide-up",onClick:s=>s.stopPropagation(),children:[r.jsx("button",{onClick:t,className:"absolute -top-3 -right-3 z-10 text-white bg-slate-800 rounded-full p-2 hover:bg-deep-red",children:r.jsx(O,{})}),r.jsx("div",{className:"w-full h-full rounded-lg overflow-hidden",children:r.jsx("iframe",{src:n,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"w-full h-full"})})]})}),e3=({text:e})=>r.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-navy/90 backdrop-blur-sm animate-fade-in",children:[r.jsx(jo,{className:"w-24 h-24 mnh-pulse"}),r.jsx("h2",{className:"text-2xl font-bold text-white mt-4 tracking-wider",children:e||"Loading Content..."}),r.jsx("div",{className:"w-1/3 max-w-sm mt-4 bg-slate-700/50 rounded-full h-1.5 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-gold to-deep-red h-full rounded-full animate-shimmer-bg",style:{backgroundSize:"200% 100%"}})}),r.jsx("style",{children:`
          .mnh-pulse {
            animation: mnh-pulse-anim 2s ease-in-out infinite;
            transform-origin: center;
          }
          @keyframes mnh-pulse-anim {
            0%, 100% { transform: scale(0.95); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 1; }
          }
       `})]}),t3=({type:e})=>{switch(e){case"briefing":return r.jsx(Xa,{className:"w-5 h-5 text-gold"});case"comment":case"mention":return r.jsx(Zh,{className:"w-5 h-5 text-blue-500"});case"news":default:return r.jsx(up,{className:"w-5 h-5 text-green-500"})}},n3=({isOpen:e,onClose:t,notifications:n,onMarkAsRead:s,onMarkAllAsRead:o})=>e?r.jsx("div",{className:"fixed inset-0 z-40",onClick:t,children:r.jsxs("div",{className:"absolute top-20 right-4 sm:right-6 lg:right-8 w-full max-w-sm bg-white dark:bg-slate-800 rounded-lg shadow-2xl border border-slate-200 dark:border-slate-700 animate-fade-in-down flex flex-col",onClick:i=>i.stopPropagation(),style:{maxHeight:"calc(100vh - 100px)"},children:[r.jsxs("header",{className:"p-4 flex justify-between items-center border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Notifications"}),r.jsx("button",{onClick:o,className:"text-sm font-semibold text-deep-red dark:text-gold hover:underline",children:"Mark all as read"})]}),r.jsx("div",{className:"overflow-y-auto flex-grow",children:n.length>0?r.jsx("ul",{children:n.map(i=>r.jsx("li",{className:`border-b border-slate-100 dark:border-slate-700/50 ${i.read?"":"bg-slate-50 dark:bg-slate-800/50"}`,children:r.jsxs("button",{onClick:()=>s(i.id),className:"w-full text-left p-4 flex gap-4 items-start hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex-shrink-0 flex items-center justify-center",children:r.jsx(t3,{type:i.type})}),r.jsxs("div",{className:"flex-grow",children:[r.jsx("p",{className:"text-sm",children:i.message}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:i.timestamp})]}),!i.read&&r.jsx("div",{className:"w-2.5 h-2.5 bg-deep-red rounded-full flex-shrink-0 mt-1 self-center"})]})},i.id))}):r.jsx("p",{className:"p-8 text-center text-slate-500",children:"No new notifications."})}),r.jsx("footer",{className:"p-2 border-t border-slate-200 dark:border-slate-700 flex-shrink-0",children:r.jsx("button",{className:"w-full text-center text-sm font-semibold py-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-700/50",children:"View all notifications"})})]})}):null,s3=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5.25l.25-.5.5-.25-.5-.25-.25-.5-.25.5-.5.25.5.25.25.5z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 7.5l.25-.5.5-.25-.5-.25-.25-.5-.25.5-.5.25.5.25.25.5z"})]}),r3=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),r.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14v6m-6-3.479V12m12 0v-3.479"})]}),o3=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6V5.25A2.25 2.25 0 015.25 3h13.5A2.25 2.25 0 0121 5.25v.75c0 .414-.336.75-.75.75H3.75z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 12.75a.75.75 0 000-1.5h.008a.75.75 0 000 1.5h-.008zM12 15a.75.75 0 01.75-.75h.008a.75.75 0 010 1.5H12.75A.75.75 0 0112 15zm.75 2.25a.75.75 0 000-1.5h.008a.75.75 0 000 1.5h-.008zM15 12.75a.75.75 0 01.75-.75h.008a.75.75 0 010 1.5H15.75a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000-1.5h.008a.75.75 0 000 1.5h-.008zM18.75 12a.75.75 0 01.75-.75h.008a.75.75 0 010 1.5h-.008a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000-1.5h.008a.75.75 0 000 1.5h-.008z"})]}),i3=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-2.072-2.072a50.57 50.57 0 01-2.273-2.273A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0l-2.072 2.072a50.57 50.57 0 00-2.273 2.273A59.905 59.905 0 0012 20.904a59.902 59.902 0 0010.399-5.84c-.896-.248-1.783-.52-2.658-.814"})}),l3=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),a3=e=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205l3 1m-3-1l-3 1m-3-1l-3-1m3 1v5.505M4.5 15.75l3-1.091"})}),c3=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 20L19 6"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 3l5 5L9 20H4v-5L16 3z"})]}),d3=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...e,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),u3=({title:e,onBack:t,children:n})=>r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("button",{onClick:t,className:"flex items-center gap-1 text-sm font-semibold text-deep-red dark:text-gold hover:underline mb-4",children:[r.jsx(as,{className:"w-5 h-5"})," Back to Services"]}),n]}),lt=({images:e})=>!e||e.length===0?null:r.jsx("div",{className:"my-6 grid grid-cols-2 gap-4",children:e.map((t,n)=>r.jsxs("figure",{className:"space-y-2",children:[r.jsx("img",{src:t.src,alt:t.caption,className:"rounded-lg shadow-md"}),r.jsx("figcaption",{className:"text-sm text-center text-slate-500",children:t.caption})]},n))}),at=({stats:e})=>!e||e.length===0?null:r.jsx("div",{className:"my-6 grid grid-cols-2 gap-4",children:e.map((t,n)=>r.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 rounded-lg text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-deep-red dark:text-gold",children:t.value}),r.jsx("p",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400",children:t.label})]},n))}),f3=()=>{const e=[{label:"Health Centers",value:"4"},{label:"Medical Staff",value:"50+"},{label:"Patients per month",value:"2,000+"},{label:"Vaccination Rate",value:"95%"}],t=[{src:"https://picsum.photos/seed/health1/600/400",caption:"Main health post in Mahama."},{src:"https://picsum.photos/seed/health2/600/400",caption:"A community health worker conducting a check-up."}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Health Sector"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Providing comprehensive healthcare services to the community. This includes primary care, maternal health, child nutrition programs, and vaccination campaigns."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Key Services"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:"Outpatient and Inpatient care"}),r.jsx("li",{children:"Maternal and Child Health Services"}),r.jsx("li",{children:"Immunization Programs"}),r.jsx("li",{children:"Mental Health and Psychosocial Support"}),r.jsx("li",{children:"Nutrition Screening and Support"})]}),r.jsx(lt,{images:t})]})},m3=()=>{const e=[{label:"Schools",value:"8"},{label:"Students Enrolled",value:"15,000+"},{label:"Teachers",value:"300+"},{label:"Literacy Rate",value:"85%"}],t=[{src:"https://picsum.photos/seed/edu1/600/400",caption:"Students in a primary school classroom."},{src:"https://picsum.photos/seed/edu2/600/400",caption:"Vocational training for young adults."}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Education Sector"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Ensuring access to quality education for all ages, from early childhood learning to adult literacy and vocational training programs."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Programs Offered"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:"Early Childhood Development Centers"}),r.jsx("li",{children:"Primary and Secondary Education"}),r.jsx("li",{children:"Accelerated Learning Programs"}),r.jsx("li",{children:"Vocational and Skills Training"}),r.jsx("li",{children:"Adult Literacy and Language Classes"})]}),r.jsx(lt,{images:t})]})},h3=()=>{const e=[{label:"Community Centers",value:"5"},{label:"Active Groups",value:"30+"},{label:"Volunteers",value:"500+"},{label:"Events per Month",value:"15+"}],t=[{src:"https://picsum.photos/seed/comm1/600/400",caption:"A community meeting in progress."},{src:"https://picsum.photos/seed/comm2/600/400",caption:"Cultural festival organized by community groups."}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Community Services"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Strengthening social cohesion and empowering residents through a network of community centers, support groups, and cultural activities."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Available Services"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:"Women's and Youth Groups"}),r.jsx("li",{children:"Sports and Recreational Activities"}),r.jsx("li",{children:"Cultural Heritage Preservation"}),r.jsx("li",{children:"Conflict Resolution and Peacebuilding"}),r.jsx("li",{children:"Community Leadership Training"})]}),r.jsx(lt,{images:t})]})},p3=()=>{const e=[{label:"Youth Centers",value:"2"},{label:"Members",value:"2,500+"},{label:"Programs",value:"10+"},{label:"Leadership Graduates",value:"200+"}],t=[{src:"https://picsum.photos/seed/youth1/600/400",caption:"Youth leadership workshop."},{src:"https://picsum.photos/seed/youth2/600/400",caption:"Coding bootcamp for young aspiring developers."}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Youth Development"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Investing in the next generation through leadership training, skills development, mentorship, and positive recreational activities."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Key Programs"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:"Youth Leadership and Governance Program."}),r.jsx("li",{children:"Digital Skills and Coding Bootcamps."}),r.jsx("li",{children:"Sports for Development leagues."}),r.jsx("li",{children:"Arts and Culture clubs."}),r.jsx("li",{children:"Peer-to-peer mentorship initiatives."})]}),r.jsx(lt,{images:t}),r.jsxs("div",{className:"mt-8 p-6 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Featured Youth Story: John D."}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:'"The coding bootcamp at the youth center opened my eyes to a new world. I learned how to build websites and now I do freelance work for small businesses. I hope to become a software engineer one day."'})]})]})},g3=()=>{const e=[{label:"Microfinance Groups",value:"40+"},{label:"Entrepreneurs Funded",value:"300+"},{label:"Avg. Loan Size",value:"$150"},{label:"Repayment Rate",value:"98%"}],t=[{src:"https://picsum.photos/seed/fin1/600/400",caption:"A small business owner supported by microfinance."},{src:"https://picsum.photos/seed/fin2/600/400",caption:"Financial literacy training session."}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Finance & Micro-enterprise"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Empowering entrepreneurs and fostering economic independence through microfinance services, business training, and savings groups."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Services Offered"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:"Village Savings and Loan Associations (VSLA)."}),r.jsx("li",{children:"Small business startup loans."}),r.jsx("li",{children:"Financial literacy and bookkeeping workshops."}),r.jsx("li",{children:"Business mentorship programs."})]}),r.jsx(lt,{images:t}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Success Stories"}),r.jsx("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:r.jsxs("blockquote",{className:"border-l-4 border-gold pl-4",children:[r.jsx("p",{className:"italic text-slate-600 dark:text-slate-400",children:'"With a small loan of $100, I was able to buy a sewing machine. Now I have my own tailoring business and can support my family. The financial training was just as valuable as the money."'}),r.jsx("cite",{className:"block font-semibold mt-2 not-italic",children:"- Fatima, Entrepreneur"})]})})]})]})},x3=()=>{const e=[{label:"Farming Co-ops",value:"12"},{label:"Hectares Cultivated",value:"5,000+"},{label:"Main Crops",value:"Maize, Beans"},{label:"Livestock Projects",value:"5"}],t=[{src:"https://picsum.photos/seed/agri1/600/400",caption:"Community maize harvest."},{src:"https://picsum.photos/seed/agri2/600/400",caption:"Modern irrigation techniques."}],n=[{season:"Rainy Season (March - May)",crops:"Maize, Beans, Soybeans. Prepare land in February."},{season:"Dry Season (June - August)",crops:"Irrigated vegetables like tomatoes, onions, and cabbage."},{season:"Short Rains (September - November)",crops:"Sweet potatoes, Cassava, Quick-maturing bean varieties."}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Agriculture Sector"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Fostering food security and economic empowerment through sustainable farming practices, cooperative development, and modern agricultural techniques."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Seasonal Planting Guide"}),r.jsx("div",{className:"space-y-4 mb-6",children:n.map(s=>r.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[r.jsx("h4",{className:"font-bold",children:s.season}),r.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.crops})]},s.season))}),r.jsx(lt,{images:t}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Current Initiatives"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:"Distribution of drought-resistant seeds."}),r.jsx("li",{children:"Training on crop rotation and soil management."}),r.jsx("li",{children:"Development of small-scale irrigation systems."}),r.jsx("li",{children:"Support for poultry and goat farming cooperatives."})]})]})},v3=()=>{const e=[{label:"Workshops",value:"25+"},{label:"Primary Trades",value:"5"},{label:"Apprenticeships",value:"150+"},{label:"Products",value:"Furniture, Crafts"}],t=[{src:"https://picsum.photos/seed/ind1/600/400",caption:"Carpentry workshop in action."},{src:"https://picsum.photos/seed/ind2/600/400",caption:"Locally made crafts for sale."}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Industry & Crafts"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Developing local industries and skilled trades to create sustainable livelihoods and promote economic self-sufficiency within the community."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Featured Trades"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:"Carpentry and furniture making."}),r.jsx("li",{children:"Tailoring and textile production."}),r.jsx("li",{children:"Metalworking and welding."}),r.jsx("li",{children:"Handicrafts and artisanal goods."})]}),r.jsx(lt,{images:t}),r.jsxs("div",{className:"mt-8 p-6 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Featured Artisan: Maria K."}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:'"The tailoring program gave me the skills to start my own business. I now employ two other women from my community and we create beautiful clothing for local and regional markets. This initiative has changed our lives."'})]})]})},y3=()=>{const e=[{label:"Active Mines",value:"3"},{label:"Mineral Types",value:"4+"},{label:"Jobs Created",value:"250+"},{label:"Annual Output (Est.)",value:"$5M"}],t=[{src:"https://picsum.photos/seed/mine1/600/400",caption:"Artisanal mining operation."},{src:"https://picsum.photos/seed/mine2/600/400",caption:"Processing raw minerals."}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Mining Sector"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"The mining sector in the region focuses on the responsible extraction of valuable minerals, providing crucial employment and economic stimulus."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Key Activities"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:"Extraction of Coltan, Tin, and Tungsten."}),r.jsx("li",{children:"Training programs for safe and sustainable mining practices."}),r.jsx("li",{children:"Partnerships with international bodies to ensure fair trade."}),r.jsx("li",{children:"Environmental rehabilitation projects for post-mining sites."})]}),r.jsx(lt,{images:t}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Safety & Environmental Practices"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"We are committed to ensuring the safety of all workers and minimizing our environmental impact. All operations follow strict guidelines."}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:"Mandatory use of personal protective equipment (PPE)."}),r.jsx("li",{children:"Regular safety drills and training sessions."}),r.jsx("li",{children:"Water recycling programs to reduce consumption."}),r.jsx("li",{children:"Phased land rehabilitation and reforestation initiatives."})]})]})},w3=()=>{const e=[{label:"Cultural Sites",value:"8"},{label:"Guided Tours",value:"4"},{label:"Annual Visitors",value:"1,200+"},{label:"Local Guides",value:"20+"}],t=[{src:"https://picsum.photos/seed/tour1/600/400",caption:"A guided tour of a local landmark."},{src:"https://picsum.photos/seed/tour2/600/400",caption:"Traditional dance performance for visitors."}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Tourism & Culture"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Showcasing the rich cultural heritage and natural beauty of the region through community-led tourism initiatives."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Experiences Offered"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:"Guided nature walks and bird watching."}),r.jsx("li",{children:"Cultural village tours and homestays."}),r.jsx("li",{children:"Traditional cooking classes."}),r.jsx("li",{children:"Craft markets featuring local artisans."})]}),r.jsx(lt,{images:t}),r.jsxs("div",{className:"mt-8 p-6 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Book a Tour"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Interested in experiencing our culture and natural beauty? Fill out the form below to inquire about our tours."}),r.jsxs("form",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Your Name",className:"w-full p-2 bg-white dark:bg-slate-800 rounded-lg"}),r.jsx("input",{type:"email",placeholder:"Your Email",className:"w-full p-2 bg-white dark:bg-slate-800 rounded-lg"}),r.jsx("textarea",{placeholder:"Your message (e.g., number of people, preferred dates)",rows:3,className:"w-full p-2 bg-white dark:bg-slate-800 rounded-lg"}),r.jsx("button",{type:"submit",className:"w-full py-3 bg-deep-red text-white font-bold rounded-lg hover:bg-red-700 transition-colors",children:"Send Inquiry"})]})]})]})},k3=()=>{const e=[{label:"Local Artists",value:"50+"},{label:"Performance Venues",value:"4"},{label:"Annual Festivals",value:"3"},{label:"Film Screenings",value:"Weekly"}],t=[{src:"https://picsum.photos/seed/ent1/600/400",caption:"Live music performance at the community center."},{src:"https://picsum.photos/seed/ent2/600/400",caption:"Outdoor movie night."}],n=[{name:"Open Mic Night",date:"Every Friday, 7 PM",location:"Community Center B"},{name:'Outdoor Film Screening: "The Boy Who Harnessed the Wind"',date:"Saturday, Oct 28th, 8 PM",location:"Central Sports Field"},{name:"Annual Arts & Crafts Fair",date:"November 10th - 12th",location:"Main Market Square"}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Entertainment & Arts"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Fostering creativity and providing recreational opportunities through music, film, theater, and visual arts programs."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Upcoming Events"}),r.jsx("div",{className:"space-y-4 mb-6",children:n.map(s=>r.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[r.jsx("h4",{className:"font-bold",children:s.name}),r.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[s.date," at ",s.location]})]},s.name))}),r.jsx(lt,{images:t})]})},N3=()=>{const e=[{label:"Sports Teams",value:"20+"},{label:"Pitches & Courts",value:"8"},{label:"Main Sports",value:"Football, Basketball"},{label:"Annual Tournaments",value:"5"}],t=[{src:"https://picsum.photos/seed/sport1/600/400",caption:"A local football match underway."},{src:"https://picsum.photos/seed/sport2/600/400",caption:"Youth basketball training session."}],n=[{sport:"Football",match:"Zone A Lions vs. Zone B Tigers",date:"Oct 29, 4 PM"},{sport:"Basketball",match:"Youth League Finals",date:"Nov 5, 2 PM"},{sport:"Volleyball",match:"Women's Tournament Begins",date:"Nov 11, 9 AM"}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Sports & Recreation"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Promoting physical health, teamwork, and community spirit through organized sports leagues, tournaments, and recreational activities for all ages."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Upcoming Match Fixtures"}),r.jsx("div",{className:"overflow-x-auto mb-6",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"bg-slate-100 dark:bg-slate-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3",children:"Sport"}),r.jsx("th",{className:"p-3",children:"Match"}),r.jsx("th",{className:"p-3",children:"Date & Time"})]})}),r.jsx("tbody",{children:n.map(s=>r.jsxs("tr",{className:"border-b dark:border-slate-700",children:[r.jsx("td",{className:"p-3 font-semibold",children:s.sport}),r.jsx("td",{className:"p-3",children:s.match}),r.jsx("td",{className:"p-3",children:s.date})]},s.match))})]})}),r.jsx(lt,{images:t})]})},C3=()=>{const e=[{label:"Trees Planted",value:"50,000+"},{label:"Recycling Centers",value:"3"},{label:"Clean Energy Projects",value:"8"},{label:"Volunteers",value:"400+"}],t=[{src:"https://picsum.photos/seed/env1/600/400",caption:"Community tree planting day."},{src:"https://picsum.photos/seed/env2/600/400",caption:"Solar panel installation on a community building."}];return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white mb-4",children:"Environment & Energy"}),r.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Promoting sustainable living and protecting our natural resources through reforestation, waste management, and clean energy initiatives."}),r.jsx(at,{stats:e}),r.jsx("h3",{className:"text-2xl font-bold mt-8 mb-4",children:"Core Projects"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[r.jsx("li",{children:'"One Million Trees" reforestation campaign.'}),r.jsx("li",{children:"Community-based waste recycling and composting programs."}),r.jsx("li",{children:"Installation of solar lighting and cooking solutions."}),r.jsx("li",{children:"Environmental education in schools and community centers."})]}),r.jsx(lt,{images:t}),r.jsxs("div",{className:"mt-8 p-6 bg-green-50 dark:bg-green-900/20 rounded-lg border-l-4 border-green-500",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Get Involved!"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Join our weekly community clean-up and tree planting events. Every Saturday at 9 AM, meet at Community Center A. Together, we can make a difference."}),r.jsx("button",{className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Sign Up to Volunteer"})]})]})},Wu=[{name:"Health",icon:lh,component:f3},{name:"Education",icon:r3,component:m3},{name:"Community",icon:Bh,component:h3},{name:"Youth Development",icon:i3,component:p3},{name:"Finance",icon:o3,component:g3},{name:"Agriculture",icon:l3,component:x3},{name:"Industry",icon:a3,component:v3},{name:"Mining",icon:c3,component:y3},{name:"Tourism",icon:d3,component:w3},{name:"Entertainment",icon:ch,component:k3},{name:"Sports",icon:ih,component:N3},{name:"Environment",icon:ah,component:C3}],b3=({name:e,icon:t,onSelect:n})=>r.jsxs("button",{onClick:n,className:"group relative flex flex-col items-center justify-center p-4 bg-white dark:bg-slate-800/50 rounded-lg shadow-lg text-center transition-all duration-300 hover:shadow-2xl hover:shadow-gold/20 dark:hover:shadow-gold/10 transform hover:-translate-y-1",children:[r.jsx("div",{className:"p-3 bg-deep-red/10 dark:bg-gold/10 rounded-full mb-3 transition-transform duration-300 group-hover:scale-110",children:r.jsx(t,{className:"w-6 h-6 text-deep-red dark:text-gold"})}),r.jsx("h3",{className:"font-bold text-md text-slate-800 dark:text-white",children:e})]}),S3=({onClose:e,settings:t})=>{var y;const[n,s]=w.useState(null),[o,i]=w.useState([]),[l,c]=w.useState(""),[f,u]=w.useState(!1),[m,h]=w.useState(""),[p,v]=w.useState(null),k=w.useRef(null),{t:N}=G(),j=(y=Wu.find(C=>C.name===n))==null?void 0:y.component;w.useEffect(()=>{i([{role:"model",content:N("mahamaWelcome"),id:Date.now()}]),navigator.geolocation.getCurrentPosition(C=>{v({latitude:C.coords.latitude,longitude:C.coords.longitude})},()=>{})},[N]),w.useEffect(()=>{var C;(C=k.current)==null||C.scrollIntoView({behavior:"smooth"})},[o,f]);const x=async C=>{typeof C!="string"&&C.preventDefault();const b=typeof C=="string"?C:l;if(!b.trim()||f)return;const S={role:"user",content:b,id:Date.now()};i(E=>[...E,S]),typeof C!="string"&&c(""),u(!0),h("");try{const A={role:"model",content:await ek(b,p,t),id:Date.now()+1};i(T=>[...T,A])}catch(E){h(E.message||"Failed to get information.")}finally{u(!1)}},g=[N("mahamaPrompt1"),N("mahamaPrompt2"),N("mahamaPrompt3")];return r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("header",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 dark:text-white",children:"Mahama Services"}),r.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Your central hub for services and information in Mahama."})]}),r.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:r.jsx(O,{})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("main",{className:"lg:col-span-2",children:j?r.jsx(u3,{title:n,onBack:()=>s(null),children:r.jsx(j,{})}):r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"h-[400px] rounded-lg overflow-hidden shadow-lg border-2 border-slate-200 dark:border-slate-700",children:r.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d33720.905719681876!2d30.62771907143557!3d-2.2624932009653294!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1skirehe%20nyakarambi!5e1!3m2!1sen!2srw!4v1761059383673!5m2!1sen!2srw",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Explore Service Sectors"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:Wu.map(C=>r.jsx(b3,{name:C.name,icon:C.icon,onSelect:()=>s(C.name)},C.name))})]})]})}),r.jsx("aside",{className:"lg:col-span-1",children:r.jsx("div",{className:"sticky top-28 space-y-8",children:r.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-lg shadow-md flex flex-col h-[75vh] max-h-[800px]",children:[r.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(s3,{className:"w-6 h-6 text-deep-red dark:text-gold"}),r.jsx("div",{children:r.jsx("h3",{className:"font-bold text-lg",children:"AI Assistant"})})]})}),r.jsxs("div",{className:"p-4 flex-grow overflow-y-auto space-y-4",children:[o.map(C=>r.jsx("div",{className:`flex ${C.role==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[85%] p-3 rounded-lg text-sm prose dark:prose-invert max-w-none ${C.role==="user"?"bg-deep-red text-white":"bg-slate-100 dark:bg-slate-700"}`,children:r.jsx("p",{dangerouslySetInnerHTML:{__html:C.content.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:underline">$1</a>')}})})},C.id)),f&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"p-3 rounded-lg bg-slate-100 dark:bg-slate-700",children:r.jsx("span",{className:"inline-block w-2 h-4 bg-slate-500 dark:bg-slate-300 animate-blink"})})}),r.jsx("div",{ref:k})]}),r.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 flex-shrink-0",children:[o.length<=1&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:g.map(C=>r.jsx("button",{onClick:()=>x(C),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-700 rounded-full text-xs font-semibold hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:C},C))}),m&&r.jsx("p",{className:"text-red-500 text-sm text-center mb-2",children:m}),r.jsx("form",{onSubmit:x,children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:l,onChange:C=>c(C.target.value),placeholder:N("mahamaAskPlaceholder"),disabled:f,className:"w-full p-3 pr-12 bg-slate-100 dark:bg-slate-700 rounded-full border-transparent focus:ring-2 focus:ring-deep-red"}),r.jsx("button",{type:"submit",disabled:f||!l.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 w-9 h-9 bg-deep-red text-white rounded-full flex items-center justify-center disabled:bg-slate-400 dark:disabled:bg-slate-600 transition-colors",children:r.jsx(ps,{className:"w-5 h-5"})})]})})]})]})})})]})]})},T3=({articles:e,onCompare:t,onRemove:n,onClear:s})=>{const{t:o}=G(),i=e.length;return i===0?null:r.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-40 animate-slide-up",children:r.jsxs("div",{className:"flex items-center gap-2 bg-white/80 dark:bg-navy/80 backdrop-blur-md rounded-full shadow-2xl p-2 border border-slate-200 dark:border-slate-700",children:[e.map(l=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-12 h-12 rounded-full object-cover"}),r.jsx("button",{onClick:()=>n(l.id),className:"absolute inset-0 bg-black/60 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(O,{className:"w-5 h-5 text-white"})})]},l.id)),i<2&&r.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-dashed border-slate-300 dark:border-slate-600"}),r.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 mx-2"}),i===2?r.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-deep-red text-white font-bold rounded-full text-sm",children:[r.jsx(Qo,{className:"w-5 h-5"}),o("compareNow")]}):r.jsx("p",{className:"px-4 text-sm font-semibold text-slate-500 whitespace-nowrap",children:o("comparisonPrompt")}),r.jsx("button",{onClick:s,title:o("clearComparison"),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white",children:r.jsx(O,{className:"w-5 h-5"})})]})})},E3=({isOpen:e,articles:t,settings:n,onClose:s})=>{const[o,i]=w.useState(""),[l,c]=w.useState(!1),[f,u]=w.useState(""),{t:m}=G();w.useEffect(()=>{t.length===2&&e&&(async()=>{c(!0),u(""),i("");try{const v=await X5(t[0],t[1],n);for await(const k of v)i(N=>N+k)}catch(v){u(v.message||"Failed to generate comparison.")}finally{c(!1)}})()},[t,e,n]);const h=w.useMemo(()=>o.replace(/## (.*)/g,'<h2 class="text-xl font-bold text-deep-red dark:text-gold my-4">$1</h2>').replace(/\* \*(.*?)\* \*/g,"<strong>$1</strong>").replace(/\n/g,"<br />"),[o]);return e?r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsxs("div",{className:"relative w-full max-w-4xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col",onClick:p=>p.stopPropagation(),style:{height:"clamp(500px, 90vh, 800px)"},children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Qo,{className:"w-8 h-8 text-deep-red dark:text-gold"}),r.jsx("h3",{className:"font-bold text-2xl",children:m("comparisonTitle")})]})]}),r.jsxs("div",{className:"flex-grow overflow-y-auto grid grid-cols-1 md:grid-cols-3",children:[r.jsx("div",{className:"col-span-1 md:col-span-3 p-6 border-b md:border-b-0 md:border-r border-slate-200 dark:border-slate-700 grid grid-cols-2 gap-4",children:t.map(p=>r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold",children:p.title}),r.jsx("p",{className:"text-sm text-slate-500 line-clamp-3",children:p.excerpt})]},p.id))}),r.jsxs("div",{className:"md:col-span-3 p-6",children:[r.jsxs("h3",{className:"flex items-center gap-2 text-xl font-bold mb-3",children:[r.jsx(xe,{className:"text-gold w-5 h-5"})," AI Analysis"]}),f&&r.jsx("p",{className:"text-red-500",children:f}),r.jsx("div",{className:"prose dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",dangerouslySetInnerHTML:{__html:h}}),l&&r.jsx("span",{className:"inline-block w-2 h-5 bg-slate-600 dark:bg-slate-300 animate-blink ml-1"})]})]})]})}):null},As=["videoLoadingMessage1","videoLoadingMessage2","videoLoadingMessage3","videoLoadingMessage4","videoLoadingMessage5"],j3=({isOpen:e,onClose:t,script:n})=>{const[s,o]=w.useState(null),[i,l]=w.useState(!1),[c,f]=w.useState(""),[u,m]=w.useState(As[0]),h=w.useRef(),{t:p}=G();return w.useEffect(()=>(e&&n&&(async()=>{l(!0),f(""),o(null),m(As[0]),h.current=window.setInterval(()=>{m(k=>{const N=As.indexOf(k);return As[(N+1)%As.length]})},7e3);try{const k=await Z5(n);o(`${k}&key=undefined`)}catch(k){k.message.includes("Requested entity was not found.")?f("API key error. Please re-select your key and try again."):f(p("videoError")),console.error(k)}finally{l(!1),clearInterval(h.current)}})(),()=>{clearInterval(h.current)}),[e,n,p]),e?r.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",onClick:t,children:r.jsxs("div",{className:"relative w-full max-w-3xl bg-navy rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col",onClick:v=>v.stopPropagation(),children:[r.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(pp,{className:"w-6 h-6 text-deep-red"}),r.jsx("h3",{className:"font-bold text-xl text-white",children:p("aiAnchorVideo")})]}),r.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:r.jsx(O,{})})]}),r.jsx("div",{className:"aspect-video bg-black flex items-center justify-center",children:i?r.jsxs("div",{className:"text-center text-white",children:[r.jsx(qe,{className:"w-12 h-12 mx-auto text-deep-red"}),r.jsx("p",{className:"mt-4 font-semibold",children:p(u)}),r.jsx("p",{className:"text-sm text-slate-400 mt-1",children:p("generatingVideoDesc")})]}):c?r.jsx("p",{className:"text-red-400 p-4 text-center",children:c}):s?r.jsx("video",{src:s,controls:!0,autoPlay:!0,className:"w-full h-full"}):null})]})}):null},A3=({isOpen:e,movie:t,settings:n,onClose:s})=>{const[o,i]=w.useState(""),[l,c]=w.useState(!1),[f,u]=w.useState("");w.useEffect(()=>{t&&e&&(async()=>{c(!0),u(""),i("");try{const p=await tk(t,n);for await(const v of p)i(k=>k+v)}catch(p){u(p.message||"Failed to generate deep dive.")}finally{c(!1)}})()},[t,e,n]);const m=w.useMemo(()=>o.replace(/### (.*)/g,'<h3 class="text-lg font-bold my-2">$1</h3>').replace(/## (.*)/g,'<h2 class="text-xl font-bold text-deep-red dark:text-gold my-4">$1</h2>').replace(/\* \*(.*?)\* \*/g,"<strong>$1</strong>").replace(/\* (.*)/g,'<li class="ml-4">$1</li>').replace(/\n/g,"<br />"),[o]);return!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsxs("div",{className:"relative w-full max-w-3xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col",onClick:h=>h.stopPropagation(),style:{height:"clamp(500px, 90vh, 800px)"},children:[r.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xe,{className:"w-8 h-8 text-deep-red dark:text-gold"}),r.jsx("h3",{className:"font-bold text-2xl",children:"AI Deep Dive"})]}),r.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:['A comprehensive look at "',t.title,'"']})]}),r.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[f&&r.jsx("p",{className:"text-red-500",children:f}),r.jsx("div",{className:"prose dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",dangerouslySetInnerHTML:{__html:m}}),l&&r.jsx("span",{className:"inline-block w-2 h-5 bg-slate-600 dark:bg-slate-300 animate-blink ml-1"})]})]})})},I3=async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch image: ${t.statusText}`);const n=await t.blob();return new Promise((s,o)=>{const i=new FileReader;i.onloadend=()=>{const c=i.result.split(",")[1];s({base64:c,mimeType:n.type})},i.onerror=o,i.readAsDataURL(n)})},_3=({isOpen:e,article:t,settings:n,onClose:s})=>{var x;const[o,i]=w.useState([]),[l,c]=w.useState(""),[f,u]=w.useState(!1),[m,h]=w.useState(""),[p,v]=w.useState(null),k=w.useRef(null),N=["Describe this image in detail.","What is the context of this image?","Are there any notable objects or people?"];w.useEffect(()=>{e&&t?(i([{role:"model",content:"What would you like to know about this image?",id:Date.now()}]),(async()=>{u(!0);try{const y=await I3(t.imageUrl);v(y)}catch{h("Could not load image for analysis.")}finally{u(!1)}})()):setTimeout(()=>{i([]),c(""),u(!1),h(""),v(null)},300)},[e,t]),w.useEffect(()=>{var g;(g=k.current)==null||g.scrollIntoView({behavior:"smooth"})},[o,f]);const j=async g=>{typeof g!="string"&&g.preventDefault();const y=typeof g=="string"?g:l;if(!p||!y.trim()||f)return;const C={role:"user",content:y,id:Date.now()};i(S=>[...S,C]),typeof g!="string"&&c(""),u(!0),h("");const b={role:"model",content:"",id:Date.now()+1};i(S=>[...S,b]);try{const S=await nk(p.base64,p.mimeType,y,o,n);for await(const E of S)i(A=>{const T=A[A.length-1];return T&&T.role==="model"?(T.content+=E,[...A.slice(0,-1),T]):A})}catch(S){h(S.message||"Failed to generate response."),i(E=>{const A=E[E.length-1];return A&&A.role==="model"?(A.content="Sorry, an error occurred during analysis. Please try again.",[...E.slice(0,-1),A]):E})}finally{u(!1)}};return!e||!t?null:r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-fade-in",onClick:s,children:r.jsxs("div",{className:"relative w-full max-w-4xl bg-white dark:bg-slate-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 animate-slide-up flex flex-col md:flex-row",onClick:g=>g.stopPropagation(),style:{height:"clamp(500px, 90vh, 700px)"},children:[r.jsx("div",{className:"w-full md:w-1/2 flex-shrink-0 bg-black",children:r.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-contain"})}),r.jsxs("div",{className:"w-full md:w-1/2 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:[r.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white z-10",children:r.jsx(O,{})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xe,{className:"w-6 h-6 text-deep-red dark:text-gold"}),r.jsx("h3",{className:"font-bold text-xl",children:"Analyze Image"})]})]}),r.jsxs("div",{className:"p-4 flex-grow overflow-y-auto space-y-4",children:[o.map(g=>r.jsx("div",{className:`flex ${g.role==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[85%] p-3 rounded-lg text-sm ${g.role==="user"?"bg-deep-red text-white":"bg-slate-100 dark:bg-slate-700"}`,children:g.content})},g.id)),f&&((x=o[o.length-1])==null?void 0:x.role)==="model"&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"p-3 rounded-lg bg-slate-100 dark:bg-slate-700",children:r.jsx("span",{className:"inline-block w-2 h-4 bg-slate-500 dark:bg-slate-300 animate-blink"})})}),m&&r.jsx("p",{className:"text-red-500 text-sm",children:m}),r.jsx("div",{ref:k})]}),r.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 flex-shrink-0",children:[o.length<=1&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:N.map(g=>r.jsx("button",{onClick:()=>j(g),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-700 rounded-full text-xs font-semibold hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:g},g))}),r.jsx("form",{onSubmit:g=>j(g),children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"Ask about the image...",disabled:f||!p,className:"w-full p-3 pr-12 bg-slate-100 dark:bg-slate-700 rounded-full border-transparent focus:ring-2 focus:ring-deep-red"}),r.jsx("button",{type:"submit",disabled:f||!l.trim()||!p,className:"absolute right-2 top-1/2 -translate-y-1/2 w-9 h-9 bg-deep-red text-white rounded-full flex items-center justify-center disabled:bg-slate-400 dark:disabled:bg-slate-600 transition-colors",children:r.jsx(ps,{className:"w-5 h-5"})})]})})]})]})]})})},zi={theme:"system",fontSize:16,fontFamily:"sans",aiModelPreference:"Speed",summaryLength:"medium",contentPreferences:[],autoTranslate:!1,preferredLanguage:"English",showCounterpoint:!0,showInnovationTimelines:!0,showMahama360:!0,showNewsMap:!1,showDataInsights:!0,showNowStreaming:!0,interactiveGlossary:!0,aiReadingLens:"None",ttsVoice:"Zephyr",aiVoicePersonality:"Friendly",homepageLayout:"Standard",notificationPreferences:{breakingNews:!0,dailyDigest:!1,aiRecommendations:!0},subscriptionTier:"Free",informationDensity:"Comfortable",highContrast:!1,reduceMotion:!1,dyslexiaFont:!1},M3=["summarize","explain","quiz","counterpoint","behindTheNews","expertAnalysis","askAuthor","briefing","factCheckPage","deepDive","infographic","live","compare","aiAnchorVideo","movieDeepDive","analyzeImage"],Hi=["askAuthor","deepDive","counterpoint","expertAnalysis","factCheckPage","infographic","briefing","aiAnchorVideo","movieDeepDive","analyzeImage"],P3=()=>{const{isTranslating:e,language:t}=G();return e?r.jsxs("div",{className:"fixed bottom-4 left-4 z-[100] bg-slate-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in",children:[r.jsx(Vh,{className:"text-gold"}),r.jsxs("span",{className:"text-sm font-semibold",children:["Translating UI to ",t,"..."]})]}):null},L3=()=>{var cc;const[e,t]=w.useState(()=>{try{const I=localStorage.getItem("mahamaHubSettings");return I?{...zi,...JSON.parse(I)}:zi}catch{return zi}}),[n,s]=w.useState(null),[o,i]=w.useState(null),[l,c]=w.useState(!1),[f,u]=w.useState(!1),[m,h]=w.useState("For You"),[p,v]=w.useState(null),[k,N]=w.useState(!1),[j,x]=w.useState(null),[g,y]=w.useState(!1),[C,b]=w.useState(!1),[S,E]=w.useState(null),[A,T]=w.useState(null),[_,D]=w.useState(null),[V,B]=w.useState(null),[Q,be]=w.useState(null),[K,we]=w.useState(!1),[P,U]=w.useState([]),[F,$]=w.useState(null),[W,Pe]=w.useState(null),[Le,xt]=w.useState(null),[H,vt]=w.useState($s),[ec,xr]=w.useState([]);w.useRef([..._x]);const[gs,vr]=w.useState([]),[jn,xs]=w.useState(!1),[yt,vs]=w.useState(_t),[wt,ys]=w.useState([]),[ei,ie]=w.useState([]),[fe,ke]=w.useState([]),[Gt,kt]=w.useState(null),[An,ti]=w.useState(null),[tc,nc]=w.useState(null),[sc,rc]=w.useState(!0),[ni,D3]=w.useState([]),[oc,F3]=w.useState(!1),[si,U3]=w.useState([]),[ri,V3]=w.useState(!1),[Cp,B3]=w.useState([]),[bp,z3]=w.useState(!1),[Sp,H3]=w.useState([]),[Tp,G3]=w.useState(!1),[Ep,$3]=w.useState(null),[jp,q3]=w.useState(!1),[Ap,W3]=w.useState([]),[Ip,J3]=w.useState(!1),[_p,Y3]=w.useState([]),[Mp,O3]=w.useState(!1);w.useEffect(()=>{localStorage.setItem("mahamaHubSettings",JSON.stringify(e));const I=window.document.documentElement;I.classList.toggle("dark",e.theme==="dark"||e.theme==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches),I.style.fontSize=`${e.fontSize}px`,I.classList.remove("font-sans","font-serif","font-dyslexic"),e.dyslexiaFont?I.classList.add("font-dyslexic"):I.classList.add(e.fontFamily==="sans"?"font-sans":"font-serif"),I.classList.toggle("high-contrast",e.highContrast),I.classList.toggle("reduce-motion",e.reduceMotion),document.body.classList.remove("density-comfortable","density-compact"),document.body.classList.add(`density-${e.informationDensity.toLowerCase()}`)},[e]),w.useEffect(()=>{try{const Z=localStorage.getItem("kireheTVBookmarks");Z&&ys(JSON.parse(Z))}catch(Z){console.error("Failed to load bookmarks",Z)}(async()=>{const Z=await Di();ie(Z);const li=await Ri();ke(li)})();const J=async()=>{console.warn("Geolocation failed or was denied. Fetching weather for a default location.");try{const Z=await Nd(40.7128,-74.006);nc({...Z,locationName:"New York, NY"})}catch(Z){console.error("Failed to fetch default weather",Z)}finally{rc(!1)}};navigator.geolocation?navigator.geolocation.getCurrentPosition(async Z=>{const{latitude:li,longitude:Op}=Z.coords;try{const ai=await Nd(li,Op);nc(ai)}catch(ai){console.error("Failed to fetch weather for current location.",ai),J()}finally{rc(!1)}},Z=>{console.error(`Geolocation error: ${Z.message}`),J()}):(console.warn("Geolocation is not supported by this browser."),J())},[]);const Pp=w.useMemo(()=>H.filter(I=>wt.includes(I.id)),[wt,H]),yr=I=>{t(I)},pe=(I,J)=>{if(M3.includes(I)&&!jn){E("login");return}if(I==="settings"){N(!0);return}if(Hi.includes(I)&&e.subscriptionTier!=="Premium"){E("subscribe");return}T(J||n||null),E(I)},ic=I=>{if(!jn){E("login");return}D(I)},Lp=I=>{if(Hi.includes("analyzeImage")&&e.subscriptionTier!=="Premium"){E("subscribe");return}if(!jn){E("login");return}xt(I)},le=()=>{E(null),T(null)},Nt=I=>{s(I),i(null),E(null),N(!1)},wr=I=>{i(I),s(null),E(null),N(!1)},Rp=I=>{if(Hi.includes("movieDeepDive")&&e.subscriptionTier!=="Premium"){E("subscribe");return}Pe(I)},oi=I=>{be(I)},kr=()=>{s(null),i(null),N(!1),x(null),b(!1)},ii=I=>{const J=wt.includes(I)?wt.filter(Z=>Z!==I):[...wt,I];ys(J),localStorage.setItem("kireheTVBookmarks",JSON.stringify(J))},Dp=w.useCallback(async I=>{kt(I.id);try{await Bx(I);const J=await Di();ie(J);const Z=await Ri();ke(Z)}catch(J){console.error("Failed to save article for offline",J)}finally{kt(null)}},[]),Fp=w.useCallback(async I=>{try{await zx(I);const J=await Di();ie(J);const Z=await Ri();ke(Z)}catch(J){console.error("Failed to delete offline article",J)}},[]),Up=async()=>{try{await Hx(),ie([]),ke([])}catch(I){console.error("Failed to clear offline articles",I)}},Vp=()=>{ys([]),localStorage.removeItem("kireheTVBookmarks")},Bp=()=>{xs(!0),E(null)},zp=()=>xs(!1),Hp=(I,J)=>{I==="Premium"?(B(J),E("payment")):(yr({...e,subscriptionTier:I}),E(null))},Gp=()=>{yr({...e,subscriptionTier:"Premium"}),E(null),B(null)},$p=()=>{s(null),i(null),N(!1),c(!1),b(!1),h("For You"),v(null),window.scrollTo(0,0)},lc=I=>{I!==m&&(y(!0),setTimeout(()=>{I==="Movies & TV"?(c(!0),u(!1),s(null)):I==="Mahama Investigates"?(u(!0),c(!1),s(null)):(c(!1),u(!1),s(null)),h(I),v(null),window.scrollTo(0,0),y(!1)},1e3))},ac=I=>{v(I),window.scrollTo(0,0)},qp=w.useMemo(()=>{let I=H;return m==="For You"?I.filter(J=>e.contentPreferences.length===0||e.contentPreferences.includes(J.category)||J.sentiment==="Positive").slice(0,15):(m!=="All"&&(I=I.filter(J=>J.category===m)),I)},[H,m,p,e.contentPreferences]),Wp=I=>{if(P.length<2&&!P.find(J=>J.id===I)){const J=H.find(Z=>Z.id===I);J&&U(Z=>[...Z,J])}},Jp=I=>{U(J=>J.filter(Z=>Z.id!==I))},Yp=r.jsxs(r.Fragment,{children:[g&&r.jsx(e3,{}),n&&r.jsx(PN,{}),r.jsx(fk,{onMenuClick:()=>pe("categoryExplorer"),onSearchClick:()=>pe("search"),onMahamaServicesClick:()=>b(!0),onProfileAndSettingsClick:()=>N(!0),onLogoClick:$p,isAuthenticated:jn,onLoginClick:()=>E("login"),onLogout:zp,user:yt,onNotificationsClick:()=>we(I=>!I),notifications:gs,settings:e,onSettingsChange:yr,isTranslating:!1}),r.jsxs("main",{className:"pt-20",children:[!n&&!o&&!k&&!j&&!C&&r.jsx(Dk,{headlines:H.slice(0,5).map(I=>I.title)}),r.jsx("div",{className:"sticky top-20 z-30",children:!n&&!o&&!k&&!j&&!C&&r.jsx(Uk,{categories:Dl,currentCategory:m,currentSubCategory:p,onSelectCategory:lc,onSelectSubCategory:ac,onGenerateBriefing:()=>pe("briefing"),subscriptionTier:e.subscriptionTier})}),r.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 transition-all duration-300",children:C?r.jsx(S3,{onClose:kr}):n?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-12 gap-8",children:[r.jsx("div",{className:"md:col-span-2 lg:col-span-8",children:r.jsx(hN,{article:n,onClose:kr,isBookmarked:wt.includes(n.id),onToggleBookmark:ii,onReadMore:Nt,onSummarize:I=>pe("summarize",I),onExplainSimply:I=>pe("explain",I),onTextToSpeech:ic,onQuiz:I=>pe("quiz",I),onCounterpoint:I=>pe("counterpoint",I),onBehindTheNews:I=>pe("behindTheNews",I),onExpertAnalysis:I=>pe("expertAnalysis",I),onAskAuthor:I=>pe("askAuthor",I),onFactCheckPage:I=>pe("factCheckPage",I),onDeepDive:I=>pe("deepDive",I),onInfographic:I=>pe("infographic",I),onAnalyzeImage:Lp,settings:e,onPremiumClick:()=>E("subscribe"),keyConcepts:ni,timelineEvents:si,timelineLoading:ri,pullQuotes:Ap,pullQuotesLoading:Ip,tags:_p,tagsLoading:Mp,factCheckResult:Ep,factCheckLoading:jp,aiTakeaways:Sp,takeawaysLoading:Tp,communityHighlights:Cp,highlightsLoading:bp})}),r.jsx("div",{className:"md:col-span-1 lg:col-span-4",children:r.jsx(zu,{allArticles:H,trendingArticles:H.slice(1,6),onArticleClick:Nt,activeArticle:n,settings:e,onGoPremium:()=>E("subscribe"),weatherData:tc,isWeatherLoading:sc,isSettingsOpen:k,user:yt,keyConcepts:ni,conceptsLoading:oc,timelineEvents:si,timelineLoading:ri})})]}):o?r.jsx(TC,{movie:o,onClose:kr,onWatchMovie:wr,onDeepDive:Rp}):k?r.jsx(kC,{user:yt,onUserChange:vs,settings:e,onSettingsChange:yr,onClose:kr,onClearBookmarks:Vp,onClearOffline:Up,onManageSubscription:()=>E("subscribe"),readingHistory:H.slice(5,10)}):j?r.jsxs(r.Fragment,{children:[j==="about"&&r.jsx(OC,{isOpen:!0,onClose:()=>x(null)}),j==="careers"&&r.jsx(KC,{isOpen:!0,onClose:()=>x(null)}),j==="contact"&&r.jsx(QC,{isOpen:!0,onClose:()=>x(null)}),j==="advertise"&&r.jsx(XC,{isOpen:!0,onClose:()=>x(null)})]}):l?r.jsx(UN,{onWatchMovie:wr,onWatchTrailer:oi,settings:e}):f?r.jsx(zN,{onArticleClick:Nt}):r.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-x-0 lg:gap-x-8",children:[r.jsxs("div",{className:"md:col-span-2",children:[m==="For You"&&r.jsx(mk,{article:H[0],onReadMore:()=>Nt(H[0])}),r.jsx("div",{className:"mt-8",children:r.jsx(wk,{articles:qp,onSummarize:I=>pe("summarize",I),onExplainSimply:I=>pe("explain",I),onTextToSpeech:ic,onReadMore:Nt,audioState:{playingArticleId:((cc=An==null?void 0:An.article)==null?void 0:cc.id)||null,isGenerating:!1},bookmarkedArticleIds:wt,onToggleBookmark:ii,offlineArticleIds:ei,downloadingArticleId:Gt,onDownloadArticle:Dp,comparisonList:P.map(I=>I.id),onAddToCompare:Wp,layout:e.homepageLayout==="Dashboard"?"grid":"default"})}),e.showMahama360&&r.jsx(vN,{articles:H.slice(7,10),onArticleClick:Nt}),e.showDataInsights&&r.jsx(yN,{}),r.jsx(kN,{podcasts:Mx}),e.showInnovationTimelines&&r.jsx(jN,{}),e.showNowStreaming&&r.jsx(HN,{onWatchMovie:wr,onWatchTrailer:oi}),r.jsx(VN,{})]}),r.jsx(zu,{allArticles:H,trendingArticles:H.slice(1,6),onArticleClick:Nt,activeArticle:n,settings:e,onGoPremium:()=>E("subscribe"),weatherData:tc,isWeatherLoading:sc,isSettingsOpen:k,user:yt,keyConcepts:ni,conceptsLoading:oc,timelineEvents:si,timelineLoading:ri})]})})]}),!n&&!o&&!k&&!j&&!C&&r.jsx(MN,{onInfoPageClick:x}),r.jsx(GN,{isOpen:S==="summarize",article:A,settings:e,onClose:le}),r.jsx(qN,{isOpen:S==="explain",article:A,settings:e,onClose:le}),r.jsx(JN,{isOpen:S==="quiz",article:A,settings:e,onClose:le}),r.jsx(YN,{isOpen:S==="counterpoint",article:A,settings:e,onClose:le}),r.jsx(ON,{isOpen:S==="behindTheNews",article:A,settings:e,onClose:le}),r.jsx(KN,{isOpen:S==="expertAnalysis",article:A,settings:e,onClose:le}),r.jsx(QN,{isOpen:S==="askAuthor",article:A,settings:e,onClose:le}),r.jsx(BC,{isOpen:S==="deepDive",article:A,settings:e,onClose:le}),r.jsx(GC,{isOpen:S==="infographic",article:A,settings:e,onClose:le}),r.jsx(FC,{isOpen:S==="factCheckPage",onClose:le,settings:e,pageContent:(n==null?void 0:n.content)||""}),r.jsx(nC,{isOpen:S==="search",onClose:le,articles:H,movies:Pt,onArticleSelect:Nt,onMovieSelect:wr,onWatchTrailer:oi,settings:e}),r.jsx(rC,{isOpen:S==="categoryExplorer",onClose:le,categories:Dl,onCategorySelect:I=>{lc(I),le()},onSubCategorySelect:I=>{ac(I),le()},onBookmarksClick:()=>pe("bookmarks"),onOfflineClick:()=>pe("offline"),onSettingsClick:()=>N(!0)}),r.jsx(oC,{isOpen:S==="bookmarks",onClose:le,bookmarkedArticles:Pp,onToggleBookmark:ii,onReadArticle:Nt}),r.jsx(iC,{isOpen:S==="offline",onClose:le,offlineArticles:fe,onDeleteArticle:Fp,onReadArticle:Nt}),r.jsx(SC,{isOpen:S==="login",onClose:le,onLogin:Bp}),r.jsx(jC,{isOpen:S==="subscribe",onClose:le,onSubscribe:Hp}),r.jsx(YC,{isOpen:S==="payment",onClose:le,onSuccess:Gp,plan:V}),r.jsx(AC,{isOpen:S==="briefing",onClose:le,settings:e,articles:H,onPlayBriefing:I=>ti({article:I}),onGenerateVideo:I=>{$(I),pe("aiAnchorVideo")}}),r.jsx(_C,{isOpen:S==="live",onClose:le}),r.jsx(VC,{isOpen:!!_,article:_,settings:e,onClose:()=>D(null),onPlay:(I,J,Z)=>ti({article:{...I,content:J},voiceOverride:Z})}),r.jsx(ZC,{isOpen:!!Q,onClose:()=>be(null),trailerUrl:Q}),r.jsx(n3,{isOpen:K,onClose:()=>we(!1),notifications:gs,onMarkAsRead:()=>{},onMarkAllAsRead:()=>{}}),r.jsx(T3,{articles:P,onCompare:()=>pe("compare"),onRemove:Jp,onClear:()=>U([])}),r.jsx(E3,{isOpen:S==="compare",articles:P,settings:e,onClose:le}),r.jsx(j3,{isOpen:S==="aiAnchorVideo",onClose:le,script:F}),r.jsx(A3,{isOpen:!!W,movie:W,settings:e,onClose:()=>Pe(null)}),r.jsx(_3,{isOpen:!!Le,article:Le,settings:e,onClose:()=>xt(null)}),r.jsx(RC,{state:An,onStateChange:ti,voice:e.ttsVoice}),!n&&!o&&r.jsx(DC,{onClick:()=>pe("live")})]});return r.jsx(sk,{language:e.preferredLanguage,settings:e,children:r.jsxs("div",{className:"bg-slate-50 dark:bg-navy text-slate-900 dark:text-slate-200 min-h-screen",children:[Yp,r.jsx(P3,{})]})})},Np=document.getElementById("root");if(!Np)throw new Error("Could not find root element to mount to");const R3=Gi.createRoot(Np);R3.render(r.jsx(eo.StrictMode,{children:r.jsx(L3,{})}));
